<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Epoch: Epoch_GUI/qcustomplot.cpp Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="index.jpeg"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Epoch
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Acquisition Framework for the Emotiv EPOC headset</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('qcustomplot_8cpp.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Epoch_GUI/qcustomplot.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="qcustomplot_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/***************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">**                                                                        **</span>
<a name="l00003"></a>00003 <span class="comment">**  QCustomPlot, a simple to use, modern plotting widget for Qt           **</span>
<a name="l00004"></a>00004 <span class="comment">**  Copyright (C) 2012 Emanuel Eichhammer                                 **</span>
<a name="l00005"></a>00005 <span class="comment">**                                                                        **</span>
<a name="l00006"></a>00006 <span class="comment">**  This program is free software: you can redistribute it and/or modify  **</span>
<a name="l00007"></a>00007 <span class="comment">**  it under the terms of the GNU General Public License as published by  **</span>
<a name="l00008"></a>00008 <span class="comment">**  the Free Software Foundation, either version 3 of the License, or     **</span>
<a name="l00009"></a>00009 <span class="comment">**  (at your option) any later version.                                   **</span>
<a name="l00010"></a>00010 <span class="comment">**                                                                        **</span>
<a name="l00011"></a>00011 <span class="comment">**  This program is distributed in the hope that it will be useful,       **</span>
<a name="l00012"></a>00012 <span class="comment">**  but WITHOUT ANY WARRANTY; without even the implied warranty of        **</span>
<a name="l00013"></a>00013 <span class="comment">**  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         **</span>
<a name="l00014"></a>00014 <span class="comment">**  GNU General Public License for more details.                          **</span>
<a name="l00015"></a>00015 <span class="comment">**                                                                        **</span>
<a name="l00016"></a>00016 <span class="comment">**  You should have received a copy of the GNU General Public License     **</span>
<a name="l00017"></a>00017 <span class="comment">**  along with this program.  If not, see http://www.gnu.org/licenses/.   **</span>
<a name="l00018"></a>00018 <span class="comment">**                                                                        **</span>
<a name="l00019"></a>00019 <span class="comment">****************************************************************************</span>
<a name="l00020"></a>00020 <span class="comment">**           Author: Emanuel Eichhammer                                   **</span>
<a name="l00021"></a>00021 <span class="comment">**  Website/Contact: http://www.WorksLikeClockwork.com/                   **</span>
<a name="l00022"></a>00022 <span class="comment">**             Date: 09.06.12                                             **</span>
<a name="l00023"></a>00023 <span class="comment">****************************************************************************/</span>
<a name="l00024"></a>00024 
<a name="l00177"></a>00177 <span class="preprocessor">#include &quot;<a class="code" href="qcustomplot_8h.html">qcustomplot.h</a>&quot;</span>
<a name="l00178"></a>00178 
<a name="l00179"></a>00179 <span class="comment">// ================================================================================</span>
<a name="l00180"></a>00180 <span class="comment">// =================== QCPData</span>
<a name="l00181"></a>00181 <span class="comment">// ================================================================================</span>
<a name="l00182"></a>00182 
<a name="l00200"></a><a class="code" href="class_q_c_p_data.html#a1f06d624e36ba0ed72ac36d42aa5c7ee">00200</a> <a class="code" href="class_q_c_p_data.html#a1f06d624e36ba0ed72ac36d42aa5c7ee">QCPData::QCPData</a>() :
<a name="l00201"></a>00201   key(0),
<a name="l00202"></a>00202   value(0),
<a name="l00203"></a>00203   keyErrorPlus(0),
<a name="l00204"></a>00204   keyErrorMinus(0),
<a name="l00205"></a>00205   valueErrorPlus(0),
<a name="l00206"></a>00206   valueErrorMinus(0)
<a name="l00207"></a>00207 {
<a name="l00208"></a>00208 }
<a name="l00209"></a>00209 
<a name="l00213"></a><a class="code" href="class_q_c_p_data.html#aa274181ae8de2a0907ba5464d3c2c103">00213</a> <a class="code" href="class_q_c_p_data.html#a1f06d624e36ba0ed72ac36d42aa5c7ee">QCPData::QCPData</a>(<span class="keywordtype">double</span> key, <span class="keywordtype">double</span> value) :
<a name="l00214"></a>00214   key(key),
<a name="l00215"></a>00215   value(value),
<a name="l00216"></a>00216   keyErrorPlus(0),
<a name="l00217"></a>00217   keyErrorMinus(0),
<a name="l00218"></a>00218   valueErrorPlus(0),
<a name="l00219"></a>00219   valueErrorMinus(0)
<a name="l00220"></a>00220 {
<a name="l00221"></a>00221 }
<a name="l00222"></a>00222 
<a name="l00223"></a>00223 <span class="comment">// ================================================================================</span>
<a name="l00224"></a>00224 <span class="comment">// =================== QCPCurveData</span>
<a name="l00225"></a>00225 <span class="comment">// ================================================================================</span>
<a name="l00226"></a>00226 
<a name="l00241"></a><a class="code" href="class_q_c_p_curve_data.html#a48252779b5198a509d99c69ae223fbf8">00241</a> <a class="code" href="class_q_c_p_curve_data.html#a48252779b5198a509d99c69ae223fbf8">QCPCurveData::QCPCurveData</a>() :
<a name="l00242"></a>00242   t(0),
<a name="l00243"></a>00243   key(0),
<a name="l00244"></a>00244   value(0)
<a name="l00245"></a>00245 {
<a name="l00246"></a>00246 }
<a name="l00247"></a>00247 
<a name="l00251"></a><a class="code" href="class_q_c_p_curve_data.html#a3586be0cc6f8db15bcdd0c0d03b0c173">00251</a> <a class="code" href="class_q_c_p_curve_data.html#a48252779b5198a509d99c69ae223fbf8">QCPCurveData::QCPCurveData</a>(<span class="keywordtype">double</span> t, <span class="keywordtype">double</span> key, <span class="keywordtype">double</span> value) :
<a name="l00252"></a>00252   t(t),
<a name="l00253"></a>00253   key(key),
<a name="l00254"></a>00254   value(value)
<a name="l00255"></a>00255 {
<a name="l00256"></a>00256 }
<a name="l00257"></a>00257 
<a name="l00258"></a>00258 
<a name="l00259"></a>00259 <span class="comment">// ================================================================================</span>
<a name="l00260"></a>00260 <span class="comment">// =================== QCPBarData</span>
<a name="l00261"></a>00261 <span class="comment">// ================================================================================</span>
<a name="l00262"></a>00262 
<a name="l00276"></a><a class="code" href="class_q_c_p_bar_data.html#a8d214eda9ef41bc6da2a908a09623836">00276</a> <a class="code" href="class_q_c_p_bar_data.html#a8d214eda9ef41bc6da2a908a09623836">QCPBarData::QCPBarData</a>() :
<a name="l00277"></a>00277   key(0),
<a name="l00278"></a>00278   value(0)
<a name="l00279"></a>00279 {
<a name="l00280"></a>00280 }
<a name="l00281"></a>00281 
<a name="l00285"></a><a class="code" href="class_q_c_p_bar_data.html#ac0bb7ede5373a7b18713418fa78f972d">00285</a> <a class="code" href="class_q_c_p_bar_data.html#a8d214eda9ef41bc6da2a908a09623836">QCPBarData::QCPBarData</a>(<span class="keywordtype">double</span> key, <span class="keywordtype">double</span> value) :
<a name="l00286"></a>00286   key(key),
<a name="l00287"></a>00287   value(value)
<a name="l00288"></a>00288 {
<a name="l00289"></a>00289 }
<a name="l00290"></a>00290 
<a name="l00291"></a>00291 <span class="comment">// ================================================================================</span>
<a name="l00292"></a>00292 <span class="comment">// =================== QCPGraph</span>
<a name="l00293"></a>00293 <span class="comment">// ================================================================================</span>
<a name="l00294"></a>00294 
<a name="l00332"></a><a class="code" href="class_q_c_p_graph.html#a0393a38cf7183cbf46348eb6cf9a5a6c">00332</a> <a class="code" href="class_q_c_p_graph.html#a0393a38cf7183cbf46348eb6cf9a5a6c">QCPGraph::QCPGraph</a>(<a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *keyAxis, <a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *valueAxis) :
<a name="l00333"></a>00333   <a class="code" href="class_q_c_p_abstract_plottable.html" title="The abstract base class for all data representing objects in a plot.">QCPAbstractPlottable</a>(keyAxis, valueAxis)
<a name="l00334"></a>00334 {
<a name="l00335"></a>00335   <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a> = <span class="keyword">new</span> <a class="code" href="qcustomplot_8h.html#a84a9c4a4c2216ccfdcb5f3067cda76e3">QCPDataMap</a>;
<a name="l00336"></a>00336   
<a name="l00337"></a>00337   <a class="code" href="class_q_c_p_abstract_plottable.html#ab74b09ae4c0e7e13142fe4b5bf46cac7">setPen</a>(QPen(Qt::blue));
<a name="l00338"></a>00338   <a class="code" href="class_q_c_p_graph.html#abd4c7f81939e10776ea64603a704f22a">setErrorPen</a>(QPen(Qt::black));
<a name="l00339"></a>00339   <a class="code" href="class_q_c_p_abstract_plottable.html#a7a4b92144dca6453a1f0f210e27edc74">setBrush</a>(Qt::NoBrush);
<a name="l00340"></a>00340   <a class="code" href="class_q_c_p_abstract_plottable.html#a6911603cad23ab0469b108224517516f">setSelectedPen</a>(QPen(QColor(80, 80, 255), 2.5));
<a name="l00341"></a>00341   <a class="code" href="class_q_c_p_abstract_plottable.html#ae8c816874089f7a44001e8618e81a9dc">setSelectedBrush</a>(Qt::NoBrush);
<a name="l00342"></a>00342   
<a name="l00343"></a>00343   <a class="code" href="class_q_c_p_graph.html#a513fecccff5b2a50ce53f665338c60ff">setLineStyle</a>(<a class="code" href="class_q_c_p_graph.html#ad60175cd9b5cac937c5ee685c32c0859a3c42a27b15aa3c92d399082fad8b7515" title="data points are connected by a straight line">lsLine</a>);
<a name="l00344"></a>00344   <a class="code" href="class_q_c_p_graph.html#a06373e09547bcfe237dd8ebcbe5c255a">setScatterStyle</a>(<a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa3ee9f603bc4623e9b98011e8829aad1d" title="no scatter symbols are drawn (e.g. in QCPGraph, data only represented with lines)">QCP::ssNone</a>);
<a name="l00345"></a>00345   <a class="code" href="class_q_c_p_graph.html#a70d5c6058096797a227e6827ff743d89">setScatterSize</a>(6);
<a name="l00346"></a>00346   <a class="code" href="class_q_c_p_graph.html#ac3614d799c3894f2bc646e99c7f73d38">setErrorType</a>(<a class="code" href="class_q_c_p_graph.html#ad23b514404bd2cb3216f57c90904d6afaeae745e7cc1766bb8546e35d4b76a711" title="No error bars are shown.">etNone</a>);
<a name="l00347"></a>00347   <a class="code" href="class_q_c_p_graph.html#a10f50c5495ce45ef559ec2066194a335">setErrorBarSize</a>(6);
<a name="l00348"></a>00348   <a class="code" href="class_q_c_p_graph.html#ab1c1ee03d8dd94676a564e5e5f11aac2">setErrorBarSkipSymbol</a>(<span class="keyword">true</span>);
<a name="l00349"></a>00349   <a class="code" href="class_q_c_p_graph.html#a2d03156df1b64037a2e36cfa50351ca3">setChannelFillGraph</a>(0);
<a name="l00350"></a>00350 }
<a name="l00351"></a>00351 
<a name="l00352"></a><a class="code" href="class_q_c_p_graph.html#ae9998cfb9d379ac0ef3fbd6995cfbd76">00352</a> <a class="code" href="class_q_c_p_graph.html#ae9998cfb9d379ac0ef3fbd6995cfbd76">QCPGraph::~QCPGraph</a>()
<a name="l00353"></a>00353 {
<a name="l00354"></a>00354   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>)
<a name="l00355"></a>00355   {
<a name="l00356"></a>00356     <span class="comment">// if another graph has a channel fill towards this graph, set it to zero</span>
<a name="l00357"></a>00357     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a7d9b4d19114b2fde60f0233eeb0aa682">graphCount</a>(); ++i)
<a name="l00358"></a>00358     {
<a name="l00359"></a>00359       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a6d3ed93c2bf46ab7fa670d66be4cddaf">graph</a>(i)-&gt;<a class="code" href="class_q_c_p_graph.html#a5369f23863e04a6164f8b66d49fd18f4">channelFillGraph</a>() == <span class="keyword">this</span>)
<a name="l00360"></a>00360         <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a6d3ed93c2bf46ab7fa670d66be4cddaf">graph</a>(i)-&gt;<a class="code" href="class_q_c_p_graph.html#a2d03156df1b64037a2e36cfa50351ca3">setChannelFillGraph</a>(0);
<a name="l00361"></a>00361     }
<a name="l00362"></a>00362   }
<a name="l00363"></a>00363   <span class="keyword">delete</span> <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>;
<a name="l00364"></a>00364 }
<a name="l00365"></a>00365 
<a name="l00373"></a><a class="code" href="class_q_c_p_graph.html#a1df2fd710545c8ba3b2c99a39a27bf8b">00373</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#a1df2fd710545c8ba3b2c99a39a27bf8b">QCPGraph::setData</a>(<a class="code" href="qcustomplot_8h.html#a84a9c4a4c2216ccfdcb5f3067cda76e3">QCPDataMap</a> *data, <span class="keywordtype">bool</span> copy)
<a name="l00374"></a>00374 {
<a name="l00375"></a>00375   <span class="keywordflow">if</span> (copy)
<a name="l00376"></a>00376   {
<a name="l00377"></a>00377     *<a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a> = *<a class="code" href="class_q_c_p_graph.html#a8f4c17d993df4759c7426db45b33fbc0">data</a>;
<a name="l00378"></a>00378   } <span class="keywordflow">else</span>
<a name="l00379"></a>00379   {
<a name="l00380"></a>00380     <span class="keyword">delete</span> <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>;
<a name="l00381"></a>00381     <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a> = <a class="code" href="class_q_c_p_graph.html#a8f4c17d993df4759c7426db45b33fbc0">data</a>;
<a name="l00382"></a>00382   }
<a name="l00383"></a>00383 }
<a name="l00384"></a>00384 
<a name="l00391"></a><a class="code" href="class_q_c_p_graph.html#a4c55d8ac13bfa42c8c93747820891a76">00391</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#a1df2fd710545c8ba3b2c99a39a27bf8b">QCPGraph::setData</a>(<span class="keyword">const</span> QVector&lt;double&gt; &amp;key, <span class="keyword">const</span> QVector&lt;double&gt; &amp;value)
<a name="l00392"></a>00392 {
<a name="l00393"></a>00393   <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;clear();
<a name="l00394"></a>00394   <span class="keywordtype">int</span> n = key.size();
<a name="l00395"></a>00395   n = qMin(n, value.size());
<a name="l00396"></a>00396   <a class="code" href="class_q_c_p_data.html" title="Holds the data of one single data point for QCPGraph.">QCPData</a> newData;
<a name="l00397"></a>00397   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; ++i)
<a name="l00398"></a>00398   {
<a name="l00399"></a>00399     newData.<a class="code" href="class_q_c_p_data.html#a2f5ba9aca61bb74f88516e148a4cf71b">key</a> = key[i];
<a name="l00400"></a>00400     newData.value = value[i];
<a name="l00401"></a>00401     <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;insertMulti(newData.key, newData);
<a name="l00402"></a>00402   }
<a name="l00403"></a>00403 }
<a name="l00404"></a>00404 
<a name="l00414"></a><a class="code" href="class_q_c_p_graph.html#acba6296eadcb36b93267628b8dae3de5">00414</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#acba6296eadcb36b93267628b8dae3de5">QCPGraph::setDataValueError</a>(<span class="keyword">const</span> QVector&lt;double&gt; &amp;key, <span class="keyword">const</span> QVector&lt;double&gt; &amp;value, <span class="keyword">const</span> QVector&lt;double&gt; &amp;valueError)
<a name="l00415"></a>00415 {
<a name="l00416"></a>00416   <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;clear();
<a name="l00417"></a>00417   <span class="keywordtype">int</span> n = key.size();
<a name="l00418"></a>00418   n = qMin(n, value.size());
<a name="l00419"></a>00419   n = qMin(n, valueError.size());
<a name="l00420"></a>00420   <a class="code" href="class_q_c_p_data.html" title="Holds the data of one single data point for QCPGraph.">QCPData</a> newData;
<a name="l00421"></a>00421   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; ++i)
<a name="l00422"></a>00422   {
<a name="l00423"></a>00423     newData.<a class="code" href="class_q_c_p_data.html#a2f5ba9aca61bb74f88516e148a4cf71b">key</a> = key[i];
<a name="l00424"></a>00424     newData.value = value[i];
<a name="l00425"></a>00425     newData.valueErrorMinus = valueError[i];
<a name="l00426"></a>00426     newData.valueErrorPlus = valueError[i];
<a name="l00427"></a>00427     <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;insertMulti(key[i], newData);
<a name="l00428"></a>00428   }
<a name="l00429"></a>00429 }
<a name="l00430"></a>00430 
<a name="l00440"></a><a class="code" href="class_q_c_p_graph.html#a3afbfd7222d739351c69387904776f93">00440</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#acba6296eadcb36b93267628b8dae3de5">QCPGraph::setDataValueError</a>(<span class="keyword">const</span> QVector&lt;double&gt; &amp;key, <span class="keyword">const</span> QVector&lt;double&gt; &amp;value, <span class="keyword">const</span> QVector&lt;double&gt; &amp;valueErrorMinus, <span class="keyword">const</span> QVector&lt;double&gt; &amp;valueErrorPlus)
<a name="l00441"></a>00441 {
<a name="l00442"></a>00442   <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;clear();
<a name="l00443"></a>00443   <span class="keywordtype">int</span> n = key.size();
<a name="l00444"></a>00444   n = qMin(n, value.size());
<a name="l00445"></a>00445   n = qMin(n, valueErrorMinus.size());
<a name="l00446"></a>00446   n = qMin(n, valueErrorPlus.size());
<a name="l00447"></a>00447   <a class="code" href="class_q_c_p_data.html" title="Holds the data of one single data point for QCPGraph.">QCPData</a> newData;
<a name="l00448"></a>00448   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; ++i)
<a name="l00449"></a>00449   {
<a name="l00450"></a>00450     newData.<a class="code" href="class_q_c_p_data.html#a2f5ba9aca61bb74f88516e148a4cf71b">key</a> = key[i];
<a name="l00451"></a>00451     newData.value = value[i];
<a name="l00452"></a>00452     newData.valueErrorMinus = valueErrorMinus[i];
<a name="l00453"></a>00453     newData.valueErrorPlus = valueErrorPlus[i];
<a name="l00454"></a>00454     <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;insertMulti(key[i], newData);
<a name="l00455"></a>00455   }
<a name="l00456"></a>00456 }
<a name="l00457"></a>00457 
<a name="l00467"></a><a class="code" href="class_q_c_p_graph.html#abce9f07c0d722bc3e4fa7bd73c7e5dfa">00467</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#abce9f07c0d722bc3e4fa7bd73c7e5dfa">QCPGraph::setDataKeyError</a>(<span class="keyword">const</span> QVector&lt;double&gt; &amp;key, <span class="keyword">const</span> QVector&lt;double&gt; &amp;value, <span class="keyword">const</span> QVector&lt;double&gt; &amp;keyError)
<a name="l00468"></a>00468 {
<a name="l00469"></a>00469   <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;clear();
<a name="l00470"></a>00470   <span class="keywordtype">int</span> n = key.size();
<a name="l00471"></a>00471   n = qMin(n, value.size());
<a name="l00472"></a>00472   n = qMin(n, keyError.size());
<a name="l00473"></a>00473   <a class="code" href="class_q_c_p_data.html" title="Holds the data of one single data point for QCPGraph.">QCPData</a> newData;
<a name="l00474"></a>00474   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; ++i)
<a name="l00475"></a>00475   {
<a name="l00476"></a>00476     newData.<a class="code" href="class_q_c_p_data.html#a2f5ba9aca61bb74f88516e148a4cf71b">key</a> = key[i];
<a name="l00477"></a>00477     newData.value = value[i];
<a name="l00478"></a>00478     newData.keyErrorMinus = keyError[i];
<a name="l00479"></a>00479     newData.keyErrorPlus = keyError[i];
<a name="l00480"></a>00480     <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;insertMulti(key[i], newData);
<a name="l00481"></a>00481   }
<a name="l00482"></a>00482 }
<a name="l00483"></a>00483 
<a name="l00493"></a><a class="code" href="class_q_c_p_graph.html#ac15c749c5fedf740d5692c6fe67143b8">00493</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#abce9f07c0d722bc3e4fa7bd73c7e5dfa">QCPGraph::setDataKeyError</a>(<span class="keyword">const</span> QVector&lt;double&gt; &amp;key, <span class="keyword">const</span> QVector&lt;double&gt; &amp;value, <span class="keyword">const</span> QVector&lt;double&gt; &amp;keyErrorMinus, <span class="keyword">const</span> QVector&lt;double&gt; &amp;keyErrorPlus)
<a name="l00494"></a>00494 {
<a name="l00495"></a>00495   <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;clear();
<a name="l00496"></a>00496   <span class="keywordtype">int</span> n = key.size();
<a name="l00497"></a>00497   n = qMin(n, value.size());
<a name="l00498"></a>00498   n = qMin(n, keyErrorMinus.size());
<a name="l00499"></a>00499   n = qMin(n, keyErrorPlus.size());
<a name="l00500"></a>00500   <a class="code" href="class_q_c_p_data.html" title="Holds the data of one single data point for QCPGraph.">QCPData</a> newData;
<a name="l00501"></a>00501   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; ++i)
<a name="l00502"></a>00502   {
<a name="l00503"></a>00503     newData.<a class="code" href="class_q_c_p_data.html#a2f5ba9aca61bb74f88516e148a4cf71b">key</a> = key[i];
<a name="l00504"></a>00504     newData.value = value[i];
<a name="l00505"></a>00505     newData.keyErrorMinus = keyErrorMinus[i];
<a name="l00506"></a>00506     newData.keyErrorPlus = keyErrorPlus[i];
<a name="l00507"></a>00507     <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;insertMulti(key[i], newData);
<a name="l00508"></a>00508   }
<a name="l00509"></a>00509 }
<a name="l00510"></a>00510 
<a name="l00520"></a><a class="code" href="class_q_c_p_graph.html#a873fe46bdb20be5710428e474ade8908">00520</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#a873fe46bdb20be5710428e474ade8908">QCPGraph::setDataBothError</a>(<span class="keyword">const</span> QVector&lt;double&gt; &amp;key, <span class="keyword">const</span> QVector&lt;double&gt; &amp;value, <span class="keyword">const</span> QVector&lt;double&gt; &amp;keyError, <span class="keyword">const</span> QVector&lt;double&gt; &amp;valueError)
<a name="l00521"></a>00521 {
<a name="l00522"></a>00522   <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;clear();
<a name="l00523"></a>00523   <span class="keywordtype">int</span> n = key.size();
<a name="l00524"></a>00524   n = qMin(n, value.size());
<a name="l00525"></a>00525   n = qMin(n, valueError.size());
<a name="l00526"></a>00526   n = qMin(n, keyError.size());
<a name="l00527"></a>00527   <a class="code" href="class_q_c_p_data.html" title="Holds the data of one single data point for QCPGraph.">QCPData</a> newData;
<a name="l00528"></a>00528   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; ++i)
<a name="l00529"></a>00529   {
<a name="l00530"></a>00530     newData.<a class="code" href="class_q_c_p_data.html#a2f5ba9aca61bb74f88516e148a4cf71b">key</a> = key[i];
<a name="l00531"></a>00531     newData.value = value[i];
<a name="l00532"></a>00532     newData.keyErrorMinus = keyError[i];
<a name="l00533"></a>00533     newData.keyErrorPlus = keyError[i];
<a name="l00534"></a>00534     newData.valueErrorMinus = valueError[i];
<a name="l00535"></a>00535     newData.valueErrorPlus = valueError[i];
<a name="l00536"></a>00536     <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;insertMulti(key[i], newData);
<a name="l00537"></a>00537   }
<a name="l00538"></a>00538 }
<a name="l00539"></a>00539 
<a name="l00549"></a><a class="code" href="class_q_c_p_graph.html#abb75736ecdbf6e6a7501e1da64fb18cf">00549</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#a873fe46bdb20be5710428e474ade8908">QCPGraph::setDataBothError</a>(<span class="keyword">const</span> QVector&lt;double&gt; &amp;key, <span class="keyword">const</span> QVector&lt;double&gt; &amp;value, <span class="keyword">const</span> QVector&lt;double&gt; &amp;keyErrorMinus, <span class="keyword">const</span> QVector&lt;double&gt; &amp;keyErrorPlus, <span class="keyword">const</span> QVector&lt;double&gt; &amp;valueErrorMinus, <span class="keyword">const</span> QVector&lt;double&gt; &amp;valueErrorPlus)
<a name="l00550"></a>00550 {
<a name="l00551"></a>00551   <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;clear();
<a name="l00552"></a>00552   <span class="keywordtype">int</span> n = key.size();
<a name="l00553"></a>00553   n = qMin(n, value.size());
<a name="l00554"></a>00554   n = qMin(n, valueErrorMinus.size());
<a name="l00555"></a>00555   n = qMin(n, valueErrorPlus.size());
<a name="l00556"></a>00556   n = qMin(n, keyErrorMinus.size());
<a name="l00557"></a>00557   n = qMin(n, keyErrorPlus.size());
<a name="l00558"></a>00558   <a class="code" href="class_q_c_p_data.html" title="Holds the data of one single data point for QCPGraph.">QCPData</a> newData;
<a name="l00559"></a>00559   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; ++i)
<a name="l00560"></a>00560   {
<a name="l00561"></a>00561     newData.<a class="code" href="class_q_c_p_data.html#a2f5ba9aca61bb74f88516e148a4cf71b">key</a> = key[i];
<a name="l00562"></a>00562     newData.value = value[i];
<a name="l00563"></a>00563     newData.keyErrorMinus = keyErrorMinus[i];
<a name="l00564"></a>00564     newData.keyErrorPlus = keyErrorPlus[i];
<a name="l00565"></a>00565     newData.valueErrorMinus = valueErrorMinus[i];
<a name="l00566"></a>00566     newData.valueErrorPlus = valueErrorPlus[i];
<a name="l00567"></a>00567     <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;insertMulti(key[i], newData);
<a name="l00568"></a>00568   }
<a name="l00569"></a>00569 }
<a name="l00570"></a>00570 
<a name="l00571"></a>00571 
<a name="l00579"></a><a class="code" href="class_q_c_p_graph.html#a513fecccff5b2a50ce53f665338c60ff">00579</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#a513fecccff5b2a50ce53f665338c60ff">QCPGraph::setLineStyle</a>(<a class="code" href="class_q_c_p_graph.html#ad60175cd9b5cac937c5ee685c32c0859">LineStyle</a> ls)
<a name="l00580"></a>00580 {
<a name="l00581"></a>00581   <a class="code" href="class_q_c_p_graph.html#a8604fd98402035a63375849f7341ee25">mLineStyle</a> = ls;
<a name="l00582"></a>00582 }
<a name="l00583"></a>00583 
<a name="l00590"></a><a class="code" href="class_q_c_p_graph.html#a06373e09547bcfe237dd8ebcbe5c255a">00590</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#a06373e09547bcfe237dd8ebcbe5c255a">QCPGraph::setScatterStyle</a>(<a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26f">QCP::ScatterStyle</a> ss)
<a name="l00591"></a>00591 {
<a name="l00592"></a>00592   <a class="code" href="class_q_c_p_graph.html#a8f255af6fe1df09cedec73857ca0b344">mScatterStyle</a> = ss;
<a name="l00593"></a>00593 }
<a name="l00594"></a>00594 
<a name="l00602"></a><a class="code" href="class_q_c_p_graph.html#a70d5c6058096797a227e6827ff743d89">00602</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#a70d5c6058096797a227e6827ff743d89">QCPGraph::setScatterSize</a>(<span class="keywordtype">double</span> size)
<a name="l00603"></a>00603 {
<a name="l00604"></a>00604   <a class="code" href="class_q_c_p_graph.html#a0a1d01359f53211427fb4d71a71dbbec">mScatterSize</a> = size;
<a name="l00605"></a>00605 }
<a name="l00606"></a>00606 
<a name="l00613"></a><a class="code" href="class_q_c_p_graph.html#a80131c36eb134fbfb603951ef70e0a19">00613</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#a80131c36eb134fbfb603951ef70e0a19">QCPGraph::setScatterPixmap</a>(<span class="keyword">const</span> QPixmap &amp;pixmap)
<a name="l00614"></a>00614 {
<a name="l00615"></a>00615   <a class="code" href="class_q_c_p_graph.html#a38fccb64b03a53f3ba2839c94dc31e8f">mScatterPixmap</a> = pixmap;
<a name="l00616"></a>00616 }
<a name="l00617"></a>00617 
<a name="l00626"></a><a class="code" href="class_q_c_p_graph.html#ac3614d799c3894f2bc646e99c7f73d38">00626</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#ac3614d799c3894f2bc646e99c7f73d38">QCPGraph::setErrorType</a>(<a class="code" href="class_q_c_p_graph.html#ad23b514404bd2cb3216f57c90904d6af">ErrorType</a> errorType)
<a name="l00627"></a>00627 {
<a name="l00628"></a>00628   <a class="code" href="class_q_c_p_graph.html#a29e64273db201aeadebc61c870720a36">mErrorType</a> = <a class="code" href="class_q_c_p_graph.html#a250bcdf78abac87bc6d46ee6fd99a92d">errorType</a>;
<a name="l00629"></a>00629 }
<a name="l00630"></a>00630 
<a name="l00635"></a><a class="code" href="class_q_c_p_graph.html#abd4c7f81939e10776ea64603a704f22a">00635</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#abd4c7f81939e10776ea64603a704f22a">QCPGraph::setErrorPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l00636"></a>00636 {
<a name="l00637"></a>00637   <a class="code" href="class_q_c_p_graph.html#aa35681a24165c2831301091a87b662ce">mErrorPen</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#a41d060007cc6b3037c9c04d22d0c0398">pen</a>;
<a name="l00638"></a>00638 }
<a name="l00639"></a>00639 
<a name="l00643"></a><a class="code" href="class_q_c_p_graph.html#a10f50c5495ce45ef559ec2066194a335">00643</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#a10f50c5495ce45ef559ec2066194a335">QCPGraph::setErrorBarSize</a>(<span class="keywordtype">double</span> size)
<a name="l00644"></a>00644 {
<a name="l00645"></a>00645   <a class="code" href="class_q_c_p_graph.html#a7b51c8d09510f9d195b5e765ccbcf05b">mErrorBarSize</a> = size;
<a name="l00646"></a>00646 }
<a name="l00647"></a>00647 
<a name="l00657"></a><a class="code" href="class_q_c_p_graph.html#ab1c1ee03d8dd94676a564e5e5f11aac2">00657</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#ab1c1ee03d8dd94676a564e5e5f11aac2">QCPGraph::setErrorBarSkipSymbol</a>(<span class="keywordtype">bool</span> enabled)
<a name="l00658"></a>00658 {
<a name="l00659"></a>00659   <a class="code" href="class_q_c_p_graph.html#acf631d7dbd1055a69ab3b63094868557">mErrorBarSkipSymbol</a> = enabled;
<a name="l00660"></a>00660 }
<a name="l00661"></a>00661 
<a name="l00671"></a><a class="code" href="class_q_c_p_graph.html#a2d03156df1b64037a2e36cfa50351ca3">00671</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#a2d03156df1b64037a2e36cfa50351ca3">QCPGraph::setChannelFillGraph</a>(<a class="code" href="class_q_c_p_graph.html" title="A plottable representing a graph in a plot.">QCPGraph</a> *targetGraph)
<a name="l00672"></a>00672 {
<a name="l00673"></a>00673   <span class="comment">// prevent setting channel target to this graph itself:</span>
<a name="l00674"></a>00674   <span class="keywordflow">if</span> (targetGraph == <span class="keyword">this</span>)
<a name="l00675"></a>00675   {
<a name="l00676"></a>00676     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;targetGraph is this graph itself&quot;</span>;
<a name="l00677"></a>00677     <a class="code" href="class_q_c_p_graph.html#aa49af2f241d9ffdc301a24f08b10bdc8">mChannelFillGraph</a> = 0;
<a name="l00678"></a>00678     <span class="keywordflow">return</span>;
<a name="l00679"></a>00679   }
<a name="l00680"></a>00680   <span class="comment">// prevent setting channel target to a graph not in the plot:</span>
<a name="l00681"></a>00681   <span class="keywordflow">if</span> (targetGraph &amp;&amp; targetGraph-&gt;<a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a> != <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>)
<a name="l00682"></a>00682   {
<a name="l00683"></a>00683     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;targetGraph not in same plot&quot;</span>;
<a name="l00684"></a>00684     <a class="code" href="class_q_c_p_graph.html#aa49af2f241d9ffdc301a24f08b10bdc8">mChannelFillGraph</a> = 0;
<a name="l00685"></a>00685     <span class="keywordflow">return</span>;
<a name="l00686"></a>00686   }
<a name="l00687"></a>00687   
<a name="l00688"></a>00688   <a class="code" href="class_q_c_p_graph.html#aa49af2f241d9ffdc301a24f08b10bdc8">mChannelFillGraph</a> = targetGraph;
<a name="l00689"></a>00689 }
<a name="l00690"></a>00690 
<a name="l00695"></a><a class="code" href="class_q_c_p_graph.html#aa5c6181d84db72ce4dbe9dc15a34ef4f">00695</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#aa5c6181d84db72ce4dbe9dc15a34ef4f">QCPGraph::addData</a>(<span class="keyword">const</span> <a class="code" href="qcustomplot_8h.html#a84a9c4a4c2216ccfdcb5f3067cda76e3">QCPDataMap</a> &amp;dataMap)
<a name="l00696"></a>00696 {
<a name="l00697"></a>00697   <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;unite(dataMap);
<a name="l00698"></a>00698 }
<a name="l00699"></a>00699 
<a name="l00704"></a><a class="code" href="class_q_c_p_graph.html#a80cc91e1e0ef77eb50afc5b366d0efd9">00704</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#aa5c6181d84db72ce4dbe9dc15a34ef4f">QCPGraph::addData</a>(<span class="keyword">const</span> <a class="code" href="class_q_c_p_data.html" title="Holds the data of one single data point for QCPGraph.">QCPData</a> &amp;data)
<a name="l00705"></a>00705 {
<a name="l00706"></a>00706   <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;insertMulti(data.<a class="code" href="class_q_c_p_data.html#a2f5ba9aca61bb74f88516e148a4cf71b">key</a>, data);
<a name="l00707"></a>00707 }
<a name="l00708"></a>00708 
<a name="l00713"></a><a class="code" href="class_q_c_p_graph.html#a0bf98b1972286cfb7b1c4b7dd6ae2012">00713</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#aa5c6181d84db72ce4dbe9dc15a34ef4f">QCPGraph::addData</a>(<span class="keywordtype">double</span> key, <span class="keywordtype">double</span> value)
<a name="l00714"></a>00714 {
<a name="l00715"></a>00715   <a class="code" href="class_q_c_p_data.html" title="Holds the data of one single data point for QCPGraph.">QCPData</a> newData;
<a name="l00716"></a>00716   newData.<a class="code" href="class_q_c_p_data.html#a2f5ba9aca61bb74f88516e148a4cf71b">key</a> = key;
<a name="l00717"></a>00717   newData.<a class="code" href="class_q_c_p_data.html#aefe1ecf8fa2e34ed875b67523e542373">value</a> = value;
<a name="l00718"></a>00718   <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;insertMulti(newData.<a class="code" href="class_q_c_p_data.html#a2f5ba9aca61bb74f88516e148a4cf71b">key</a>, newData);
<a name="l00719"></a>00719 }
<a name="l00720"></a>00720 
<a name="l00725"></a><a class="code" href="class_q_c_p_graph.html#ab6da6377541fe80d892a9893a92db9c6">00725</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#aa5c6181d84db72ce4dbe9dc15a34ef4f">QCPGraph::addData</a>(<span class="keyword">const</span> QVector&lt;double&gt; &amp;keys, <span class="keyword">const</span> QVector&lt;double&gt; &amp;values)
<a name="l00726"></a>00726 {
<a name="l00727"></a>00727   <span class="keywordtype">int</span> n = qMin(keys.size(), values.size());
<a name="l00728"></a>00728   <a class="code" href="class_q_c_p_data.html" title="Holds the data of one single data point for QCPGraph.">QCPData</a> newData;
<a name="l00729"></a>00729   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; ++i)
<a name="l00730"></a>00730   {
<a name="l00731"></a>00731     newData.<a class="code" href="class_q_c_p_data.html#a2f5ba9aca61bb74f88516e148a4cf71b">key</a> = keys[i];
<a name="l00732"></a>00732     newData.value = values[i];
<a name="l00733"></a>00733     <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;insertMulti(newData.key, newData);
<a name="l00734"></a>00734   }
<a name="l00735"></a>00735 }
<a name="l00736"></a>00736 
<a name="l00741"></a><a class="code" href="class_q_c_p_graph.html#a9fe0b3e54e8c7b61319bd03337e21e99">00741</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#a9fe0b3e54e8c7b61319bd03337e21e99">QCPGraph::removeDataBefore</a>(<span class="keywordtype">double</span> key)
<a name="l00742"></a>00742 {
<a name="l00743"></a>00743   QCPDataMap::iterator it = <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;begin();
<a name="l00744"></a>00744   <span class="keywordflow">while</span> (it != <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;end() &amp;&amp; it.key() &lt; key)
<a name="l00745"></a>00745     it = <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;erase(it);
<a name="l00746"></a>00746 }
<a name="l00747"></a>00747 
<a name="l00752"></a><a class="code" href="class_q_c_p_graph.html#ae42d645ef617cfc75fc0df58e62c522a">00752</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#ae42d645ef617cfc75fc0df58e62c522a">QCPGraph::removeDataAfter</a>(<span class="keywordtype">double</span> key)
<a name="l00753"></a>00753 {
<a name="l00754"></a>00754   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;isEmpty()) <span class="keywordflow">return</span>;
<a name="l00755"></a>00755   QCPDataMap::iterator it = <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;upperBound(key);
<a name="l00756"></a>00756   <span class="keywordflow">while</span> (it != <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;end())
<a name="l00757"></a>00757     it = <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;erase(it);
<a name="l00758"></a>00758 }
<a name="l00759"></a>00759 
<a name="l00767"></a><a class="code" href="class_q_c_p_graph.html#a4a0fde50b7db9db0a85b5c5b6b10098f">00767</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#a4a0fde50b7db9db0a85b5c5b6b10098f">QCPGraph::removeData</a>(<span class="keywordtype">double</span> fromKey, <span class="keywordtype">double</span> toKey)
<a name="l00768"></a>00768 {
<a name="l00769"></a>00769   <span class="keywordflow">if</span> (fromKey &gt;= toKey || <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;isEmpty()) <span class="keywordflow">return</span>;
<a name="l00770"></a>00770   QCPDataMap::iterator it = <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;upperBound(fromKey);
<a name="l00771"></a>00771   QCPDataMap::iterator itEnd = <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;upperBound(toKey);
<a name="l00772"></a>00772   <span class="keywordflow">while</span> (it != itEnd)
<a name="l00773"></a>00773     it = <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;erase(it);
<a name="l00774"></a>00774 }
<a name="l00775"></a>00775 
<a name="l00784"></a><a class="code" href="class_q_c_p_graph.html#a4a706020b4318f118381648ef18aca3f">00784</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#a4a0fde50b7db9db0a85b5c5b6b10098f">QCPGraph::removeData</a>(<span class="keywordtype">double</span> key)
<a name="l00785"></a>00785 {
<a name="l00786"></a>00786   <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;remove(key);
<a name="l00787"></a>00787 }
<a name="l00788"></a>00788 
<a name="l00793"></a><a class="code" href="class_q_c_p_graph.html#ad4e94a4e44e5e76fbec81a72a977157d">00793</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#ad4e94a4e44e5e76fbec81a72a977157d">QCPGraph::clearData</a>()
<a name="l00794"></a>00794 {
<a name="l00795"></a>00795   <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;clear();
<a name="l00796"></a>00796 }
<a name="l00797"></a>00797 
<a name="l00798"></a>00798 <span class="comment">/* inherits documentation from base class */</span>
<a name="l00799"></a><a class="code" href="class_q_c_p_graph.html#a9a95048dc6daf83e45efbf6d2cdc92d7">00799</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_graph.html#a9a95048dc6daf83e45efbf6d2cdc92d7">QCPGraph::selectTest</a>(<span class="keyword">const</span> QPointF &amp;pos)<span class="keyword"> const</span>
<a name="l00800"></a>00800 <span class="keyword"></span>{
<a name="l00801"></a>00801   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;isEmpty() || !<a class="code" href="class_q_c_p_layerable.html#a62e3aed8427d6ce3ccf716f285106cb3">mVisible</a>)
<a name="l00802"></a>00802     <span class="keywordflow">return</span> -1;
<a name="l00803"></a>00803   
<a name="l00804"></a>00804   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_graph.html#af93762a12a481a7edb4b3dd9e330dff1">pointDistance</a>(pos);
<a name="l00805"></a>00805 }
<a name="l00806"></a>00806 
<a name="l00812"></a><a class="code" href="class_q_c_p_graph.html#aa35b75b9032800d783df749c8a004ee9">00812</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#aa35b75b9032800d783df749c8a004ee9">QCPGraph::rescaleAxes</a>(<span class="keywordtype">bool</span> onlyEnlarge, <span class="keywordtype">bool</span> includeErrorBars)<span class="keyword"> const</span>
<a name="l00813"></a>00813 <span class="keyword"></span>{
<a name="l00814"></a>00814   <a class="code" href="class_q_c_p_graph.html#a2108a729046b0ab6e0516afb249dab13">rescaleKeyAxis</a>(onlyEnlarge, includeErrorBars);
<a name="l00815"></a>00815   <a class="code" href="class_q_c_p_graph.html#a2ba0e1df416486d7e74299ef8cf68bba">rescaleValueAxis</a>(onlyEnlarge, includeErrorBars);
<a name="l00816"></a>00816 }
<a name="l00817"></a>00817 
<a name="l00823"></a><a class="code" href="class_q_c_p_graph.html#a2108a729046b0ab6e0516afb249dab13">00823</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#a2108a729046b0ab6e0516afb249dab13">QCPGraph::rescaleKeyAxis</a>(<span class="keywordtype">bool</span> onlyEnlarge, <span class="keywordtype">bool</span> includeErrorBars)<span class="keyword"> const</span>
<a name="l00824"></a>00824 <span class="keyword"></span>{
<a name="l00825"></a>00825   <span class="comment">// this code is a copy of QCPAbstractPlottable::rescaleKeyAxis with the only change</span>
<a name="l00826"></a>00826   <span class="comment">// that getKeyRange is passed the includeErrorBars value.</span>
<a name="l00827"></a>00827   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;isEmpty()) <span class="keywordflow">return</span>;
<a name="l00828"></a>00828 
<a name="l00829"></a>00829   <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8">SignDomain</a> signDomain = <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60" title="Both sign domains, including zero, i.e. all (rational) numbers.">sdBoth</a>;
<a name="l00830"></a>00830   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a8563e13407bc0616da7f7c84e02de170">scaleType</a>() == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0abf5b785ad976618816dc6f79b73216d4" title="Logarithmic scaling with correspondingly transformed plots and (major) tick marks at every base power...">QCPAxis::stLogarithmic</a>)
<a name="l00831"></a>00831     signDomain = (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &lt; 0 ? <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63" title="The negative sign domain, i.e. numbers smaller than zero.">sdNegative</a> : <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030" title="The positive sign domain, i.e. numbers greater than zero.">sdPositive</a>);
<a name="l00832"></a>00832   
<a name="l00833"></a>00833   <span class="keywordtype">bool</span> validRange;
<a name="l00834"></a>00834   <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> newRange = <a class="code" href="class_q_c_p_graph.html#ab39c7e8c94b64804a8dc9c19bc7d4683">getKeyRange</a>(validRange, signDomain, includeErrorBars);
<a name="l00835"></a>00835   
<a name="l00836"></a>00836   <span class="keywordflow">if</span> (validRange)
<a name="l00837"></a>00837   {
<a name="l00838"></a>00838     <span class="keywordflow">if</span> (onlyEnlarge)
<a name="l00839"></a>00839     {
<a name="l00840"></a>00840       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> &lt; newRange.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>)
<a name="l00841"></a>00841         newRange.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>;
<a name="l00842"></a>00842       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &gt; newRange.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>)
<a name="l00843"></a>00843         newRange.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>;
<a name="l00844"></a>00844     }
<a name="l00845"></a>00845     <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57d6ee9e9009fe88cb19db476ec70bca">setRange</a>(newRange);
<a name="l00846"></a>00846   }
<a name="l00847"></a>00847 }
<a name="l00848"></a>00848 
<a name="l00854"></a><a class="code" href="class_q_c_p_graph.html#a2ba0e1df416486d7e74299ef8cf68bba">00854</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#a2ba0e1df416486d7e74299ef8cf68bba">QCPGraph::rescaleValueAxis</a>(<span class="keywordtype">bool</span> onlyEnlarge, <span class="keywordtype">bool</span> includeErrorBars)<span class="keyword"> const</span>
<a name="l00855"></a>00855 <span class="keyword"></span>{
<a name="l00856"></a>00856   <span class="comment">// this code is a copy of QCPAbstractPlottable::rescaleValueAxis with the only change</span>
<a name="l00857"></a>00857   <span class="comment">// is that getValueRange is passed the includeErrorBars value.</span>
<a name="l00858"></a>00858   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;isEmpty()) <span class="keywordflow">return</span>;
<a name="l00859"></a>00859 
<a name="l00860"></a>00860   <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8">SignDomain</a> signDomain = <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60" title="Both sign domains, including zero, i.e. all (rational) numbers.">sdBoth</a>;
<a name="l00861"></a>00861   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a8563e13407bc0616da7f7c84e02de170">scaleType</a>() == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0abf5b785ad976618816dc6f79b73216d4" title="Logarithmic scaling with correspondingly transformed plots and (major) tick marks at every base power...">QCPAxis::stLogarithmic</a>)
<a name="l00862"></a>00862     signDomain = (<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &lt; 0 ? <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63" title="The negative sign domain, i.e. numbers smaller than zero.">sdNegative</a> : <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030" title="The positive sign domain, i.e. numbers greater than zero.">sdPositive</a>);
<a name="l00863"></a>00863   
<a name="l00864"></a>00864   <span class="keywordtype">bool</span> validRange;
<a name="l00865"></a>00865   <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> newRange = <a class="code" href="class_q_c_p_graph.html#a9fc0c1288455fa5bb64b603d6b01de6c">getValueRange</a>(validRange, signDomain, includeErrorBars);
<a name="l00866"></a>00866   
<a name="l00867"></a>00867   <span class="keywordflow">if</span> (validRange)
<a name="l00868"></a>00868   {
<a name="l00869"></a>00869     <span class="keywordflow">if</span> (onlyEnlarge)
<a name="l00870"></a>00870     {
<a name="l00871"></a>00871       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> &lt; newRange.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>)
<a name="l00872"></a>00872         newRange.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>;
<a name="l00873"></a>00873       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &gt; newRange.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>)
<a name="l00874"></a>00874         newRange.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>;
<a name="l00875"></a>00875     }
<a name="l00876"></a>00876     <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57d6ee9e9009fe88cb19db476ec70bca">setRange</a>(newRange);
<a name="l00877"></a>00877   }
<a name="l00878"></a>00878 }
<a name="l00879"></a>00879 
<a name="l00880"></a>00880 <span class="comment">/* inherits documentation from base class */</span>
<a name="l00881"></a><a class="code" href="class_q_c_p_graph.html#a659218cc62c2a7786213d9dd429c1c8d">00881</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#a659218cc62c2a7786213d9dd429c1c8d">QCPGraph::draw</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)
<a name="l00882"></a>00882 {
<a name="l00883"></a>00883   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#afa57c13049b965edb6fd1c00ac56338a">size</a>() &lt;= 0 || <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;isEmpty()) <span class="keywordflow">return</span>;
<a name="l00884"></a>00884   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#a8604fd98402035a63375849f7341ee25">mLineStyle</a> == <a class="code" href="class_q_c_p_graph.html#ad60175cd9b5cac937c5ee685c32c0859aea9591b933733cc7b20786b71e60fa04">lsNone</a> &amp;&amp; <a class="code" href="class_q_c_p_graph.html#a8f255af6fe1df09cedec73857ca0b344">mScatterStyle</a> == <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa3ee9f603bc4623e9b98011e8829aad1d" title="no scatter symbols are drawn (e.g. in QCPGraph, data only represented with lines)">QCP::ssNone</a>) <span class="keywordflow">return</span>;
<a name="l00885"></a>00885   
<a name="l00886"></a>00886   <span class="comment">// allocate line and (if necessary) point vectors:</span>
<a name="l00887"></a>00887   QVector&lt;QPointF&gt; *lineData = <span class="keyword">new</span> QVector&lt;QPointF&gt;;
<a name="l00888"></a>00888   QVector&lt;QCPData&gt; *pointData = 0;
<a name="l00889"></a>00889   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#a8f255af6fe1df09cedec73857ca0b344">mScatterStyle</a> != <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa3ee9f603bc4623e9b98011e8829aad1d" title="no scatter symbols are drawn (e.g. in QCPGraph, data only represented with lines)">QCP::ssNone</a>)
<a name="l00890"></a>00890     pointData = <span class="keyword">new</span> QVector&lt;QCPData&gt;;
<a name="l00891"></a>00891   
<a name="l00892"></a>00892   <span class="comment">// fill vectors with data appropriate to plot style:</span>
<a name="l00893"></a>00893   <a class="code" href="class_q_c_p_graph.html#af66183533a29520be3e74489ad1449cc">getPlotData</a>(lineData, pointData);
<a name="l00894"></a>00894 
<a name="l00895"></a>00895   <span class="comment">// draw fill of graph:</span>
<a name="l00896"></a>00896   <a class="code" href="class_q_c_p_graph.html#ad6d07926e6d6b7cfa70258780d47b7a0">drawFill</a>(painter, lineData);
<a name="l00897"></a>00897   
<a name="l00898"></a>00898   <span class="comment">// draw line:</span>
<a name="l00899"></a>00899   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#a8604fd98402035a63375849f7341ee25">mLineStyle</a> == <a class="code" href="class_q_c_p_graph.html#ad60175cd9b5cac937c5ee685c32c0859aa3b358b4ae7cca94aceeb8e529c12ebb" title="each data point is represented by a line parallel to the value axis, which reaches from the data poin...">lsImpulse</a>)
<a name="l00900"></a>00900     <a class="code" href="class_q_c_p_graph.html#abc01180629621f1e47e94559227d3d8c">drawImpulsePlot</a>(painter, lineData);
<a name="l00901"></a>00901   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#a8604fd98402035a63375849f7341ee25">mLineStyle</a> != <a class="code" href="class_q_c_p_graph.html#ad60175cd9b5cac937c5ee685c32c0859aea9591b933733cc7b20786b71e60fa04">lsNone</a>)
<a name="l00902"></a>00902     <a class="code" href="class_q_c_p_graph.html#acebc22c3385829b19a87e6281fe6ade2">drawLinePlot</a>(painter, lineData); <span class="comment">// also step plots can be drawn as a line plot</span>
<a name="l00903"></a>00903   
<a name="l00904"></a>00904   <span class="comment">// draw scatters:</span>
<a name="l00905"></a>00905   <span class="keywordflow">if</span> (pointData)
<a name="l00906"></a>00906     <a class="code" href="class_q_c_p_graph.html#af1872a60bed7acb3f3b17bfae3f4764c">drawScatterPlot</a>(painter, pointData);
<a name="l00907"></a>00907   
<a name="l00908"></a>00908   <span class="comment">// free allocated line and point vectors:</span>
<a name="l00909"></a>00909   <span class="keyword">delete</span> lineData;
<a name="l00910"></a>00910   <span class="keywordflow">if</span> (pointData)
<a name="l00911"></a>00911     <span class="keyword">delete</span> pointData;
<a name="l00912"></a>00912 }
<a name="l00913"></a>00913 
<a name="l00914"></a>00914 <span class="comment">/* inherits documentation from base class */</span>
<a name="l00915"></a><a class="code" href="class_q_c_p_graph.html#a9a1a3d937a35368c421657860aa5a173">00915</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#a9a1a3d937a35368c421657860aa5a173">QCPGraph::drawLegendIcon</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter, <span class="keyword">const</span> QRect &amp;rect)<span class="keyword"> const</span>
<a name="l00916"></a>00916 <span class="keyword"></span>{
<a name="l00917"></a>00917   <span class="comment">// draw fill:</span>
<a name="l00918"></a>00918   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a33f00674c0161c13315ab9da0895418e">mBrush</a>.style() != Qt::NoBrush)
<a name="l00919"></a>00919   {
<a name="l00920"></a>00920     <a class="code" href="class_q_c_p_abstract_plottable.html#ac08a480155895e674dbfe5a5670e0ff3">applyFillAntialiasingHint</a>(painter);
<a name="l00921"></a>00921     painter-&gt;fillRect(QRectF(rect.left(), rect.top()+rect.height()/2.0, rect.width(), rect.height()/3.0), <a class="code" href="class_q_c_p_abstract_plottable.html#a33f00674c0161c13315ab9da0895418e">mBrush</a>);
<a name="l00922"></a>00922   }
<a name="l00923"></a>00923   <span class="comment">// draw line vertically centered:</span>
<a name="l00924"></a>00924   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#a8604fd98402035a63375849f7341ee25">mLineStyle</a> != <a class="code" href="class_q_c_p_graph.html#ad60175cd9b5cac937c5ee685c32c0859aea9591b933733cc7b20786b71e60fa04">lsNone</a>)
<a name="l00925"></a>00925   {
<a name="l00926"></a>00926     <a class="code" href="class_q_c_p_abstract_plottable.html#a76e9d6cc7972dc1528f526d163766aca">applyDefaultAntialiasingHint</a>(painter);
<a name="l00927"></a>00927     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_abstract_plottable.html#a67bc0622fd1b9fa14e54c14922dcec66">mPen</a>);
<a name="l00928"></a>00928     painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(rect.left(), rect.top()+rect.height()/2.0, rect.right()+5, rect.top()+rect.height()/2.0)); <span class="comment">// +5 on x2 else last segment is missing from dashed/dotted pens</span>
<a name="l00929"></a>00929   }
<a name="l00930"></a>00930   <span class="comment">// draw scatter symbol:</span>
<a name="l00931"></a>00931   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#a8f255af6fe1df09cedec73857ca0b344">mScatterStyle</a> != <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa3ee9f603bc4623e9b98011e8829aad1d" title="no scatter symbols are drawn (e.g. in QCPGraph, data only represented with lines)">QCP::ssNone</a>)
<a name="l00932"></a>00932   {
<a name="l00933"></a>00933     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#a8f255af6fe1df09cedec73857ca0b344">mScatterStyle</a> == <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa3046d385199d0903dd492322ba133e75" title="a custom pixmap specified by setScatterPixmap, centered on the data point coordinates">QCP::ssPixmap</a> &amp;&amp; (<a class="code" href="class_q_c_p_graph.html#a38fccb64b03a53f3ba2839c94dc31e8f">mScatterPixmap</a>.size().width() &gt; rect.width() || <a class="code" href="class_q_c_p_graph.html#a38fccb64b03a53f3ba2839c94dc31e8f">mScatterPixmap</a>.size().height() &gt; rect.height()))
<a name="l00934"></a>00934     {
<a name="l00935"></a>00935       <span class="comment">// handle pixmap scatters that are larger than legend icon rect separately.</span>
<a name="l00936"></a>00936       <span class="comment">// We resize them and draw them manually, instead of calling drawScatter:</span>
<a name="l00937"></a>00937       QSize newSize = <a class="code" href="class_q_c_p_graph.html#a38fccb64b03a53f3ba2839c94dc31e8f">mScatterPixmap</a>.size();
<a name="l00938"></a>00938       newSize.scale(rect.size(), Qt::KeepAspectRatio);
<a name="l00939"></a>00939       QRect targetRect;
<a name="l00940"></a>00940       targetRect.setSize(newSize);
<a name="l00941"></a>00941       targetRect.moveCenter(rect.center());
<a name="l00942"></a>00942       <span class="keywordtype">bool</span> smoothBackup = painter-&gt;testRenderHint(QPainter::SmoothPixmapTransform);
<a name="l00943"></a>00943       painter-&gt;setRenderHint(QPainter::SmoothPixmapTransform, <span class="keyword">true</span>);
<a name="l00944"></a>00944       painter-&gt;drawPixmap(targetRect, <a class="code" href="class_q_c_p_graph.html#a38fccb64b03a53f3ba2839c94dc31e8f">mScatterPixmap</a>);
<a name="l00945"></a>00945       painter-&gt;setRenderHint(QPainter::SmoothPixmapTransform, smoothBackup);
<a name="l00946"></a>00946     } <span class="keywordflow">else</span>
<a name="l00947"></a>00947     {
<a name="l00948"></a>00948       <a class="code" href="class_q_c_p_abstract_plottable.html#a753272ee225a62827e90c3e1e78de4b1">applyScattersAntialiasingHint</a>(painter);
<a name="l00949"></a>00949       painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_abstract_plottable.html#a67bc0622fd1b9fa14e54c14922dcec66">mPen</a>);
<a name="l00950"></a>00950       painter-&gt;<a class="code" href="class_q_c_p_painter.html#a3aa145eb9865752d583c40ef995c5049">drawScatter</a>(QRectF(rect).center().x(), QRectF(rect).center().y(), <a class="code" href="class_q_c_p_graph.html#a0a1d01359f53211427fb4d71a71dbbec">mScatterSize</a>, <a class="code" href="class_q_c_p_graph.html#a8f255af6fe1df09cedec73857ca0b344">mScatterStyle</a>);
<a name="l00951"></a>00951     }
<a name="l00952"></a>00952   }
<a name="l00953"></a>00953 }
<a name="l00954"></a>00954 
<a name="l00967"></a><a class="code" href="class_q_c_p_graph.html#af66183533a29520be3e74489ad1449cc">00967</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#af66183533a29520be3e74489ad1449cc">QCPGraph::getPlotData</a>(QVector&lt;QPointF&gt; *lineData, QVector&lt;QCPData&gt; *pointData)<span class="keyword"> const</span>
<a name="l00968"></a>00968 <span class="keyword"></span>{
<a name="l00969"></a>00969   <span class="keywordflow">switch</span>(<a class="code" href="class_q_c_p_graph.html#a8604fd98402035a63375849f7341ee25">mLineStyle</a>)
<a name="l00970"></a>00970   {
<a name="l00971"></a>00971     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_graph.html#ad60175cd9b5cac937c5ee685c32c0859aea9591b933733cc7b20786b71e60fa04">lsNone</a>: <a class="code" href="class_q_c_p_graph.html#a0899c4d6357aee19a3abff5897c3c8c5">getScatterPlotData</a>(pointData); <span class="keywordflow">break</span>;
<a name="l00972"></a>00972     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_graph.html#ad60175cd9b5cac937c5ee685c32c0859a3c42a27b15aa3c92d399082fad8b7515" title="data points are connected by a straight line">lsLine</a>: <a class="code" href="class_q_c_p_graph.html#ac76804eb33446181f3e4f708b7639a75">getLinePlotData</a>(lineData, pointData); <span class="keywordflow">break</span>;
<a name="l00973"></a>00973     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_graph.html#ad60175cd9b5cac937c5ee685c32c0859ae10568bda57836487d9dec5eba1d6c6e" title="line is drawn as steps where the step height is the value of the left data point">lsStepLeft</a>: <a class="code" href="class_q_c_p_graph.html#a6b7c14e04deed69b70d552dbe70c4d28">getStepLeftPlotData</a>(lineData, pointData); <span class="keywordflow">break</span>;
<a name="l00974"></a>00974     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_graph.html#ad60175cd9b5cac937c5ee685c32c0859a9c37951f7d11aa070100fd16f2935c9e" title="line is drawn as steps where the step height is the value of the right data point">lsStepRight</a>: <a class="code" href="class_q_c_p_graph.html#ab2ad46716889c73ab977cf9280de0788">getStepRightPlotData</a>(lineData, pointData); <span class="keywordflow">break</span>;
<a name="l00975"></a>00975     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_graph.html#ad60175cd9b5cac937c5ee685c32c0859a5adf7b04da215a40a764c21294ea7366" title="line is drawn as steps where the step is in between two data points">lsStepCenter</a>: <a class="code" href="class_q_c_p_graph.html#ac79dc75dd98db9948d9656447b463af5">getStepCenterPlotData</a>(lineData, pointData); <span class="keywordflow">break</span>;
<a name="l00976"></a>00976     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_graph.html#ad60175cd9b5cac937c5ee685c32c0859aa3b358b4ae7cca94aceeb8e529c12ebb" title="each data point is represented by a line parallel to the value axis, which reaches from the data poin...">lsImpulse</a>: <a class="code" href="class_q_c_p_graph.html#a0ff6e856387cc079b28592ead2a81f6c">getImpulsePlotData</a>(lineData, pointData); <span class="keywordflow">break</span>;
<a name="l00977"></a>00977   }
<a name="l00978"></a>00978 }
<a name="l00979"></a>00979 
<a name="l00990"></a><a class="code" href="class_q_c_p_graph.html#a0899c4d6357aee19a3abff5897c3c8c5">00990</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#a0899c4d6357aee19a3abff5897c3c8c5">QCPGraph::getScatterPlotData</a>(QVector&lt;QCPData&gt; *pointData)<span class="keyword"> const</span>
<a name="l00991"></a>00991 <span class="keyword"></span>{
<a name="l00992"></a>00992   <span class="keywordflow">if</span> (!pointData) <span class="keywordflow">return</span>;
<a name="l00993"></a>00993   
<a name="l00994"></a>00994   <span class="comment">// get visible data range:</span>
<a name="l00995"></a>00995   QCPDataMap::const_iterator lower, upper;
<a name="l00996"></a>00996   <span class="keywordtype">int</span> dataCount;
<a name="l00997"></a>00997   <a class="code" href="class_q_c_p_graph.html#a8963c90087cf53b889b29dd59aa41aad">getVisibleDataBounds</a>(lower, upper, dataCount);
<a name="l00998"></a>00998   <span class="comment">// prepare vectors:</span>
<a name="l00999"></a>00999   <span class="keywordflow">if</span> (pointData)
<a name="l01000"></a>01000     pointData-&gt;resize(dataCount);
<a name="l01001"></a>01001 
<a name="l01002"></a>01002   <span class="comment">// position data points:</span>
<a name="l01003"></a>01003   QCPDataMap::const_iterator it = lower;
<a name="l01004"></a>01004   QCPDataMap::const_iterator upperEnd = upper+1;
<a name="l01005"></a>01005   <span class="keywordtype">int</span> i = 0;
<a name="l01006"></a>01006   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Vertical)
<a name="l01007"></a>01007   {
<a name="l01008"></a>01008     <span class="keywordflow">while</span> (it != upperEnd)
<a name="l01009"></a>01009     {
<a name="l01010"></a>01010       (*pointData)[i] = it.value();
<a name="l01011"></a>01011       ++i;
<a name="l01012"></a>01012       ++it;
<a name="l01013"></a>01013     }
<a name="l01014"></a>01014   } <span class="keywordflow">else</span> <span class="comment">// key axis is horizontal</span>
<a name="l01015"></a>01015   {
<a name="l01016"></a>01016     <span class="keywordflow">while</span> (it != upperEnd)
<a name="l01017"></a>01017     {
<a name="l01018"></a>01018       (*pointData)[i] = it.value();
<a name="l01019"></a>01019       ++i;
<a name="l01020"></a>01020       ++it;
<a name="l01021"></a>01021     }
<a name="l01022"></a>01022   }
<a name="l01023"></a>01023 }
<a name="l01024"></a>01024 
<a name="l01035"></a><a class="code" href="class_q_c_p_graph.html#ac76804eb33446181f3e4f708b7639a75">01035</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#ac76804eb33446181f3e4f708b7639a75">QCPGraph::getLinePlotData</a>(QVector&lt;QPointF&gt; *lineData, QVector&lt;QCPData&gt; *pointData)<span class="keyword"> const</span>
<a name="l01036"></a>01036 <span class="keyword"></span>{
<a name="l01037"></a>01037   <span class="comment">// get visible data range:</span>
<a name="l01038"></a>01038   QCPDataMap::const_iterator lower, upper;
<a name="l01039"></a>01039   <span class="keywordtype">int</span> dataCount;
<a name="l01040"></a>01040   <a class="code" href="class_q_c_p_graph.html#a8963c90087cf53b889b29dd59aa41aad">getVisibleDataBounds</a>(lower, upper, dataCount);
<a name="l01041"></a>01041   <span class="comment">// prepare vectors:</span>
<a name="l01042"></a>01042   <span class="keywordflow">if</span> (lineData)
<a name="l01043"></a>01043   { 
<a name="l01044"></a>01044     <span class="comment">// added 2 to reserve memory for lower/upper fill base points that might be needed for fill</span>
<a name="l01045"></a>01045     lineData-&gt;reserve(dataCount+2);
<a name="l01046"></a>01046     lineData-&gt;resize(dataCount);
<a name="l01047"></a>01047   }
<a name="l01048"></a>01048   <span class="keywordflow">if</span> (pointData)
<a name="l01049"></a>01049     pointData-&gt;resize(dataCount);
<a name="l01050"></a>01050 
<a name="l01051"></a>01051   <span class="comment">// position data points:</span>
<a name="l01052"></a>01052   QCPDataMap::const_iterator it = lower;
<a name="l01053"></a>01053   QCPDataMap::const_iterator upperEnd = upper+1;
<a name="l01054"></a>01054   <span class="keywordtype">int</span> i = 0;
<a name="l01055"></a>01055   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Vertical)
<a name="l01056"></a>01056   {
<a name="l01057"></a>01057     <span class="keywordflow">while</span> (it != upperEnd)
<a name="l01058"></a>01058     {
<a name="l01059"></a>01059       <span class="keywordflow">if</span> (pointData)
<a name="l01060"></a>01060         (*pointData)[i] = it.value();
<a name="l01061"></a>01061       (*lineData)[i].setX(<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.value().value));
<a name="l01062"></a>01062       (*lineData)[i].setY(<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.key()));
<a name="l01063"></a>01063       ++i;
<a name="l01064"></a>01064       ++it;
<a name="l01065"></a>01065     }
<a name="l01066"></a>01066   } <span class="keywordflow">else</span> <span class="comment">// key axis is horizontal</span>
<a name="l01067"></a>01067   {
<a name="l01068"></a>01068     <span class="keywordflow">while</span> (it != upperEnd)
<a name="l01069"></a>01069     {
<a name="l01070"></a>01070       <span class="keywordflow">if</span> (pointData)
<a name="l01071"></a>01071         (*pointData)[i] = it.value();
<a name="l01072"></a>01072       (*lineData)[i].setX(<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.key()));
<a name="l01073"></a>01073       (*lineData)[i].setY(<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.value().value));
<a name="l01074"></a>01074       ++i;
<a name="l01075"></a>01075       ++it;
<a name="l01076"></a>01076     }
<a name="l01077"></a>01077   }
<a name="l01078"></a>01078 }
<a name="l01079"></a>01079 
<a name="l01090"></a><a class="code" href="class_q_c_p_graph.html#a6b7c14e04deed69b70d552dbe70c4d28">01090</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#a6b7c14e04deed69b70d552dbe70c4d28">QCPGraph::getStepLeftPlotData</a>(QVector&lt;QPointF&gt; *lineData, QVector&lt;QCPData&gt; *pointData)<span class="keyword"> const</span>
<a name="l01091"></a>01091 <span class="keyword"></span>{
<a name="l01092"></a>01092   <span class="comment">// get visible data range:</span>
<a name="l01093"></a>01093   QCPDataMap::const_iterator lower, upper;
<a name="l01094"></a>01094   <span class="keywordtype">int</span> dataCount;
<a name="l01095"></a>01095   <a class="code" href="class_q_c_p_graph.html#a8963c90087cf53b889b29dd59aa41aad">getVisibleDataBounds</a>(lower, upper, dataCount);
<a name="l01096"></a>01096   <span class="comment">// prepare vectors:</span>
<a name="l01097"></a>01097   <span class="keywordflow">if</span> (lineData)
<a name="l01098"></a>01098   {
<a name="l01099"></a>01099     <span class="comment">// added 2 to reserve memory for lower/upper fill base points that might be needed for fill</span>
<a name="l01100"></a>01100     <span class="comment">// multiplied by 2 because step plot needs two polyline points per one actual data point</span>
<a name="l01101"></a>01101     lineData-&gt;reserve(dataCount*2+2);
<a name="l01102"></a>01102     lineData-&gt;resize(dataCount*2);
<a name="l01103"></a>01103   }
<a name="l01104"></a>01104   <span class="keywordflow">if</span> (pointData)
<a name="l01105"></a>01105     pointData-&gt;resize(dataCount);
<a name="l01106"></a>01106   
<a name="l01107"></a>01107   <span class="comment">// position data points:</span>
<a name="l01108"></a>01108   QCPDataMap::const_iterator it = lower;
<a name="l01109"></a>01109   QCPDataMap::const_iterator upperEnd = upper+1;
<a name="l01110"></a>01110   <span class="keywordtype">int</span> i = 0;
<a name="l01111"></a>01111   <span class="keywordtype">int</span> ipoint = 0;
<a name="l01112"></a>01112   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Vertical)
<a name="l01113"></a>01113   {
<a name="l01114"></a>01114     <span class="keywordtype">double</span> lastValue = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.value().value);
<a name="l01115"></a>01115     <span class="keywordtype">double</span> key;
<a name="l01116"></a>01116     <span class="keywordflow">while</span> (it != upperEnd)
<a name="l01117"></a>01117     {
<a name="l01118"></a>01118       <span class="keywordflow">if</span> (pointData)
<a name="l01119"></a>01119       {
<a name="l01120"></a>01120         (*pointData)[ipoint] = it.value();
<a name="l01121"></a>01121         ++ipoint;
<a name="l01122"></a>01122       }
<a name="l01123"></a>01123       key = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.key());
<a name="l01124"></a>01124       (*lineData)[i].setX(lastValue);
<a name="l01125"></a>01125       (*lineData)[i].setY(key);
<a name="l01126"></a>01126       ++i;
<a name="l01127"></a>01127       lastValue = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.value().value);
<a name="l01128"></a>01128       (*lineData)[i].setX(lastValue);
<a name="l01129"></a>01129       (*lineData)[i].setY(key);
<a name="l01130"></a>01130       ++i;
<a name="l01131"></a>01131       ++it;
<a name="l01132"></a>01132     }
<a name="l01133"></a>01133   } <span class="keywordflow">else</span> <span class="comment">// key axis is horizontal</span>
<a name="l01134"></a>01134   {
<a name="l01135"></a>01135     <span class="keywordtype">double</span> lastValue = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.value().value);
<a name="l01136"></a>01136     <span class="keywordtype">double</span> key;
<a name="l01137"></a>01137     <span class="keywordflow">while</span> (it != upperEnd)
<a name="l01138"></a>01138     {
<a name="l01139"></a>01139       <span class="keywordflow">if</span> (pointData)
<a name="l01140"></a>01140       {
<a name="l01141"></a>01141         (*pointData)[ipoint] = it.value();
<a name="l01142"></a>01142         ++ipoint;
<a name="l01143"></a>01143       }
<a name="l01144"></a>01144       key = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.key());
<a name="l01145"></a>01145       (*lineData)[i].setX(key);
<a name="l01146"></a>01146       (*lineData)[i].setY(lastValue);
<a name="l01147"></a>01147       ++i;
<a name="l01148"></a>01148       lastValue = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.value().value);
<a name="l01149"></a>01149       (*lineData)[i].setX(key);
<a name="l01150"></a>01150       (*lineData)[i].setY(lastValue);
<a name="l01151"></a>01151       ++i;
<a name="l01152"></a>01152       ++it;
<a name="l01153"></a>01153     }
<a name="l01154"></a>01154   }
<a name="l01155"></a>01155 }
<a name="l01156"></a>01156 
<a name="l01167"></a><a class="code" href="class_q_c_p_graph.html#ab2ad46716889c73ab977cf9280de0788">01167</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#ab2ad46716889c73ab977cf9280de0788">QCPGraph::getStepRightPlotData</a>(QVector&lt;QPointF&gt; *lineData, QVector&lt;QCPData&gt; *pointData)<span class="keyword"> const</span>
<a name="l01168"></a>01168 <span class="keyword"></span>{
<a name="l01169"></a>01169   <span class="comment">// get visible data range:</span>
<a name="l01170"></a>01170   QCPDataMap::const_iterator lower, upper;
<a name="l01171"></a>01171   <span class="keywordtype">int</span> dataCount;
<a name="l01172"></a>01172   <a class="code" href="class_q_c_p_graph.html#a8963c90087cf53b889b29dd59aa41aad">getVisibleDataBounds</a>(lower, upper, dataCount);
<a name="l01173"></a>01173   <span class="comment">// prepare vectors:</span>
<a name="l01174"></a>01174   <span class="keywordflow">if</span> (lineData)
<a name="l01175"></a>01175   {
<a name="l01176"></a>01176     <span class="comment">// added 2 to reserve memory for lower/upper fill base points that might be needed for fill</span>
<a name="l01177"></a>01177     <span class="comment">// multiplied by 2 because step plot needs two polyline points per one actual data point</span>
<a name="l01178"></a>01178     lineData-&gt;reserve(dataCount*2+2);
<a name="l01179"></a>01179     lineData-&gt;resize(dataCount*2);
<a name="l01180"></a>01180   }
<a name="l01181"></a>01181   <span class="keywordflow">if</span> (pointData)
<a name="l01182"></a>01182     pointData-&gt;resize(dataCount);
<a name="l01183"></a>01183   
<a name="l01184"></a>01184   <span class="comment">// position points:</span>
<a name="l01185"></a>01185   QCPDataMap::const_iterator it = lower;
<a name="l01186"></a>01186   QCPDataMap::const_iterator upperEnd = upper+1;
<a name="l01187"></a>01187   <span class="keywordtype">int</span> i = 0;
<a name="l01188"></a>01188   <span class="keywordtype">int</span> ipoint = 0;
<a name="l01189"></a>01189   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Vertical)
<a name="l01190"></a>01190   {
<a name="l01191"></a>01191     <span class="keywordtype">double</span> lastKey = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.key());
<a name="l01192"></a>01192     <span class="keywordtype">double</span> value;
<a name="l01193"></a>01193     <span class="keywordflow">while</span> (it != upperEnd)
<a name="l01194"></a>01194     {
<a name="l01195"></a>01195       <span class="keywordflow">if</span> (pointData)
<a name="l01196"></a>01196       {
<a name="l01197"></a>01197         (*pointData)[ipoint] = it.value();
<a name="l01198"></a>01198         ++ipoint;
<a name="l01199"></a>01199       }
<a name="l01200"></a>01200       value = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.value().value);
<a name="l01201"></a>01201       (*lineData)[i].setX(value);
<a name="l01202"></a>01202       (*lineData)[i].setY(lastKey);
<a name="l01203"></a>01203       ++i;
<a name="l01204"></a>01204       lastKey = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.key());
<a name="l01205"></a>01205       (*lineData)[i].setX(value);
<a name="l01206"></a>01206       (*lineData)[i].setY(lastKey);
<a name="l01207"></a>01207       ++i;
<a name="l01208"></a>01208       ++it;
<a name="l01209"></a>01209     }
<a name="l01210"></a>01210   } <span class="keywordflow">else</span> <span class="comment">// key axis is horizontal</span>
<a name="l01211"></a>01211   {
<a name="l01212"></a>01212     <span class="keywordtype">double</span> lastKey = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.key());
<a name="l01213"></a>01213     <span class="keywordtype">double</span> value;
<a name="l01214"></a>01214     <span class="keywordflow">while</span> (it != upperEnd)
<a name="l01215"></a>01215     {
<a name="l01216"></a>01216       <span class="keywordflow">if</span> (pointData)
<a name="l01217"></a>01217       {
<a name="l01218"></a>01218         (*pointData)[ipoint] = it.value();
<a name="l01219"></a>01219         ++ipoint;
<a name="l01220"></a>01220       }
<a name="l01221"></a>01221       value = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.value().value);
<a name="l01222"></a>01222       (*lineData)[i].setX(lastKey);
<a name="l01223"></a>01223       (*lineData)[i].setY(value);
<a name="l01224"></a>01224       ++i;
<a name="l01225"></a>01225       lastKey = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.key());
<a name="l01226"></a>01226       (*lineData)[i].setX(lastKey);
<a name="l01227"></a>01227       (*lineData)[i].setY(value);
<a name="l01228"></a>01228       ++i;
<a name="l01229"></a>01229       ++it;
<a name="l01230"></a>01230     }
<a name="l01231"></a>01231   }
<a name="l01232"></a>01232 }
<a name="l01233"></a>01233 
<a name="l01244"></a><a class="code" href="class_q_c_p_graph.html#ac79dc75dd98db9948d9656447b463af5">01244</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#ac79dc75dd98db9948d9656447b463af5">QCPGraph::getStepCenterPlotData</a>(QVector&lt;QPointF&gt; *lineData, QVector&lt;QCPData&gt; *pointData)<span class="keyword"> const</span>
<a name="l01245"></a>01245 <span class="keyword"></span>{
<a name="l01246"></a>01246   <span class="comment">// get visible data range:</span>
<a name="l01247"></a>01247   QCPDataMap::const_iterator lower, upper;
<a name="l01248"></a>01248   <span class="keywordtype">int</span> dataCount;
<a name="l01249"></a>01249   <a class="code" href="class_q_c_p_graph.html#a8963c90087cf53b889b29dd59aa41aad">getVisibleDataBounds</a>(lower, upper, dataCount);
<a name="l01250"></a>01250   <span class="comment">// prepare vectors:</span>
<a name="l01251"></a>01251   <span class="keywordflow">if</span> (lineData)
<a name="l01252"></a>01252   {
<a name="l01253"></a>01253     <span class="comment">// added 2 to reserve memory for lower/upper fill base points that might be needed for base fill</span>
<a name="l01254"></a>01254     <span class="comment">// multiplied by 2 because step plot needs two polyline points per one actual data point</span>
<a name="l01255"></a>01255     lineData-&gt;reserve(dataCount*2+2);
<a name="l01256"></a>01256     lineData-&gt;resize(dataCount*2);
<a name="l01257"></a>01257   }
<a name="l01258"></a>01258   <span class="keywordflow">if</span> (pointData)
<a name="l01259"></a>01259     pointData-&gt;resize(dataCount);
<a name="l01260"></a>01260   
<a name="l01261"></a>01261   <span class="comment">// position points:</span>
<a name="l01262"></a>01262   QCPDataMap::const_iterator it = lower;
<a name="l01263"></a>01263   QCPDataMap::const_iterator upperEnd = upper+1;
<a name="l01264"></a>01264   <span class="keywordtype">int</span> i = 0;
<a name="l01265"></a>01265   <span class="keywordtype">int</span> ipoint = 0;
<a name="l01266"></a>01266   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Vertical)
<a name="l01267"></a>01267   {
<a name="l01268"></a>01268     <span class="keywordtype">double</span> lastKey = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.key());
<a name="l01269"></a>01269     <span class="keywordtype">double</span> lastValue = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.value().value);
<a name="l01270"></a>01270     <span class="keywordtype">double</span> key;
<a name="l01271"></a>01271     <span class="keywordflow">if</span> (pointData)
<a name="l01272"></a>01272     {
<a name="l01273"></a>01273       (*pointData)[ipoint] = it.value();
<a name="l01274"></a>01274       ++ipoint;
<a name="l01275"></a>01275     }
<a name="l01276"></a>01276     (*lineData)[i].setX(lastValue);
<a name="l01277"></a>01277     (*lineData)[i].setY(lastKey);
<a name="l01278"></a>01278     ++it;
<a name="l01279"></a>01279     ++i;
<a name="l01280"></a>01280     <span class="keywordflow">while</span> (it != upperEnd)
<a name="l01281"></a>01281     {
<a name="l01282"></a>01282       <span class="keywordflow">if</span> (pointData)
<a name="l01283"></a>01283       {
<a name="l01284"></a>01284         (*pointData)[ipoint] = it.value();
<a name="l01285"></a>01285         ++ipoint;
<a name="l01286"></a>01286       }
<a name="l01287"></a>01287       key = (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.key())-lastKey)*0.5 + lastKey;
<a name="l01288"></a>01288       (*lineData)[i].setX(lastValue);
<a name="l01289"></a>01289       (*lineData)[i].setY(key);
<a name="l01290"></a>01290       ++i;
<a name="l01291"></a>01291       lastValue = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.value().value);
<a name="l01292"></a>01292       lastKey = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.key());
<a name="l01293"></a>01293       (*lineData)[i].setX(lastValue);
<a name="l01294"></a>01294       (*lineData)[i].setY(key);
<a name="l01295"></a>01295       ++it;
<a name="l01296"></a>01296       ++i;
<a name="l01297"></a>01297     }
<a name="l01298"></a>01298     (*lineData)[i].setX(lastValue);
<a name="l01299"></a>01299     (*lineData)[i].setY(lastKey);
<a name="l01300"></a>01300   } <span class="keywordflow">else</span> <span class="comment">// key axis is horizontal</span>
<a name="l01301"></a>01301   {
<a name="l01302"></a>01302     <span class="keywordtype">double</span> lastKey = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.key());
<a name="l01303"></a>01303     <span class="keywordtype">double</span> lastValue = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.value().value);
<a name="l01304"></a>01304     <span class="keywordtype">double</span> key;
<a name="l01305"></a>01305     <span class="keywordflow">if</span> (pointData)
<a name="l01306"></a>01306     {
<a name="l01307"></a>01307       (*pointData)[ipoint] = it.value();
<a name="l01308"></a>01308       ++ipoint;
<a name="l01309"></a>01309     }
<a name="l01310"></a>01310     (*lineData)[i].setX(lastKey);
<a name="l01311"></a>01311     (*lineData)[i].setY(lastValue);
<a name="l01312"></a>01312     ++it;
<a name="l01313"></a>01313     ++i;
<a name="l01314"></a>01314     <span class="keywordflow">while</span> (it != upperEnd)
<a name="l01315"></a>01315     {
<a name="l01316"></a>01316       <span class="keywordflow">if</span> (pointData)
<a name="l01317"></a>01317       {
<a name="l01318"></a>01318         (*pointData)[ipoint] = it.value();
<a name="l01319"></a>01319         ++ipoint;
<a name="l01320"></a>01320       }
<a name="l01321"></a>01321       key = (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.key())-lastKey)*0.5 + lastKey;
<a name="l01322"></a>01322       (*lineData)[i].setX(key);
<a name="l01323"></a>01323       (*lineData)[i].setY(lastValue);
<a name="l01324"></a>01324       ++i;
<a name="l01325"></a>01325       lastValue = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.value().value);
<a name="l01326"></a>01326       lastKey = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.key());
<a name="l01327"></a>01327       (*lineData)[i].setX(key);
<a name="l01328"></a>01328       (*lineData)[i].setY(lastValue);
<a name="l01329"></a>01329       ++it;
<a name="l01330"></a>01330       ++i;
<a name="l01331"></a>01331     }
<a name="l01332"></a>01332     (*lineData)[i].setX(lastKey);
<a name="l01333"></a>01333     (*lineData)[i].setY(lastValue);
<a name="l01334"></a>01334   }
<a name="l01335"></a>01335 }
<a name="l01336"></a>01336 
<a name="l01347"></a><a class="code" href="class_q_c_p_graph.html#a0ff6e856387cc079b28592ead2a81f6c">01347</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#a0ff6e856387cc079b28592ead2a81f6c">QCPGraph::getImpulsePlotData</a>(QVector&lt;QPointF&gt; *lineData, QVector&lt;QCPData&gt; *pointData)<span class="keyword"> const</span>
<a name="l01348"></a>01348 <span class="keyword"></span>{
<a name="l01349"></a>01349   <span class="comment">// get visible data range:</span>
<a name="l01350"></a>01350   QCPDataMap::const_iterator lower, upper;
<a name="l01351"></a>01351   <span class="keywordtype">int</span> dataCount;
<a name="l01352"></a>01352   <a class="code" href="class_q_c_p_graph.html#a8963c90087cf53b889b29dd59aa41aad">getVisibleDataBounds</a>(lower, upper, dataCount);
<a name="l01353"></a>01353   <span class="comment">// prepare vectors:</span>
<a name="l01354"></a>01354   <span class="keywordflow">if</span> (lineData)
<a name="l01355"></a>01355   {
<a name="l01356"></a>01356     <span class="comment">// no need to reserve 2 extra points, because there is no fill for impulse plot</span>
<a name="l01357"></a>01357     lineData-&gt;resize(dataCount*2);
<a name="l01358"></a>01358   }
<a name="l01359"></a>01359   <span class="keywordflow">if</span> (pointData)
<a name="l01360"></a>01360     pointData-&gt;resize(dataCount);
<a name="l01361"></a>01361   
<a name="l01362"></a>01362   <span class="comment">// position data points:</span>
<a name="l01363"></a>01363   QCPDataMap::const_iterator it = lower;
<a name="l01364"></a>01364   QCPDataMap::const_iterator upperEnd = upper+1;
<a name="l01365"></a>01365   <span class="keywordtype">int</span> i = 0;
<a name="l01366"></a>01366   <span class="keywordtype">int</span> ipoint = 0;
<a name="l01367"></a>01367   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Vertical)
<a name="l01368"></a>01368   {
<a name="l01369"></a>01369     <span class="keywordtype">double</span> zeroPointX = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(0);
<a name="l01370"></a>01370     <span class="keywordtype">double</span> key;
<a name="l01371"></a>01371     <span class="keywordflow">while</span> (it != upperEnd)
<a name="l01372"></a>01372     {
<a name="l01373"></a>01373       <span class="keywordflow">if</span> (pointData)
<a name="l01374"></a>01374       {
<a name="l01375"></a>01375         (*pointData)[ipoint] = it.value();
<a name="l01376"></a>01376         ++ipoint;
<a name="l01377"></a>01377       }
<a name="l01378"></a>01378       key = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.key());
<a name="l01379"></a>01379       (*lineData)[i].setX(zeroPointX);
<a name="l01380"></a>01380       (*lineData)[i].setY(key);
<a name="l01381"></a>01381       ++i;
<a name="l01382"></a>01382       (*lineData)[i].setX(<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.value().value));
<a name="l01383"></a>01383       (*lineData)[i].setY(key);
<a name="l01384"></a>01384       ++i;
<a name="l01385"></a>01385       ++it;
<a name="l01386"></a>01386     }
<a name="l01387"></a>01387   } <span class="keywordflow">else</span> <span class="comment">// key axis is horizontal</span>
<a name="l01388"></a>01388   {
<a name="l01389"></a>01389     <span class="keywordtype">double</span> zeroPointY = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(0);
<a name="l01390"></a>01390     <span class="keywordtype">double</span> key;
<a name="l01391"></a>01391     <span class="keywordflow">while</span> (it != upperEnd)
<a name="l01392"></a>01392     {
<a name="l01393"></a>01393       <span class="keywordflow">if</span> (pointData)
<a name="l01394"></a>01394       {
<a name="l01395"></a>01395         (*pointData)[ipoint] = it.value();
<a name="l01396"></a>01396         ++ipoint;
<a name="l01397"></a>01397       }
<a name="l01398"></a>01398       key = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.key());
<a name="l01399"></a>01399       (*lineData)[i].setX(key);
<a name="l01400"></a>01400       (*lineData)[i].setY(zeroPointY);
<a name="l01401"></a>01401       ++i;
<a name="l01402"></a>01402       (*lineData)[i].setX(key);
<a name="l01403"></a>01403       (*lineData)[i].setY(<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(it.value().value));
<a name="l01404"></a>01404       ++i;
<a name="l01405"></a>01405       ++it;
<a name="l01406"></a>01406     }
<a name="l01407"></a>01407   }
<a name="l01408"></a>01408 }
<a name="l01409"></a>01409 
<a name="l01421"></a><a class="code" href="class_q_c_p_graph.html#ad6d07926e6d6b7cfa70258780d47b7a0">01421</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#ad6d07926e6d6b7cfa70258780d47b7a0">QCPGraph::drawFill</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter, QVector&lt;QPointF&gt; *lineData)<span class="keyword"> const</span>
<a name="l01422"></a>01422 <span class="keyword"></span>{
<a name="l01423"></a>01423   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#a8604fd98402035a63375849f7341ee25">mLineStyle</a> == <a class="code" href="class_q_c_p_graph.html#ad60175cd9b5cac937c5ee685c32c0859aa3b358b4ae7cca94aceeb8e529c12ebb" title="each data point is represented by a line parallel to the value axis, which reaches from the data poin...">lsImpulse</a>) <span class="keywordflow">return</span>; <span class="comment">// fill doesn&#39;t make sense for impulse plot</span>
<a name="l01424"></a>01424   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#ae74c123832da180c17e22203e748d9b7">mainBrush</a>().style() == Qt::NoBrush || <a class="code" href="class_q_c_p_abstract_plottable.html#ae74c123832da180c17e22203e748d9b7">mainBrush</a>().color().alpha() == 0) <span class="keywordflow">return</span>;
<a name="l01425"></a>01425   
<a name="l01426"></a>01426   <a class="code" href="class_q_c_p_abstract_plottable.html#ac08a480155895e674dbfe5a5670e0ff3">applyFillAntialiasingHint</a>(painter);
<a name="l01427"></a>01427   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_graph.html#aa49af2f241d9ffdc301a24f08b10bdc8">mChannelFillGraph</a>)
<a name="l01428"></a>01428   {
<a name="l01429"></a>01429     <span class="comment">// draw base fill under graph, fill goes all the way to the zero-value-line:</span>
<a name="l01430"></a>01430     <a class="code" href="class_q_c_p_graph.html#a5fa7884620d7c54b81dfbd255d97b636">addFillBasePoints</a>(lineData);
<a name="l01431"></a>01431     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(Qt::NoPen);
<a name="l01432"></a>01432     painter-&gt;setBrush(<a class="code" href="class_q_c_p_abstract_plottable.html#ae74c123832da180c17e22203e748d9b7">mainBrush</a>());
<a name="l01433"></a>01433     painter-&gt;drawPolygon(QPolygonF(*lineData));
<a name="l01434"></a>01434     <a class="code" href="class_q_c_p_graph.html#ad31b49a90e91e538fd9caf011c913a68">removeFillBasePoints</a>(lineData);
<a name="l01435"></a>01435   } <span class="keywordflow">else</span>
<a name="l01436"></a>01436   {
<a name="l01437"></a>01437     <span class="comment">// draw channel fill between this graph and mChannelFillGraph:</span>
<a name="l01438"></a>01438     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(Qt::NoPen);
<a name="l01439"></a>01439     painter-&gt;setBrush(<a class="code" href="class_q_c_p_abstract_plottable.html#ae74c123832da180c17e22203e748d9b7">mainBrush</a>());
<a name="l01440"></a>01440     painter-&gt;drawPolygon(<a class="code" href="class_q_c_p_graph.html#a0374b7268e35cab9802a6be2b5d726d7">getChannelFillPolygon</a>(lineData));
<a name="l01441"></a>01441   }
<a name="l01442"></a>01442 }
<a name="l01443"></a>01443 
<a name="l01451"></a><a class="code" href="class_q_c_p_graph.html#af1872a60bed7acb3f3b17bfae3f4764c">01451</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#af1872a60bed7acb3f3b17bfae3f4764c">QCPGraph::drawScatterPlot</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter, QVector&lt;QCPData&gt; *pointData)<span class="keyword"> const</span>
<a name="l01452"></a>01452 <span class="keyword"></span>{
<a name="l01453"></a>01453   <span class="comment">// draw error bars:</span>
<a name="l01454"></a>01454   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#a29e64273db201aeadebc61c870720a36">mErrorType</a> != <a class="code" href="class_q_c_p_graph.html#ad23b514404bd2cb3216f57c90904d6afaeae745e7cc1766bb8546e35d4b76a711" title="No error bars are shown.">etNone</a>)
<a name="l01455"></a>01455   {
<a name="l01456"></a>01456     <a class="code" href="class_q_c_p_abstract_plottable.html#af687bfe6160255960558eb71f1f81e73">applyErrorBarsAntialiasingHint</a>(painter);
<a name="l01457"></a>01457     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_graph.html#aa35681a24165c2831301091a87b662ce">mErrorPen</a>);
<a name="l01458"></a>01458     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Vertical)
<a name="l01459"></a>01459     {
<a name="l01460"></a>01460       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;pointData-&gt;size(); ++i)
<a name="l01461"></a>01461         <a class="code" href="class_q_c_p_graph.html#a4df6807066ce877705e999773e7ffbc4">drawError</a>(painter, <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(pointData-&gt;at(i).value), <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(pointData-&gt;at(i).key), pointData-&gt;at(i));
<a name="l01462"></a>01462     } <span class="keywordflow">else</span>
<a name="l01463"></a>01463     {
<a name="l01464"></a>01464       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;pointData-&gt;size(); ++i)
<a name="l01465"></a>01465         <a class="code" href="class_q_c_p_graph.html#a4df6807066ce877705e999773e7ffbc4">drawError</a>(painter, <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(pointData-&gt;at(i).key), <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(pointData-&gt;at(i).value), pointData-&gt;at(i));
<a name="l01466"></a>01466     }
<a name="l01467"></a>01467   }
<a name="l01468"></a>01468   
<a name="l01469"></a>01469   <span class="comment">// draw scatter point symbols:</span>
<a name="l01470"></a>01470   <a class="code" href="class_q_c_p_abstract_plottable.html#a753272ee225a62827e90c3e1e78de4b1">applyScattersAntialiasingHint</a>(painter);
<a name="l01471"></a>01471   painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_abstract_plottable.html#a19276ed2382a3a06464417b8788b1451">mainPen</a>());
<a name="l01472"></a>01472   painter-&gt;setBrush(<a class="code" href="class_q_c_p_abstract_plottable.html#ae74c123832da180c17e22203e748d9b7">mainBrush</a>());
<a name="l01473"></a>01473   painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0f636de68b40d2e169ab15a8ca067107">setScatterPixmap</a>(<a class="code" href="class_q_c_p_graph.html#a38fccb64b03a53f3ba2839c94dc31e8f">mScatterPixmap</a>);
<a name="l01474"></a>01474   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Vertical)
<a name="l01475"></a>01475   {
<a name="l01476"></a>01476     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;pointData-&gt;size(); ++i)
<a name="l01477"></a>01477       painter-&gt;<a class="code" href="class_q_c_p_painter.html#a3aa145eb9865752d583c40ef995c5049">drawScatter</a>(<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(pointData-&gt;at(i).value), <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(pointData-&gt;at(i).key), <a class="code" href="class_q_c_p_graph.html#a0a1d01359f53211427fb4d71a71dbbec">mScatterSize</a>, <a class="code" href="class_q_c_p_graph.html#a8f255af6fe1df09cedec73857ca0b344">mScatterStyle</a>);
<a name="l01478"></a>01478   } <span class="keywordflow">else</span>
<a name="l01479"></a>01479   {
<a name="l01480"></a>01480     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;pointData-&gt;size(); ++i)
<a name="l01481"></a>01481       painter-&gt;<a class="code" href="class_q_c_p_painter.html#a3aa145eb9865752d583c40ef995c5049">drawScatter</a>(<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(pointData-&gt;at(i).key), <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(pointData-&gt;at(i).value), <a class="code" href="class_q_c_p_graph.html#a0a1d01359f53211427fb4d71a71dbbec">mScatterSize</a>, <a class="code" href="class_q_c_p_graph.html#a8f255af6fe1df09cedec73857ca0b344">mScatterStyle</a>);
<a name="l01482"></a>01482   }
<a name="l01483"></a>01483 }
<a name="l01484"></a>01484 
<a name="l01493"></a><a class="code" href="class_q_c_p_graph.html#acebc22c3385829b19a87e6281fe6ade2">01493</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#acebc22c3385829b19a87e6281fe6ade2">QCPGraph::drawLinePlot</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter, QVector&lt;QPointF&gt; *lineData)<span class="keyword"> const</span>
<a name="l01494"></a>01494 <span class="keyword"></span>{
<a name="l01495"></a>01495   <span class="comment">// draw line of graph:</span>
<a name="l01496"></a>01496   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a19276ed2382a3a06464417b8788b1451">mainPen</a>().style() != Qt::NoPen &amp;&amp; <a class="code" href="class_q_c_p_abstract_plottable.html#a19276ed2382a3a06464417b8788b1451">mainPen</a>().color().alpha() != 0)
<a name="l01497"></a>01497   {
<a name="l01498"></a>01498     <a class="code" href="class_q_c_p_abstract_plottable.html#a76e9d6cc7972dc1528f526d163766aca">applyDefaultAntialiasingHint</a>(painter);
<a name="l01499"></a>01499     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_abstract_plottable.html#a19276ed2382a3a06464417b8788b1451">mainPen</a>());
<a name="l01500"></a>01500     painter-&gt;setBrush(Qt::NoBrush);
<a name="l01501"></a>01501     
<a name="l01502"></a>01502     <span class="comment">/* Draws polyline in batches, currently not used:</span>
<a name="l01503"></a>01503 <span class="comment">    int p = 0;</span>
<a name="l01504"></a>01504 <span class="comment">    while (p &lt; lineData-&gt;size())</span>
<a name="l01505"></a>01505 <span class="comment">    {</span>
<a name="l01506"></a>01506 <span class="comment">      int batch = qMin(25, lineData-&gt;size()-p);</span>
<a name="l01507"></a>01507 <span class="comment">      if (p != 0)</span>
<a name="l01508"></a>01508 <span class="comment">      {</span>
<a name="l01509"></a>01509 <span class="comment">        ++batch;</span>
<a name="l01510"></a>01510 <span class="comment">        --p; // to draw the connection lines between two batches</span>
<a name="l01511"></a>01511 <span class="comment">      }</span>
<a name="l01512"></a>01512 <span class="comment">      painter-&gt;drawPolyline(lineData-&gt;constData()+p, batch);</span>
<a name="l01513"></a>01513 <span class="comment">      p += batch;</span>
<a name="l01514"></a>01514 <span class="comment">    }</span>
<a name="l01515"></a>01515 <span class="comment">    */</span>
<a name="l01516"></a>01516     
<a name="l01517"></a>01517     <span class="comment">// if drawing solid line and not in PDF, use much faster line drawing instead of polyline:</span>
<a name="l01518"></a>01518     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a130b55e205697a5288081e9fc11e443e">plottingHints</a>().testFlag(<a class="code" href="namespace_q_c_p.html#a5400e5fcb9528d92002ddb938c1f4ef4aa5fd227bc878c56ad2a87ea32c74ee4d">QCP::phFastPolylines</a>) &amp;&amp;
<a name="l01519"></a>01519         painter-&gt;pen().style() == Qt::SolidLine &amp;&amp;
<a name="l01520"></a>01520         !painter-&gt;<a class="code" href="class_q_c_p_painter.html#ac272648ed66f0602f2250de45cbbeb33">pdfExportMode</a>())
<a name="l01521"></a>01521     {
<a name="l01522"></a>01522       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=1; i&lt;lineData-&gt;size(); ++i)
<a name="l01523"></a>01523         painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(lineData-&gt;at(i-1), lineData-&gt;at(i));
<a name="l01524"></a>01524     } <span class="keywordflow">else</span>
<a name="l01525"></a>01525     {  
<a name="l01526"></a>01526       painter-&gt;drawPolyline(QPolygonF(*lineData));
<a name="l01527"></a>01527     }
<a name="l01528"></a>01528   }
<a name="l01529"></a>01529 }
<a name="l01530"></a>01530 
<a name="l01537"></a><a class="code" href="class_q_c_p_graph.html#abc01180629621f1e47e94559227d3d8c">01537</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#abc01180629621f1e47e94559227d3d8c">QCPGraph::drawImpulsePlot</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter, QVector&lt;QPointF&gt; *lineData)<span class="keyword"> const</span>
<a name="l01538"></a>01538 <span class="keyword"></span>{
<a name="l01539"></a>01539   <span class="comment">// draw impulses:</span>
<a name="l01540"></a>01540   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a19276ed2382a3a06464417b8788b1451">mainPen</a>().style() != Qt::NoPen &amp;&amp; <a class="code" href="class_q_c_p_abstract_plottable.html#a19276ed2382a3a06464417b8788b1451">mainPen</a>().color().alpha() != 0)
<a name="l01541"></a>01541   {
<a name="l01542"></a>01542     <a class="code" href="class_q_c_p_abstract_plottable.html#a76e9d6cc7972dc1528f526d163766aca">applyDefaultAntialiasingHint</a>(painter);
<a name="l01543"></a>01543     QPen <a class="code" href="class_q_c_p_abstract_plottable.html#a41d060007cc6b3037c9c04d22d0c0398">pen</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#a19276ed2382a3a06464417b8788b1451">mainPen</a>();
<a name="l01544"></a>01544     pen.setCapStyle(Qt::FlatCap); <span class="comment">// so impulse line doesn&#39;t reach beyond zero-line</span>
<a name="l01545"></a>01545     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(pen);
<a name="l01546"></a>01546     painter-&gt;setBrush(Qt::NoBrush);
<a name="l01547"></a>01547     painter-&gt;drawLines(*lineData);
<a name="l01548"></a>01548   }
<a name="l01549"></a>01549 }
<a name="l01550"></a>01550 
<a name="l01558"></a><a class="code" href="class_q_c_p_graph.html#a4df6807066ce877705e999773e7ffbc4">01558</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#a4df6807066ce877705e999773e7ffbc4">QCPGraph::drawError</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter, <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keyword">const</span> <a class="code" href="class_q_c_p_data.html" title="Holds the data of one single data point for QCPGraph.">QCPData</a> &amp;data)<span class="keyword"> const</span>
<a name="l01559"></a>01559 <span class="keyword"></span>{
<a name="l01560"></a>01560   <span class="keywordtype">double</span> a, b; <span class="comment">// positions of error bar bounds in pixels</span>
<a name="l01561"></a>01561   <span class="keywordtype">double</span> barWidthHalf = <a class="code" href="class_q_c_p_graph.html#a7b51c8d09510f9d195b5e765ccbcf05b">mErrorBarSize</a>*0.5;
<a name="l01562"></a>01562   <span class="keywordtype">double</span> skipSymbolMargin = <a class="code" href="class_q_c_p_graph.html#a0a1d01359f53211427fb4d71a71dbbec">mScatterSize</a>*1.25; <span class="comment">// pixels left blank per side, when mErrorBarSkipSymbol is true</span>
<a name="l01563"></a>01563 
<a name="l01564"></a>01564   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Vertical)
<a name="l01565"></a>01565   {
<a name="l01566"></a>01566     <span class="comment">// draw key error vertically and value error horizontally</span>
<a name="l01567"></a>01567     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#a29e64273db201aeadebc61c870720a36">mErrorType</a> == <a class="code" href="class_q_c_p_graph.html#ad23b514404bd2cb3216f57c90904d6afa2a5d89cd76fb8b6b18d71b8f6f6c0f43" title="Error bars for the key dimension of the data point are shown.">etKey</a> || <a class="code" href="class_q_c_p_graph.html#a29e64273db201aeadebc61c870720a36">mErrorType</a> == <a class="code" href="class_q_c_p_graph.html#ad23b514404bd2cb3216f57c90904d6afa761cb7d61670c1e2efecccd8974409ab" title="Error bars for both key and value dimensions of the data point are shown.">etBoth</a>)
<a name="l01568"></a>01568     {
<a name="l01569"></a>01569       a = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(data.<a class="code" href="class_q_c_p_data.html#a2f5ba9aca61bb74f88516e148a4cf71b">key</a>-data.<a class="code" href="class_q_c_p_data.html#af107d650b8ee5c3b2961ecddcfb1bccb">keyErrorMinus</a>);
<a name="l01570"></a>01570       b = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(data.<a class="code" href="class_q_c_p_data.html#a2f5ba9aca61bb74f88516e148a4cf71b">key</a>+data.<a class="code" href="class_q_c_p_data.html#ae468c3808107c2fd23052481156ab5b5">keyErrorPlus</a>);
<a name="l01571"></a>01571       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ade26dc7994ccd8a11f64fd83377ee021">rangeReversed</a>())
<a name="l01572"></a>01572         qSwap(a,b);
<a name="l01573"></a>01573       <span class="comment">// draw spine:</span>
<a name="l01574"></a>01574       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#acf631d7dbd1055a69ab3b63094868557">mErrorBarSkipSymbol</a>)
<a name="l01575"></a>01575       {
<a name="l01576"></a>01576         <span class="keywordflow">if</span> (a-y &gt; skipSymbolMargin) <span class="comment">// don&#39;t draw spine if error is so small it&#39;s within skipSymbolmargin</span>
<a name="l01577"></a>01577           painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x, a, x, y+skipSymbolMargin));
<a name="l01578"></a>01578         <span class="keywordflow">if</span> (y-b &gt; skipSymbolMargin) 
<a name="l01579"></a>01579           painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x, y-skipSymbolMargin, x, b));
<a name="l01580"></a>01580       } <span class="keywordflow">else</span>
<a name="l01581"></a>01581         painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x, a, x, b));
<a name="l01582"></a>01582       <span class="comment">// draw handles:</span>
<a name="l01583"></a>01583       painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x-barWidthHalf, a, x+barWidthHalf, a));
<a name="l01584"></a>01584       painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x-barWidthHalf, b, x+barWidthHalf, b));
<a name="l01585"></a>01585     }
<a name="l01586"></a>01586     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#a29e64273db201aeadebc61c870720a36">mErrorType</a> == <a class="code" href="class_q_c_p_graph.html#ad23b514404bd2cb3216f57c90904d6afa147022ccdc49f6bd48f904cb4f61872e" title="Error bars for the value dimension of the data point are shown.">etValue</a> || <a class="code" href="class_q_c_p_graph.html#a29e64273db201aeadebc61c870720a36">mErrorType</a> == <a class="code" href="class_q_c_p_graph.html#ad23b514404bd2cb3216f57c90904d6afa761cb7d61670c1e2efecccd8974409ab" title="Error bars for both key and value dimensions of the data point are shown.">etBoth</a>)
<a name="l01587"></a>01587     {
<a name="l01588"></a>01588       a = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(data.<a class="code" href="class_q_c_p_data.html#aefe1ecf8fa2e34ed875b67523e542373">value</a>-data.<a class="code" href="class_q_c_p_data.html#a51d8f42bf4d49a1f263531e70cadd6a3">valueErrorMinus</a>);
<a name="l01589"></a>01589       b = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(data.<a class="code" href="class_q_c_p_data.html#aefe1ecf8fa2e34ed875b67523e542373">value</a>+data.<a class="code" href="class_q_c_p_data.html#ad26912552d03485ea20d91dcad16aa8f">valueErrorPlus</a>);
<a name="l01590"></a>01590       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ade26dc7994ccd8a11f64fd83377ee021">rangeReversed</a>())
<a name="l01591"></a>01591         qSwap(a,b);
<a name="l01592"></a>01592       <span class="comment">// draw spine:</span>
<a name="l01593"></a>01593       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#acf631d7dbd1055a69ab3b63094868557">mErrorBarSkipSymbol</a>)
<a name="l01594"></a>01594       {
<a name="l01595"></a>01595         <span class="keywordflow">if</span> (x-a &gt; skipSymbolMargin) <span class="comment">// don&#39;t draw spine if error is so small it&#39;s within skipSymbolmargin</span>
<a name="l01596"></a>01596           painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(a, y, x-skipSymbolMargin, y));
<a name="l01597"></a>01597         <span class="keywordflow">if</span> (b-x &gt; skipSymbolMargin)
<a name="l01598"></a>01598           painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x+skipSymbolMargin, y, b, y));
<a name="l01599"></a>01599       } <span class="keywordflow">else</span>
<a name="l01600"></a>01600         painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(a, y, b, y));
<a name="l01601"></a>01601       <span class="comment">// draw handles:</span>
<a name="l01602"></a>01602       painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(a, y-barWidthHalf, a, y+barWidthHalf));
<a name="l01603"></a>01603       painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(b, y-barWidthHalf, b, y+barWidthHalf));
<a name="l01604"></a>01604     }
<a name="l01605"></a>01605   } <span class="keywordflow">else</span> <span class="comment">// mKeyAxis-&gt;orientation() is Qt::Horizontal</span>
<a name="l01606"></a>01606   {
<a name="l01607"></a>01607     <span class="comment">// draw value error vertically and key error horizontally</span>
<a name="l01608"></a>01608     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#a29e64273db201aeadebc61c870720a36">mErrorType</a> == <a class="code" href="class_q_c_p_graph.html#ad23b514404bd2cb3216f57c90904d6afa2a5d89cd76fb8b6b18d71b8f6f6c0f43" title="Error bars for the key dimension of the data point are shown.">etKey</a> || <a class="code" href="class_q_c_p_graph.html#a29e64273db201aeadebc61c870720a36">mErrorType</a> == <a class="code" href="class_q_c_p_graph.html#ad23b514404bd2cb3216f57c90904d6afa761cb7d61670c1e2efecccd8974409ab" title="Error bars for both key and value dimensions of the data point are shown.">etBoth</a>)
<a name="l01609"></a>01609     {
<a name="l01610"></a>01610       a = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(data.<a class="code" href="class_q_c_p_data.html#a2f5ba9aca61bb74f88516e148a4cf71b">key</a>-data.<a class="code" href="class_q_c_p_data.html#af107d650b8ee5c3b2961ecddcfb1bccb">keyErrorMinus</a>);
<a name="l01611"></a>01611       b = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(data.<a class="code" href="class_q_c_p_data.html#a2f5ba9aca61bb74f88516e148a4cf71b">key</a>+data.<a class="code" href="class_q_c_p_data.html#ae468c3808107c2fd23052481156ab5b5">keyErrorPlus</a>);
<a name="l01612"></a>01612       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ade26dc7994ccd8a11f64fd83377ee021">rangeReversed</a>())
<a name="l01613"></a>01613         qSwap(a,b);
<a name="l01614"></a>01614       <span class="comment">// draw spine:</span>
<a name="l01615"></a>01615       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#acf631d7dbd1055a69ab3b63094868557">mErrorBarSkipSymbol</a>)
<a name="l01616"></a>01616       {
<a name="l01617"></a>01617         <span class="keywordflow">if</span> (x-a &gt; skipSymbolMargin) <span class="comment">// don&#39;t draw spine if error is so small it&#39;s within skipSymbolmargin</span>
<a name="l01618"></a>01618           painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(a, y, x-skipSymbolMargin, y));
<a name="l01619"></a>01619         <span class="keywordflow">if</span> (b-x &gt; skipSymbolMargin)
<a name="l01620"></a>01620           painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x+skipSymbolMargin, y, b, y));
<a name="l01621"></a>01621       } <span class="keywordflow">else</span>
<a name="l01622"></a>01622         painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(a, y, b, y));
<a name="l01623"></a>01623       <span class="comment">// draw handles:</span>
<a name="l01624"></a>01624       painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(a, y-barWidthHalf, a, y+barWidthHalf));
<a name="l01625"></a>01625       painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(b, y-barWidthHalf, b, y+barWidthHalf));
<a name="l01626"></a>01626     }
<a name="l01627"></a>01627     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#a29e64273db201aeadebc61c870720a36">mErrorType</a> == <a class="code" href="class_q_c_p_graph.html#ad23b514404bd2cb3216f57c90904d6afa147022ccdc49f6bd48f904cb4f61872e" title="Error bars for the value dimension of the data point are shown.">etValue</a> || <a class="code" href="class_q_c_p_graph.html#a29e64273db201aeadebc61c870720a36">mErrorType</a> == <a class="code" href="class_q_c_p_graph.html#ad23b514404bd2cb3216f57c90904d6afa761cb7d61670c1e2efecccd8974409ab" title="Error bars for both key and value dimensions of the data point are shown.">etBoth</a>)
<a name="l01628"></a>01628     {
<a name="l01629"></a>01629       a = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(data.<a class="code" href="class_q_c_p_data.html#aefe1ecf8fa2e34ed875b67523e542373">value</a>-data.<a class="code" href="class_q_c_p_data.html#a51d8f42bf4d49a1f263531e70cadd6a3">valueErrorMinus</a>);
<a name="l01630"></a>01630       b = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(data.<a class="code" href="class_q_c_p_data.html#aefe1ecf8fa2e34ed875b67523e542373">value</a>+data.<a class="code" href="class_q_c_p_data.html#ad26912552d03485ea20d91dcad16aa8f">valueErrorPlus</a>);
<a name="l01631"></a>01631       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ade26dc7994ccd8a11f64fd83377ee021">rangeReversed</a>())
<a name="l01632"></a>01632         qSwap(a,b);
<a name="l01633"></a>01633       <span class="comment">// draw spine:</span>
<a name="l01634"></a>01634       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#acf631d7dbd1055a69ab3b63094868557">mErrorBarSkipSymbol</a>)
<a name="l01635"></a>01635       {
<a name="l01636"></a>01636         <span class="keywordflow">if</span> (a-y &gt; skipSymbolMargin) <span class="comment">// don&#39;t draw spine if error is so small it&#39;s within skipSymbolmargin</span>
<a name="l01637"></a>01637           painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x, a, x, y+skipSymbolMargin));
<a name="l01638"></a>01638         <span class="keywordflow">if</span> (y-b &gt; skipSymbolMargin)
<a name="l01639"></a>01639           painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x, y-skipSymbolMargin, x, b));
<a name="l01640"></a>01640       } <span class="keywordflow">else</span>
<a name="l01641"></a>01641         painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x, a, x, b));
<a name="l01642"></a>01642       <span class="comment">// draw handles:</span>
<a name="l01643"></a>01643       painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x-barWidthHalf, a, x+barWidthHalf, a));
<a name="l01644"></a>01644       painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x-barWidthHalf, b, x+barWidthHalf, b));
<a name="l01645"></a>01645     }
<a name="l01646"></a>01646   }
<a name="l01647"></a>01647 }
<a name="l01648"></a>01648 
<a name="l01662"></a><a class="code" href="class_q_c_p_graph.html#a8963c90087cf53b889b29dd59aa41aad">01662</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#a8963c90087cf53b889b29dd59aa41aad">QCPGraph::getVisibleDataBounds</a>(QCPDataMap::const_iterator &amp;lower, QCPDataMap::const_iterator &amp;upper, <span class="keywordtype">int</span> &amp;count)<span class="keyword"> const</span>
<a name="l01663"></a>01663 <span class="keyword"></span>{
<a name="l01664"></a>01664   <span class="comment">// get visible data range as QMap iterators</span>
<a name="l01665"></a>01665   QCPDataMap::const_iterator lbound = <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;lowerBound(<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>);
<a name="l01666"></a>01666   QCPDataMap::const_iterator ubound = <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;upperBound(<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>)-1;
<a name="l01667"></a>01667   <span class="keywordtype">bool</span> lowoutlier = lbound != <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;constBegin(); <span class="comment">// indicates whether there exist points below axis range</span>
<a name="l01668"></a>01668   <span class="keywordtype">bool</span> highoutlier = ubound+1 != <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;constEnd(); <span class="comment">// indicates whether there exist points above axis range</span>
<a name="l01669"></a>01669   lower = (lowoutlier ? lbound-1 : lbound); <span class="comment">// data pointrange that will be actually drawn</span>
<a name="l01670"></a>01670   upper = (highoutlier ? ubound+1 : ubound); <span class="comment">// data pointrange that will be actually drawn</span>
<a name="l01671"></a>01671   
<a name="l01672"></a>01672   <span class="comment">// count number of points in range lower to upper (including them), so we can allocate array for them in draw functions:</span>
<a name="l01673"></a>01673   QCPDataMap::const_iterator it = lower;
<a name="l01674"></a>01674   count = 1;
<a name="l01675"></a>01675   <span class="keywordflow">while</span> (it != upper)
<a name="l01676"></a>01676   {
<a name="l01677"></a>01677     ++it;
<a name="l01678"></a>01678     ++count;
<a name="l01679"></a>01679   }
<a name="l01680"></a>01680 }
<a name="l01681"></a>01681 
<a name="l01696"></a><a class="code" href="class_q_c_p_graph.html#a5fa7884620d7c54b81dfbd255d97b636">01696</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#a5fa7884620d7c54b81dfbd255d97b636">QCPGraph::addFillBasePoints</a>(QVector&lt;QPointF&gt; *lineData)<span class="keyword"> const</span>
<a name="l01697"></a>01697 <span class="keyword"></span>{
<a name="l01698"></a>01698   <span class="comment">// append points that close the polygon fill at the key axis:</span>
<a name="l01699"></a>01699   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Vertical)
<a name="l01700"></a>01700   {
<a name="l01701"></a>01701     *lineData &lt;&lt; <a class="code" href="class_q_c_p_graph.html#a363d066c179e0f46cc93c12bafb0bfba">upperFillBasePoint</a>(lineData-&gt;last().y());
<a name="l01702"></a>01702     *lineData &lt;&lt; <a class="code" href="class_q_c_p_graph.html#a41f982e8ceaefe6a53eb7432f26d64b6">lowerFillBasePoint</a>(lineData-&gt;first().y());
<a name="l01703"></a>01703   } <span class="keywordflow">else</span>
<a name="l01704"></a>01704   {
<a name="l01705"></a>01705     *lineData &lt;&lt; <a class="code" href="class_q_c_p_graph.html#a363d066c179e0f46cc93c12bafb0bfba">upperFillBasePoint</a>(lineData-&gt;last().x());
<a name="l01706"></a>01706     *lineData &lt;&lt; <a class="code" href="class_q_c_p_graph.html#a41f982e8ceaefe6a53eb7432f26d64b6">lowerFillBasePoint</a>(lineData-&gt;first().x());
<a name="l01707"></a>01707   }
<a name="l01708"></a>01708 }
<a name="l01709"></a>01709 
<a name="l01715"></a><a class="code" href="class_q_c_p_graph.html#ad31b49a90e91e538fd9caf011c913a68">01715</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_graph.html#ad31b49a90e91e538fd9caf011c913a68">QCPGraph::removeFillBasePoints</a>(QVector&lt;QPointF&gt; *lineData)<span class="keyword"> const</span>
<a name="l01716"></a>01716 <span class="keyword"></span>{
<a name="l01717"></a>01717   lineData-&gt;remove(lineData-&gt;size()-2, 2);
<a name="l01718"></a>01718 }
<a name="l01719"></a>01719 
<a name="l01733"></a><a class="code" href="class_q_c_p_graph.html#a41f982e8ceaefe6a53eb7432f26d64b6">01733</a> QPointF <a class="code" href="class_q_c_p_graph.html#a41f982e8ceaefe6a53eb7432f26d64b6">QCPGraph::lowerFillBasePoint</a>(<span class="keywordtype">double</span> lowerKey)<span class="keyword"> const</span>
<a name="l01734"></a>01734 <span class="keyword"></span>{
<a name="l01735"></a>01735   QPointF point;
<a name="l01736"></a>01736   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a8563e13407bc0616da7f7c84e02de170">scaleType</a>() == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0aff6e30a11a828bc850caffab0ff994f6" title="Normal linear scaling.">QCPAxis::stLinear</a>)
<a name="l01737"></a>01737   {
<a name="l01738"></a>01738     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a593c37bf6aa4990326dc09e24f45db7f">axisType</a>() == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aaf84aa6cac6fb6099f54a2cbf7546b730" title="Axis is vertical and on the left side of the axis rect of the parent QCustomPlot.">QCPAxis::atLeft</a>)
<a name="l01739"></a>01739     {
<a name="l01740"></a>01740       point.setX(<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(0));
<a name="l01741"></a>01741       point.setY(lowerKey);
<a name="l01742"></a>01742     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a593c37bf6aa4990326dc09e24f45db7f">axisType</a>() == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aadf5509f7d29199ef2f263b1dd224b345" title="Axis is vertical and on the right side of the axis rect of the parent QCustomPlot.">QCPAxis::atRight</a>)
<a name="l01743"></a>01743     {
<a name="l01744"></a>01744       point.setX(<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(0));
<a name="l01745"></a>01745       point.setY(lowerKey);
<a name="l01746"></a>01746     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a593c37bf6aa4990326dc09e24f45db7f">axisType</a>() == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977" title="Axis is horizontal and on the top side of the axis rect of the parent QCustomPlot.">QCPAxis::atTop</a>)
<a name="l01747"></a>01747     {
<a name="l01748"></a>01748       point.setX(lowerKey);
<a name="l01749"></a>01749       point.setY(<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(0));
<a name="l01750"></a>01750     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a593c37bf6aa4990326dc09e24f45db7f">axisType</a>() == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f" title="Axis is horizontal and on the bottom side of the axis rect of the parent QCustomPlot.">QCPAxis::atBottom</a>)
<a name="l01751"></a>01751     {
<a name="l01752"></a>01752       point.setX(lowerKey);
<a name="l01753"></a>01753       point.setY(<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(0));
<a name="l01754"></a>01754     }
<a name="l01755"></a>01755   } <span class="keywordflow">else</span> <span class="comment">// mValueAxis-&gt;mScaleType == QCPAxis::stLogarithmic</span>
<a name="l01756"></a>01756   {
<a name="l01757"></a>01757     <span class="comment">// In logarithmic scaling we can&#39;t just draw to value zero so we just fill all the way</span>
<a name="l01758"></a>01758     <span class="comment">// to the axis which is in the direction towards zero</span>
<a name="l01759"></a>01759     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Vertical)
<a name="l01760"></a>01760     {
<a name="l01761"></a>01761       <span class="keywordflow">if</span> ((<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &lt; 0 &amp;&amp; !<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ade26dc7994ccd8a11f64fd83377ee021">rangeReversed</a>()) ||
<a name="l01762"></a>01762           (<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &gt; 0 &amp;&amp; <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ade26dc7994ccd8a11f64fd83377ee021">rangeReversed</a>())) <span class="comment">// if range is negative, zero is on opposite side of key axis</span>
<a name="l01763"></a>01763         point.setX(<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a7fe5b84f4891838b63ed5181f5811dc5">axisRect</a>().right());
<a name="l01764"></a>01764       <span class="keywordflow">else</span>
<a name="l01765"></a>01765         point.setX(<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a7fe5b84f4891838b63ed5181f5811dc5">axisRect</a>().left());
<a name="l01766"></a>01766       point.setY(lowerKey);
<a name="l01767"></a>01767     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a593c37bf6aa4990326dc09e24f45db7f">axisType</a>() == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977" title="Axis is horizontal and on the top side of the axis rect of the parent QCustomPlot.">QCPAxis::atTop</a> || <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a593c37bf6aa4990326dc09e24f45db7f">axisType</a>() == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f" title="Axis is horizontal and on the bottom side of the axis rect of the parent QCustomPlot.">QCPAxis::atBottom</a>)
<a name="l01768"></a>01768     {
<a name="l01769"></a>01769       point.setX(lowerKey);
<a name="l01770"></a>01770       <span class="keywordflow">if</span> ((<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &lt; 0 &amp;&amp; !<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ade26dc7994ccd8a11f64fd83377ee021">rangeReversed</a>()) ||
<a name="l01771"></a>01771           (<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &gt; 0 &amp;&amp; <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ade26dc7994ccd8a11f64fd83377ee021">rangeReversed</a>())) <span class="comment">// if range is negative, zero is on opposite side of key axis</span>
<a name="l01772"></a>01772         point.setY(<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a7fe5b84f4891838b63ed5181f5811dc5">axisRect</a>().top());
<a name="l01773"></a>01773       <span class="keywordflow">else</span>
<a name="l01774"></a>01774         point.setY(<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a7fe5b84f4891838b63ed5181f5811dc5">axisRect</a>().bottom());
<a name="l01775"></a>01775     }
<a name="l01776"></a>01776   }
<a name="l01777"></a>01777   <span class="keywordflow">return</span> point;
<a name="l01778"></a>01778 }
<a name="l01779"></a>01779 
<a name="l01793"></a><a class="code" href="class_q_c_p_graph.html#a363d066c179e0f46cc93c12bafb0bfba">01793</a> QPointF <a class="code" href="class_q_c_p_graph.html#a363d066c179e0f46cc93c12bafb0bfba">QCPGraph::upperFillBasePoint</a>(<span class="keywordtype">double</span> upperKey)<span class="keyword"> const</span>
<a name="l01794"></a>01794 <span class="keyword"></span>{
<a name="l01795"></a>01795   QPointF point;
<a name="l01796"></a>01796   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a8563e13407bc0616da7f7c84e02de170">scaleType</a>() == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0aff6e30a11a828bc850caffab0ff994f6" title="Normal linear scaling.">QCPAxis::stLinear</a>)
<a name="l01797"></a>01797   {
<a name="l01798"></a>01798     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a593c37bf6aa4990326dc09e24f45db7f">axisType</a>() == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aaf84aa6cac6fb6099f54a2cbf7546b730" title="Axis is vertical and on the left side of the axis rect of the parent QCustomPlot.">QCPAxis::atLeft</a>)
<a name="l01799"></a>01799     {
<a name="l01800"></a>01800       point.setX(<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(0));
<a name="l01801"></a>01801       point.setY(upperKey);
<a name="l01802"></a>01802     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a593c37bf6aa4990326dc09e24f45db7f">axisType</a>() == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aadf5509f7d29199ef2f263b1dd224b345" title="Axis is vertical and on the right side of the axis rect of the parent QCustomPlot.">QCPAxis::atRight</a>)
<a name="l01803"></a>01803     {
<a name="l01804"></a>01804       point.setX(<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(0));
<a name="l01805"></a>01805       point.setY(upperKey);
<a name="l01806"></a>01806     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a593c37bf6aa4990326dc09e24f45db7f">axisType</a>() == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977" title="Axis is horizontal and on the top side of the axis rect of the parent QCustomPlot.">QCPAxis::atTop</a>)
<a name="l01807"></a>01807     {
<a name="l01808"></a>01808       point.setX(upperKey);
<a name="l01809"></a>01809       point.setY(<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(0));
<a name="l01810"></a>01810     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a593c37bf6aa4990326dc09e24f45db7f">axisType</a>() == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f" title="Axis is horizontal and on the bottom side of the axis rect of the parent QCustomPlot.">QCPAxis::atBottom</a>)
<a name="l01811"></a>01811     {
<a name="l01812"></a>01812       point.setX(upperKey);
<a name="l01813"></a>01813       point.setY(<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(0));
<a name="l01814"></a>01814     }
<a name="l01815"></a>01815   } <span class="keywordflow">else</span> <span class="comment">// mValueAxis-&gt;mScaleType == QCPAxis::stLogarithmic</span>
<a name="l01816"></a>01816   {
<a name="l01817"></a>01817     <span class="comment">// In logarithmic scaling we can&#39;t just draw to value 0 so we just fill all the way</span>
<a name="l01818"></a>01818     <span class="comment">// to the axis which is in the direction towards 0</span>
<a name="l01819"></a>01819     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Vertical)
<a name="l01820"></a>01820     {
<a name="l01821"></a>01821       <span class="keywordflow">if</span> ((<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &lt; 0 &amp;&amp; !<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ade26dc7994ccd8a11f64fd83377ee021">rangeReversed</a>()) ||
<a name="l01822"></a>01822           (<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &gt; 0 &amp;&amp; <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ade26dc7994ccd8a11f64fd83377ee021">rangeReversed</a>())) <span class="comment">// if range is negative, zero is on opposite side of key axis</span>
<a name="l01823"></a>01823         point.setX(<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a7fe5b84f4891838b63ed5181f5811dc5">axisRect</a>().right());
<a name="l01824"></a>01824       <span class="keywordflow">else</span>
<a name="l01825"></a>01825         point.setX(<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a7fe5b84f4891838b63ed5181f5811dc5">axisRect</a>().left());
<a name="l01826"></a>01826       point.setY(upperKey);
<a name="l01827"></a>01827     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a593c37bf6aa4990326dc09e24f45db7f">axisType</a>() == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977" title="Axis is horizontal and on the top side of the axis rect of the parent QCustomPlot.">QCPAxis::atTop</a> || <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a593c37bf6aa4990326dc09e24f45db7f">axisType</a>() == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f" title="Axis is horizontal and on the bottom side of the axis rect of the parent QCustomPlot.">QCPAxis::atBottom</a>)
<a name="l01828"></a>01828     {
<a name="l01829"></a>01829       point.setX(upperKey);
<a name="l01830"></a>01830       <span class="keywordflow">if</span> ((<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &lt; 0 &amp;&amp; !<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ade26dc7994ccd8a11f64fd83377ee021">rangeReversed</a>()) ||
<a name="l01831"></a>01831           (<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &gt; 0 &amp;&amp; <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ade26dc7994ccd8a11f64fd83377ee021">rangeReversed</a>())) <span class="comment">// if range is negative, zero is on opposite side of key axis</span>
<a name="l01832"></a>01832         point.setY(<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a7fe5b84f4891838b63ed5181f5811dc5">axisRect</a>().top());
<a name="l01833"></a>01833       <span class="keywordflow">else</span>
<a name="l01834"></a>01834         point.setY(<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a7fe5b84f4891838b63ed5181f5811dc5">axisRect</a>().bottom());
<a name="l01835"></a>01835     }
<a name="l01836"></a>01836   }
<a name="l01837"></a>01837   <span class="keywordflow">return</span> point;
<a name="l01838"></a>01838 }
<a name="l01839"></a>01839 
<a name="l01849"></a><a class="code" href="class_q_c_p_graph.html#a0374b7268e35cab9802a6be2b5d726d7">01849</a> <span class="keyword">const</span> QPolygonF <a class="code" href="class_q_c_p_graph.html#a0374b7268e35cab9802a6be2b5d726d7">QCPGraph::getChannelFillPolygon</a>(<span class="keyword">const</span> QVector&lt;QPointF&gt; *lineData)<span class="keyword"> const</span>
<a name="l01850"></a>01850 <span class="keyword"></span>{
<a name="l01851"></a>01851   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#aa49af2f241d9ffdc301a24f08b10bdc8">mChannelFillGraph</a>-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() != <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>())
<a name="l01852"></a>01852     <span class="keywordflow">return</span> QPolygonF(); <span class="comment">// don&#39;t have same axis orientation, can&#39;t fill that (Note: if keyAxis fits, valueAxis will fit too, because it&#39;s always orthogonal to keyAxis)</span>
<a name="l01853"></a>01853   
<a name="l01854"></a>01854   <span class="keywordflow">if</span> (lineData-&gt;isEmpty()) <span class="keywordflow">return</span> QPolygonF();
<a name="l01855"></a>01855   QVector&lt;QPointF&gt; otherData;
<a name="l01856"></a>01856   <a class="code" href="class_q_c_p_graph.html#aa49af2f241d9ffdc301a24f08b10bdc8">mChannelFillGraph</a>-&gt;<a class="code" href="class_q_c_p_graph.html#af66183533a29520be3e74489ad1449cc">getPlotData</a>(&amp;otherData, 0);
<a name="l01857"></a>01857   <span class="keywordflow">if</span> (otherData.isEmpty()) <span class="keywordflow">return</span> QPolygonF();
<a name="l01858"></a>01858   QVector&lt;QPointF&gt; thisData;
<a name="l01859"></a>01859   thisData.reserve(lineData-&gt;size()+otherData.size()); <span class="comment">// because we will join both vectors at end of this function</span>
<a name="l01860"></a>01860   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;lineData-&gt;size(); ++i) <span class="comment">// don&#39;t use the vector&lt;&lt;(vector),  it squeezes internally, which ruins the performance tuning with reserve()</span>
<a name="l01861"></a>01861     thisData &lt;&lt; lineData-&gt;at(i);
<a name="l01862"></a>01862   
<a name="l01863"></a>01863   <span class="comment">// pointers to be able to swap them, depending which data range needs cropping:</span>
<a name="l01864"></a>01864   QVector&lt;QPointF&gt; *staticData = &amp;thisData;
<a name="l01865"></a>01865   QVector&lt;QPointF&gt; *croppedData = &amp;otherData;
<a name="l01866"></a>01866   
<a name="l01867"></a>01867   <span class="comment">// crop both vectors to ranges in which the keys overlap (which coord is key, depends on axisType):</span>
<a name="l01868"></a>01868   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Horizontal)
<a name="l01869"></a>01869   {
<a name="l01870"></a>01870     <span class="comment">// x is key</span>
<a name="l01871"></a>01871     <span class="comment">// if an axis range is reversed, the data point keys will be descending. Reverse them, since following algorithm assumes ascending keys:</span>
<a name="l01872"></a>01872     <span class="keywordflow">if</span> (staticData-&gt;first().x() &gt; staticData-&gt;last().x())
<a name="l01873"></a>01873     {
<a name="l01874"></a>01874       <span class="keywordtype">int</span> size = staticData-&gt;size();
<a name="l01875"></a>01875       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;size/2; ++i)
<a name="l01876"></a>01876         qSwap((*staticData)[i], (*staticData)[size-1-i]);
<a name="l01877"></a>01877     }
<a name="l01878"></a>01878     <span class="keywordflow">if</span> (croppedData-&gt;first().x() &gt; croppedData-&gt;last().x())
<a name="l01879"></a>01879     {
<a name="l01880"></a>01880       <span class="keywordtype">int</span> size = croppedData-&gt;size();
<a name="l01881"></a>01881       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;size/2; ++i)
<a name="l01882"></a>01882         qSwap((*croppedData)[i], (*croppedData)[size-1-i]);
<a name="l01883"></a>01883     }
<a name="l01884"></a>01884     <span class="comment">// crop lower bound:</span>
<a name="l01885"></a>01885     <span class="keywordflow">if</span> (staticData-&gt;first().x() &lt; croppedData-&gt;first().x()) <span class="comment">// other one must be cropped</span>
<a name="l01886"></a>01886       qSwap(staticData, croppedData);
<a name="l01887"></a>01887     <span class="keywordtype">int</span> lowBound = <a class="code" href="class_q_c_p_graph.html#a6f4e9461d5925be9228fc4760249a04f">findIndexBelowX</a>(croppedData, staticData-&gt;first().x());
<a name="l01888"></a>01888     <span class="keywordflow">if</span> (lowBound == -1) <span class="keywordflow">return</span> QPolygonF(); <span class="comment">// key ranges have no overlap</span>
<a name="l01889"></a>01889     croppedData-&gt;remove(0, lowBound);
<a name="l01890"></a>01890     <span class="comment">// set lowest point of cropped data to fit exactly key position of first static data</span>
<a name="l01891"></a>01891     <span class="comment">// point via linear interpolation:</span>
<a name="l01892"></a>01892     <span class="keywordflow">if</span> (croppedData-&gt;size() &lt; 2) <span class="keywordflow">return</span> QPolygonF(); <span class="comment">// need at least two points for interpolation</span>
<a name="l01893"></a>01893     <span class="keywordtype">double</span> slope;
<a name="l01894"></a>01894     <span class="keywordflow">if</span> (croppedData-&gt;at(1).x()-croppedData-&gt;at(0).x() != 0)
<a name="l01895"></a>01895       slope = (croppedData-&gt;at(1).y()-croppedData-&gt;at(0).y())/(croppedData-&gt;at(1).x()-croppedData-&gt;at(0).x());
<a name="l01896"></a>01896     <span class="keywordflow">else</span>
<a name="l01897"></a>01897       slope = 0;
<a name="l01898"></a>01898     (*croppedData)[0].setY(croppedData-&gt;at(0).y()+slope*(staticData-&gt;first().x()-croppedData-&gt;at(0).x()));
<a name="l01899"></a>01899     (*croppedData)[0].setX(staticData-&gt;first().x());
<a name="l01900"></a>01900     
<a name="l01901"></a>01901     <span class="comment">// crop upper bound:</span>
<a name="l01902"></a>01902     <span class="keywordflow">if</span> (staticData-&gt;last().x() &gt; croppedData-&gt;last().x()) <span class="comment">// other one must be cropped</span>
<a name="l01903"></a>01903       qSwap(staticData, croppedData);
<a name="l01904"></a>01904     <span class="keywordtype">int</span> highBound = <a class="code" href="class_q_c_p_graph.html#abab2a75b5e63630432bdd1f3b57f07fa">findIndexAboveX</a>(croppedData, staticData-&gt;last().x());
<a name="l01905"></a>01905     <span class="keywordflow">if</span> (highBound == -1) <span class="keywordflow">return</span> QPolygonF(); <span class="comment">// key ranges have no overlap</span>
<a name="l01906"></a>01906     croppedData-&gt;remove(highBound+1, croppedData-&gt;size()-(highBound+1));
<a name="l01907"></a>01907     <span class="comment">// set highest point of cropped data to fit exactly key position of last static data</span>
<a name="l01908"></a>01908     <span class="comment">// point via linear interpolation:</span>
<a name="l01909"></a>01909     <span class="keywordflow">if</span> (croppedData-&gt;size() &lt; 2) <span class="keywordflow">return</span> QPolygonF(); <span class="comment">// need at least two points for interpolation</span>
<a name="l01910"></a>01910     <span class="keywordtype">int</span> li = croppedData-&gt;size()-1; <span class="comment">// last index</span>
<a name="l01911"></a>01911     <span class="keywordflow">if</span> (croppedData-&gt;at(li).x()-croppedData-&gt;at(li-1).x() != 0)
<a name="l01912"></a>01912       slope = (croppedData-&gt;at(li).y()-croppedData-&gt;at(li-1).y())/(croppedData-&gt;at(li).x()-croppedData-&gt;at(li-1).x());
<a name="l01913"></a>01913     <span class="keywordflow">else</span>
<a name="l01914"></a>01914       slope = 0;
<a name="l01915"></a>01915     (*croppedData)[li].setY(croppedData-&gt;at(li-1).y()+slope*(staticData-&gt;last().x()-croppedData-&gt;at(li-1).x()));
<a name="l01916"></a>01916     (*croppedData)[li].setX(staticData-&gt;last().x());
<a name="l01917"></a>01917   } <span class="keywordflow">else</span> <span class="comment">// mKeyAxis-&gt;orientation() == Qt::Vertical</span>
<a name="l01918"></a>01918   {
<a name="l01919"></a>01919     <span class="comment">// y is key</span>
<a name="l01920"></a>01920     <span class="comment">// similar to &quot;x is key&quot; but switched x,y. Further, lower/upper meaning is inverted compared to x,</span>
<a name="l01921"></a>01921     <span class="comment">// because in pixel coordinates, y increases from top to bottom, not bottom to top like data coordinate.</span>
<a name="l01922"></a>01922     <span class="comment">// if an axis range is reversed, the data point keys will be descending. Reverse them, since following algorithm assumes ascending keys:</span>
<a name="l01923"></a>01923     <span class="keywordflow">if</span> (staticData-&gt;first().y() &lt; staticData-&gt;last().y())
<a name="l01924"></a>01924     {
<a name="l01925"></a>01925       <span class="keywordtype">int</span> size = staticData-&gt;size();
<a name="l01926"></a>01926       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;size/2; ++i)
<a name="l01927"></a>01927         qSwap((*staticData)[i], (*staticData)[size-1-i]);
<a name="l01928"></a>01928     }
<a name="l01929"></a>01929     <span class="keywordflow">if</span> (croppedData-&gt;first().y() &lt; croppedData-&gt;last().y())
<a name="l01930"></a>01930     {
<a name="l01931"></a>01931       <span class="keywordtype">int</span> size = croppedData-&gt;size();
<a name="l01932"></a>01932       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;size/2; ++i)
<a name="l01933"></a>01933         qSwap((*croppedData)[i], (*croppedData)[size-1-i]);
<a name="l01934"></a>01934     }
<a name="l01935"></a>01935     <span class="comment">// crop lower bound:</span>
<a name="l01936"></a>01936     <span class="keywordflow">if</span> (staticData-&gt;first().y() &gt; croppedData-&gt;first().y()) <span class="comment">// other one must be cropped</span>
<a name="l01937"></a>01937       qSwap(staticData, croppedData);
<a name="l01938"></a>01938     <span class="keywordtype">int</span> lowBound = <a class="code" href="class_q_c_p_graph.html#adf50243f1df203883a2187089734bfcb">findIndexAboveY</a>(croppedData, staticData-&gt;first().y());
<a name="l01939"></a>01939     <span class="keywordflow">if</span> (lowBound == -1) <span class="keywordflow">return</span> QPolygonF(); <span class="comment">// key ranges have no overlap</span>
<a name="l01940"></a>01940     croppedData-&gt;remove(0, lowBound);
<a name="l01941"></a>01941     <span class="comment">// set lowest point of cropped data to fit exactly key position of first static data</span>
<a name="l01942"></a>01942     <span class="comment">// point via linear interpolation:</span>
<a name="l01943"></a>01943     <span class="keywordflow">if</span> (croppedData-&gt;size() &lt; 2) <span class="keywordflow">return</span> QPolygonF(); <span class="comment">// need at least two points for interpolation</span>
<a name="l01944"></a>01944     <span class="keywordtype">double</span> slope;
<a name="l01945"></a>01945     <span class="keywordflow">if</span> (croppedData-&gt;at(1).y()-croppedData-&gt;at(0).y() != 0) <span class="comment">// avoid division by zero in step plots</span>
<a name="l01946"></a>01946       slope = (croppedData-&gt;at(1).x()-croppedData-&gt;at(0).x())/(croppedData-&gt;at(1).y()-croppedData-&gt;at(0).y());
<a name="l01947"></a>01947     <span class="keywordflow">else</span>
<a name="l01948"></a>01948       slope = 0;
<a name="l01949"></a>01949     (*croppedData)[0].setX(croppedData-&gt;at(0).x()+slope*(staticData-&gt;first().y()-croppedData-&gt;at(0).y()));
<a name="l01950"></a>01950     (*croppedData)[0].setY(staticData-&gt;first().y());
<a name="l01951"></a>01951     
<a name="l01952"></a>01952     <span class="comment">// crop upper bound:</span>
<a name="l01953"></a>01953     <span class="keywordflow">if</span> (staticData-&gt;last().y() &lt; croppedData-&gt;last().y()) <span class="comment">// other one must be cropped</span>
<a name="l01954"></a>01954       qSwap(staticData, croppedData);
<a name="l01955"></a>01955     <span class="keywordtype">int</span> highBound = <a class="code" href="class_q_c_p_graph.html#a6c4d556de3d1e02f548401001f72c6ff">findIndexBelowY</a>(croppedData, staticData-&gt;last().y());
<a name="l01956"></a>01956     <span class="keywordflow">if</span> (highBound == -1) <span class="keywordflow">return</span> QPolygonF(); <span class="comment">// key ranges have no overlap</span>
<a name="l01957"></a>01957     croppedData-&gt;remove(highBound+1, croppedData-&gt;size()-(highBound+1));
<a name="l01958"></a>01958     <span class="comment">// set highest point of cropped data to fit exactly key position of last static data</span>
<a name="l01959"></a>01959     <span class="comment">// point via linear interpolation:</span>
<a name="l01960"></a>01960     <span class="keywordflow">if</span> (croppedData-&gt;size() &lt; 2) <span class="keywordflow">return</span> QPolygonF(); <span class="comment">// need at least two points for interpolation</span>
<a name="l01961"></a>01961     <span class="keywordtype">int</span> li = croppedData-&gt;size()-1; <span class="comment">// last index</span>
<a name="l01962"></a>01962     <span class="keywordflow">if</span> (croppedData-&gt;at(li).y()-croppedData-&gt;at(li-1).y() != 0) <span class="comment">// avoid division by zero in step plots</span>
<a name="l01963"></a>01963       slope = (croppedData-&gt;at(li).x()-croppedData-&gt;at(li-1).x())/(croppedData-&gt;at(li).y()-croppedData-&gt;at(li-1).y());
<a name="l01964"></a>01964     <span class="keywordflow">else</span>
<a name="l01965"></a>01965       slope = 0;
<a name="l01966"></a>01966     (*croppedData)[li].setX(croppedData-&gt;at(li-1).x()+slope*(staticData-&gt;last().y()-croppedData-&gt;at(li-1).y()));
<a name="l01967"></a>01967     (*croppedData)[li].setY(staticData-&gt;last().y());
<a name="l01968"></a>01968   }
<a name="l01969"></a>01969   
<a name="l01970"></a>01970   <span class="comment">// return joined:</span>
<a name="l01971"></a>01971   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=otherData.size()-1; i&gt;=0; --i) <span class="comment">// insert reversed, otherwise the polygon will be twisted</span>
<a name="l01972"></a>01972     thisData &lt;&lt; otherData.at(i);
<a name="l01973"></a>01973   <span class="keywordflow">return</span> QPolygonF(thisData);
<a name="l01974"></a>01974 }
<a name="l01975"></a>01975 
<a name="l01983"></a><a class="code" href="class_q_c_p_graph.html#abab2a75b5e63630432bdd1f3b57f07fa">01983</a> <span class="keywordtype">int</span> <a class="code" href="class_q_c_p_graph.html#abab2a75b5e63630432bdd1f3b57f07fa">QCPGraph::findIndexAboveX</a>(<span class="keyword">const</span> QVector&lt;QPointF&gt; *data, <span class="keywordtype">double</span> x)<span class="keyword"> const</span>
<a name="l01984"></a>01984 <span class="keyword"></span>{
<a name="l01985"></a>01985   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=data-&gt;size()-1; i&gt;=0; --i)
<a name="l01986"></a>01986   {
<a name="l01987"></a>01987     <span class="keywordflow">if</span> (data-&gt;at(i).x() &lt; x)
<a name="l01988"></a>01988     {
<a name="l01989"></a>01989       <span class="keywordflow">if</span> (i&lt;data-&gt;size()-1)
<a name="l01990"></a>01990         <span class="keywordflow">return</span> i+1;
<a name="l01991"></a>01991       <span class="keywordflow">else</span>
<a name="l01992"></a>01992         <span class="keywordflow">return</span> data-&gt;size()-1;
<a name="l01993"></a>01993     }
<a name="l01994"></a>01994   }
<a name="l01995"></a>01995   <span class="keywordflow">return</span> -1;
<a name="l01996"></a>01996 }
<a name="l01997"></a>01997 
<a name="l02005"></a><a class="code" href="class_q_c_p_graph.html#a6f4e9461d5925be9228fc4760249a04f">02005</a> <span class="keywordtype">int</span> <a class="code" href="class_q_c_p_graph.html#a6f4e9461d5925be9228fc4760249a04f">QCPGraph::findIndexBelowX</a>(<span class="keyword">const</span> QVector&lt;QPointF&gt; *data, <span class="keywordtype">double</span> x)<span class="keyword"> const</span>
<a name="l02006"></a>02006 <span class="keyword"></span>{
<a name="l02007"></a>02007   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;data-&gt;size(); ++i)
<a name="l02008"></a>02008   {
<a name="l02009"></a>02009     <span class="keywordflow">if</span> (data-&gt;at(i).x() &gt; x)
<a name="l02010"></a>02010     {
<a name="l02011"></a>02011       <span class="keywordflow">if</span> (i&gt;0)
<a name="l02012"></a>02012         <span class="keywordflow">return</span> i-1;
<a name="l02013"></a>02013       <span class="keywordflow">else</span>
<a name="l02014"></a>02014         <span class="keywordflow">return</span> 0;
<a name="l02015"></a>02015     }
<a name="l02016"></a>02016   }
<a name="l02017"></a>02017   <span class="keywordflow">return</span> -1;
<a name="l02018"></a>02018 }
<a name="l02019"></a>02019 
<a name="l02027"></a><a class="code" href="class_q_c_p_graph.html#adf50243f1df203883a2187089734bfcb">02027</a> <span class="keywordtype">int</span> <a class="code" href="class_q_c_p_graph.html#adf50243f1df203883a2187089734bfcb">QCPGraph::findIndexAboveY</a>(<span class="keyword">const</span> QVector&lt;QPointF&gt; *data, <span class="keywordtype">double</span> y)<span class="keyword"> const</span>
<a name="l02028"></a>02028 <span class="keyword"></span>{
<a name="l02029"></a>02029   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;data-&gt;size(); ++i)
<a name="l02030"></a>02030   {
<a name="l02031"></a>02031     <span class="keywordflow">if</span> (data-&gt;at(i).y() &lt; y)
<a name="l02032"></a>02032     {
<a name="l02033"></a>02033       <span class="keywordflow">if</span> (i&gt;0)
<a name="l02034"></a>02034         <span class="keywordflow">return</span> i-1;
<a name="l02035"></a>02035       <span class="keywordflow">else</span>
<a name="l02036"></a>02036         <span class="keywordflow">return</span> 0;
<a name="l02037"></a>02037     }
<a name="l02038"></a>02038   }
<a name="l02039"></a>02039   <span class="keywordflow">return</span> -1;
<a name="l02040"></a>02040 }
<a name="l02041"></a>02041 
<a name="l02048"></a><a class="code" href="class_q_c_p_graph.html#af93762a12a481a7edb4b3dd9e330dff1">02048</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_graph.html#af93762a12a481a7edb4b3dd9e330dff1">QCPGraph::pointDistance</a>(<span class="keyword">const</span> QPointF &amp;pixelPoint)<span class="keyword"> const</span>
<a name="l02049"></a>02049 <span class="keyword"></span>{
<a name="l02050"></a>02050   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;isEmpty())
<a name="l02051"></a>02051   {
<a name="l02052"></a>02052     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;requested point distance on graph&quot;</span> &lt;&lt; <a class="code" href="class_q_c_p_abstract_plottable.html#ac29ffef424e2488675930de18cde612a">mName</a> &lt;&lt; <span class="stringliteral">&quot;without data&quot;</span>;
<a name="l02053"></a>02053     <span class="keywordflow">return</span> 500;
<a name="l02054"></a>02054   }
<a name="l02055"></a>02055   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;size() == 1)
<a name="l02056"></a>02056   {
<a name="l02057"></a>02057     QPointF dataPoint = <a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(<a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;constBegin().key(), <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;constBegin().value().value);
<a name="l02058"></a>02058     <span class="keywordflow">return</span> QVector2D(dataPoint-pixelPoint).length();
<a name="l02059"></a>02059   }
<a name="l02060"></a>02060   
<a name="l02061"></a>02061   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#a8604fd98402035a63375849f7341ee25">mLineStyle</a> == <a class="code" href="class_q_c_p_graph.html#ad60175cd9b5cac937c5ee685c32c0859aea9591b933733cc7b20786b71e60fa04">lsNone</a> &amp;&amp; <a class="code" href="class_q_c_p_graph.html#a8f255af6fe1df09cedec73857ca0b344">mScatterStyle</a> == <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa3ee9f603bc4623e9b98011e8829aad1d" title="no scatter symbols are drawn (e.g. in QCPGraph, data only represented with lines)">QCP::ssNone</a>)
<a name="l02062"></a>02062     <span class="keywordflow">return</span> 500;
<a name="l02063"></a>02063   
<a name="l02064"></a>02064   <span class="comment">// calculate minimum distances to graph representation:</span>
<a name="l02065"></a>02065   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#a8604fd98402035a63375849f7341ee25">mLineStyle</a> == <a class="code" href="class_q_c_p_graph.html#ad60175cd9b5cac937c5ee685c32c0859aea9591b933733cc7b20786b71e60fa04">lsNone</a>)
<a name="l02066"></a>02066   {
<a name="l02067"></a>02067     <span class="comment">// no line displayed, only calculate distance to scatter points:</span>
<a name="l02068"></a>02068     QVector&lt;QCPData&gt; *pointData = <span class="keyword">new</span> QVector&lt;QCPData&gt;;
<a name="l02069"></a>02069     <a class="code" href="class_q_c_p_graph.html#a0899c4d6357aee19a3abff5897c3c8c5">getScatterPlotData</a>(pointData);
<a name="l02070"></a>02070     <span class="keywordtype">double</span> minDistSqr = std::numeric_limits&lt;double&gt;::max();
<a name="l02071"></a>02071     QPointF ptA;
<a name="l02072"></a>02072     QPointF ptB = <a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(pointData-&gt;at(0).key, pointData-&gt;at(0).value); <span class="comment">// getScatterPlotData returns in plot coordinates, so transform to pixels</span>
<a name="l02073"></a>02073     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=1; i&lt;pointData-&gt;size(); ++i)
<a name="l02074"></a>02074     {
<a name="l02075"></a>02075       ptA = ptB;
<a name="l02076"></a>02076       ptB = <a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(pointData-&gt;at(i).key, pointData-&gt;at(i).value);
<a name="l02077"></a>02077       <span class="keywordtype">double</span> currentDistSqr = <a class="code" href="class_q_c_p_abstract_plottable.html#a5ea1cab44ca912dcdc96ed81ec5bed5d">distSqrToLine</a>(ptA, ptB, pixelPoint);
<a name="l02078"></a>02078       <span class="keywordflow">if</span> (currentDistSqr &lt; minDistSqr)
<a name="l02079"></a>02079         minDistSqr = currentDistSqr;
<a name="l02080"></a>02080     }
<a name="l02081"></a>02081     <span class="keyword">delete</span> pointData;
<a name="l02082"></a>02082     <span class="keywordflow">return</span> sqrt(minDistSqr);
<a name="l02083"></a>02083   } <span class="keywordflow">else</span>
<a name="l02084"></a>02084   {
<a name="l02085"></a>02085     <span class="comment">// line displayed calculate distance to line segments:</span>
<a name="l02086"></a>02086     QVector&lt;QPointF&gt; *lineData = <span class="keyword">new</span> QVector&lt;QPointF&gt;;
<a name="l02087"></a>02087     <a class="code" href="class_q_c_p_graph.html#af66183533a29520be3e74489ad1449cc">getPlotData</a>(lineData, 0); <span class="comment">// unlike with getScatterPlotData we get pixel coordinates here</span>
<a name="l02088"></a>02088     <span class="keywordtype">double</span> minDistSqr = std::numeric_limits&lt;double&gt;::max();
<a name="l02089"></a>02089     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html#a8604fd98402035a63375849f7341ee25">mLineStyle</a> == <a class="code" href="class_q_c_p_graph.html#ad60175cd9b5cac937c5ee685c32c0859aa3b358b4ae7cca94aceeb8e529c12ebb" title="each data point is represented by a line parallel to the value axis, which reaches from the data poin...">lsImpulse</a>)
<a name="l02090"></a>02090     {
<a name="l02091"></a>02091       <span class="comment">// impulse plot differs from other line styles in that the lineData points are only pairwise connected:</span>
<a name="l02092"></a>02092       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;lineData-&gt;size()-1; i+=2) <span class="comment">// iterate pairs</span>
<a name="l02093"></a>02093       {
<a name="l02094"></a>02094         <span class="keywordtype">double</span> currentDistSqr = <a class="code" href="class_q_c_p_abstract_plottable.html#a5ea1cab44ca912dcdc96ed81ec5bed5d">distSqrToLine</a>(lineData-&gt;at(i), lineData-&gt;at(i+1), pixelPoint);
<a name="l02095"></a>02095         <span class="keywordflow">if</span> (currentDistSqr &lt; minDistSqr)
<a name="l02096"></a>02096           minDistSqr = currentDistSqr;
<a name="l02097"></a>02097       }
<a name="l02098"></a>02098     } <span class="keywordflow">else</span> 
<a name="l02099"></a>02099     {
<a name="l02100"></a>02100       <span class="comment">// all other line plots (line and step) connect points directly:</span>
<a name="l02101"></a>02101       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;lineData-&gt;size()-1; ++i)
<a name="l02102"></a>02102       {
<a name="l02103"></a>02103         <span class="keywordtype">double</span> currentDistSqr = <a class="code" href="class_q_c_p_abstract_plottable.html#a5ea1cab44ca912dcdc96ed81ec5bed5d">distSqrToLine</a>(lineData-&gt;at(i), lineData-&gt;at(i+1), pixelPoint);
<a name="l02104"></a>02104         <span class="keywordflow">if</span> (currentDistSqr &lt; minDistSqr)
<a name="l02105"></a>02105           minDistSqr = currentDistSqr;
<a name="l02106"></a>02106       }
<a name="l02107"></a>02107     }
<a name="l02108"></a>02108     <span class="keyword">delete</span> lineData;
<a name="l02109"></a>02109     <span class="keywordflow">return</span> sqrt(minDistSqr);
<a name="l02110"></a>02110   }
<a name="l02111"></a>02111 }
<a name="l02112"></a>02112 
<a name="l02120"></a><a class="code" href="class_q_c_p_graph.html#a6c4d556de3d1e02f548401001f72c6ff">02120</a> <span class="keywordtype">int</span> <a class="code" href="class_q_c_p_graph.html#a6c4d556de3d1e02f548401001f72c6ff">QCPGraph::findIndexBelowY</a>(<span class="keyword">const</span> QVector&lt;QPointF&gt; *data, <span class="keywordtype">double</span> y)<span class="keyword"> const</span>
<a name="l02121"></a>02121 <span class="keyword"></span>{
<a name="l02122"></a>02122   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=data-&gt;size()-1; i&gt;=0; --i)
<a name="l02123"></a>02123   {
<a name="l02124"></a>02124     <span class="keywordflow">if</span> (data-&gt;at(i).y() &gt; y)
<a name="l02125"></a>02125     {
<a name="l02126"></a>02126       <span class="keywordflow">if</span> (i&lt;data-&gt;size()-1)
<a name="l02127"></a>02127         <span class="keywordflow">return</span> i+1;
<a name="l02128"></a>02128       <span class="keywordflow">else</span>
<a name="l02129"></a>02129         <span class="keywordflow">return</span> data-&gt;size()-1;
<a name="l02130"></a>02130     }
<a name="l02131"></a>02131   }
<a name="l02132"></a>02132   <span class="keywordflow">return</span> -1;
<a name="l02133"></a>02133 }
<a name="l02134"></a>02134 
<a name="l02135"></a>02135 <span class="comment">/* inherits documentation from base class */</span>
<a name="l02136"></a><a class="code" href="class_q_c_p_graph.html#ab39c7e8c94b64804a8dc9c19bc7d4683">02136</a> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> <a class="code" href="class_q_c_p_graph.html#ab39c7e8c94b64804a8dc9c19bc7d4683">QCPGraph::getKeyRange</a>(<span class="keywordtype">bool</span> &amp;validRange, <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8">SignDomain</a> inSignDomain)<span class="keyword"> const</span>
<a name="l02137"></a>02137 <span class="keyword"></span>{
<a name="l02138"></a>02138   <span class="comment">// just call the specialized version which takes an additional argument whether error bars</span>
<a name="l02139"></a>02139   <span class="comment">// should also be taken into consideration for range calculation. We set this to true here.</span>
<a name="l02140"></a>02140   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_graph.html#ab39c7e8c94b64804a8dc9c19bc7d4683">getKeyRange</a>(validRange, inSignDomain, <span class="keyword">true</span>);
<a name="l02141"></a>02141 }
<a name="l02142"></a>02142 
<a name="l02143"></a>02143 <span class="comment">/* inherits documentation from base class */</span>
<a name="l02144"></a><a class="code" href="class_q_c_p_graph.html#a9fc0c1288455fa5bb64b603d6b01de6c">02144</a> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> <a class="code" href="class_q_c_p_graph.html#a9fc0c1288455fa5bb64b603d6b01de6c">QCPGraph::getValueRange</a>(<span class="keywordtype">bool</span> &amp;validRange, <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8">SignDomain</a> inSignDomain)<span class="keyword"> const</span>
<a name="l02145"></a>02145 <span class="keyword"></span>{
<a name="l02146"></a>02146   <span class="comment">// just call the specialized version which takes an additional argument whether error bars</span>
<a name="l02147"></a>02147   <span class="comment">// should also be taken into consideration for range calculation. We set this to true here.</span>
<a name="l02148"></a>02148   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_graph.html#a9fc0c1288455fa5bb64b603d6b01de6c">getValueRange</a>(validRange, inSignDomain, <span class="keyword">true</span>);
<a name="l02149"></a>02149 }
<a name="l02150"></a>02150 
<a name="l02156"></a><a class="code" href="class_q_c_p_graph.html#a3a69fbbaea30050a9cfe335a9a01cbf2">02156</a> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> <a class="code" href="class_q_c_p_graph.html#ab39c7e8c94b64804a8dc9c19bc7d4683">QCPGraph::getKeyRange</a>(<span class="keywordtype">bool</span> &amp;validRange, <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8">SignDomain</a> inSignDomain, <span class="keywordtype">bool</span> includeErrors)<span class="keyword"> const</span>
<a name="l02157"></a>02157 <span class="keyword"></span>{
<a name="l02158"></a>02158   <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> range;
<a name="l02159"></a>02159   <span class="keywordtype">bool</span> haveLower = <span class="keyword">false</span>;
<a name="l02160"></a>02160   <span class="keywordtype">bool</span> haveUpper = <span class="keyword">false</span>;
<a name="l02161"></a>02161   
<a name="l02162"></a>02162   <span class="keywordtype">double</span> current, currentErrorMinus, currentErrorPlus;
<a name="l02163"></a>02163   
<a name="l02164"></a>02164   <span class="keywordflow">if</span> (inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60" title="Both sign domains, including zero, i.e. all (rational) numbers.">sdBoth</a>) <span class="comment">// range may be anywhere</span>
<a name="l02165"></a>02165   {
<a name="l02166"></a>02166     QCPDataMap::const_iterator it = <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;constBegin();
<a name="l02167"></a>02167     <span class="keywordflow">while</span> (it != <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;constEnd())
<a name="l02168"></a>02168     {
<a name="l02169"></a>02169       current = it.value().key;
<a name="l02170"></a>02170       currentErrorMinus = (includeErrors ? it.value().keyErrorMinus : 0);
<a name="l02171"></a>02171       currentErrorPlus = (includeErrors ? it.value().keyErrorPlus : 0);
<a name="l02172"></a>02172       <span class="keywordflow">if</span> (current-currentErrorMinus &lt; range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> || !haveLower)
<a name="l02173"></a>02173       {
<a name="l02174"></a>02174         range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = current-currentErrorMinus;
<a name="l02175"></a>02175         haveLower = <span class="keyword">true</span>;
<a name="l02176"></a>02176       }
<a name="l02177"></a>02177       <span class="keywordflow">if</span> (current+currentErrorPlus &gt; range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> || !haveUpper)
<a name="l02178"></a>02178       {
<a name="l02179"></a>02179         range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = current+currentErrorPlus;
<a name="l02180"></a>02180         haveUpper = <span class="keyword">true</span>;
<a name="l02181"></a>02181       }
<a name="l02182"></a>02182       ++it;
<a name="l02183"></a>02183     }
<a name="l02184"></a>02184   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63" title="The negative sign domain, i.e. numbers smaller than zero.">sdNegative</a>) <span class="comment">// range may only be in the negative sign domain</span>
<a name="l02185"></a>02185   {
<a name="l02186"></a>02186     QCPDataMap::const_iterator it = <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;constBegin();
<a name="l02187"></a>02187     <span class="keywordflow">while</span> (it != <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;constEnd())
<a name="l02188"></a>02188     {
<a name="l02189"></a>02189       current = it.value().key;
<a name="l02190"></a>02190       currentErrorMinus = (includeErrors ? it.value().keyErrorMinus : 0);
<a name="l02191"></a>02191       currentErrorPlus = (includeErrors ? it.value().keyErrorPlus : 0);
<a name="l02192"></a>02192       <span class="keywordflow">if</span> ((current-currentErrorMinus &lt; range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> || !haveLower) &amp;&amp; current-currentErrorMinus &lt; 0)
<a name="l02193"></a>02193       {
<a name="l02194"></a>02194         range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = current-currentErrorMinus;
<a name="l02195"></a>02195         haveLower = <span class="keyword">true</span>;
<a name="l02196"></a>02196       }
<a name="l02197"></a>02197       <span class="keywordflow">if</span> ((current+currentErrorPlus &gt; range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> || !haveUpper) &amp;&amp; current+currentErrorPlus &lt; 0)
<a name="l02198"></a>02198       {
<a name="l02199"></a>02199         range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = current+currentErrorPlus;
<a name="l02200"></a>02200         haveUpper = <span class="keyword">true</span>;
<a name="l02201"></a>02201       }
<a name="l02202"></a>02202       <span class="keywordflow">if</span> (includeErrors) <span class="comment">// in case point is in valid sign domain but errobars stretch beyond it, we still want to geht that point.</span>
<a name="l02203"></a>02203       {
<a name="l02204"></a>02204         <span class="keywordflow">if</span> ((current &lt; range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> || !haveLower) &amp;&amp; current &lt; 0)
<a name="l02205"></a>02205         {
<a name="l02206"></a>02206           range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = current;
<a name="l02207"></a>02207           haveLower = <span class="keyword">true</span>;
<a name="l02208"></a>02208         }
<a name="l02209"></a>02209         <span class="keywordflow">if</span> ((current &gt; range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> || !haveUpper) &amp;&amp; current &lt; 0)
<a name="l02210"></a>02210         {
<a name="l02211"></a>02211           range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = current;
<a name="l02212"></a>02212           haveUpper = <span class="keyword">true</span>;
<a name="l02213"></a>02213         }
<a name="l02214"></a>02214       }
<a name="l02215"></a>02215       ++it;
<a name="l02216"></a>02216     }
<a name="l02217"></a>02217   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030" title="The positive sign domain, i.e. numbers greater than zero.">sdPositive</a>) <span class="comment">// range may only be in the positive sign domain</span>
<a name="l02218"></a>02218   {
<a name="l02219"></a>02219     QCPDataMap::const_iterator it = <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;constBegin();
<a name="l02220"></a>02220     <span class="keywordflow">while</span> (it != <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;constEnd())
<a name="l02221"></a>02221     {
<a name="l02222"></a>02222       current = it.value().key;
<a name="l02223"></a>02223       currentErrorMinus = (includeErrors ? it.value().keyErrorMinus : 0);
<a name="l02224"></a>02224       currentErrorPlus = (includeErrors ? it.value().keyErrorPlus : 0);
<a name="l02225"></a>02225       <span class="keywordflow">if</span> ((current-currentErrorMinus &lt; range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> || !haveLower) &amp;&amp; current-currentErrorMinus &gt; 0)
<a name="l02226"></a>02226       {
<a name="l02227"></a>02227         range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = current-currentErrorMinus;
<a name="l02228"></a>02228         haveLower = <span class="keyword">true</span>;
<a name="l02229"></a>02229       }
<a name="l02230"></a>02230       <span class="keywordflow">if</span> ((current+currentErrorPlus &gt; range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> || !haveUpper) &amp;&amp; current+currentErrorPlus &gt; 0)
<a name="l02231"></a>02231       {
<a name="l02232"></a>02232         range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = current+currentErrorPlus;
<a name="l02233"></a>02233         haveUpper = <span class="keyword">true</span>;
<a name="l02234"></a>02234       }
<a name="l02235"></a>02235       <span class="keywordflow">if</span> (includeErrors) <span class="comment">// in case point is in valid sign domain but errobars stretch beyond it, we still want to get that point.</span>
<a name="l02236"></a>02236       {
<a name="l02237"></a>02237         <span class="keywordflow">if</span> ((current &lt; range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> || !haveLower) &amp;&amp; current &gt; 0)
<a name="l02238"></a>02238         {
<a name="l02239"></a>02239           range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = current;
<a name="l02240"></a>02240           haveLower = <span class="keyword">true</span>;
<a name="l02241"></a>02241         }
<a name="l02242"></a>02242         <span class="keywordflow">if</span> ((current &gt; range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> || !haveUpper) &amp;&amp; current &gt; 0)
<a name="l02243"></a>02243         {
<a name="l02244"></a>02244           range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = current;
<a name="l02245"></a>02245           haveUpper = <span class="keyword">true</span>;
<a name="l02246"></a>02246         }
<a name="l02247"></a>02247       }
<a name="l02248"></a>02248       ++it;
<a name="l02249"></a>02249     }
<a name="l02250"></a>02250   }
<a name="l02251"></a>02251   
<a name="l02252"></a>02252   validRange = haveLower &amp;&amp; haveUpper;
<a name="l02253"></a>02253   <span class="keywordflow">return</span> range;
<a name="l02254"></a>02254 }
<a name="l02255"></a>02255 
<a name="l02261"></a><a class="code" href="class_q_c_p_graph.html#acdb1e7bb86fea2764b0adb104185832b">02261</a> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> <a class="code" href="class_q_c_p_graph.html#a9fc0c1288455fa5bb64b603d6b01de6c">QCPGraph::getValueRange</a>(<span class="keywordtype">bool</span> &amp;validRange, <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8">SignDomain</a> inSignDomain, <span class="keywordtype">bool</span> includeErrors)<span class="keyword"> const</span>
<a name="l02262"></a>02262 <span class="keyword"></span>{
<a name="l02263"></a>02263   <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> range;
<a name="l02264"></a>02264   <span class="keywordtype">bool</span> haveLower = <span class="keyword">false</span>;
<a name="l02265"></a>02265   <span class="keywordtype">bool</span> haveUpper = <span class="keyword">false</span>;
<a name="l02266"></a>02266   
<a name="l02267"></a>02267   <span class="keywordtype">double</span> current, currentErrorMinus, currentErrorPlus;
<a name="l02268"></a>02268   
<a name="l02269"></a>02269   <span class="keywordflow">if</span> (inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60" title="Both sign domains, including zero, i.e. all (rational) numbers.">sdBoth</a>) <span class="comment">// range may be anywhere</span>
<a name="l02270"></a>02270   {
<a name="l02271"></a>02271     QCPDataMap::const_iterator it = <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;constBegin();
<a name="l02272"></a>02272     <span class="keywordflow">while</span> (it != <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;constEnd())
<a name="l02273"></a>02273     {
<a name="l02274"></a>02274       current = it.value().value;
<a name="l02275"></a>02275       currentErrorMinus = (includeErrors ? it.value().valueErrorMinus : 0);
<a name="l02276"></a>02276       currentErrorPlus = (includeErrors ? it.value().valueErrorPlus : 0);
<a name="l02277"></a>02277       <span class="keywordflow">if</span> (current-currentErrorMinus &lt; range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> || !haveLower)
<a name="l02278"></a>02278       {
<a name="l02279"></a>02279         range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = current-currentErrorMinus;
<a name="l02280"></a>02280         haveLower = <span class="keyword">true</span>;
<a name="l02281"></a>02281       }
<a name="l02282"></a>02282       <span class="keywordflow">if</span> (current+currentErrorPlus &gt; range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> || !haveUpper)
<a name="l02283"></a>02283       {
<a name="l02284"></a>02284         range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = current+currentErrorPlus;
<a name="l02285"></a>02285         haveUpper = <span class="keyword">true</span>;
<a name="l02286"></a>02286       }
<a name="l02287"></a>02287       ++it;
<a name="l02288"></a>02288     }
<a name="l02289"></a>02289   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63" title="The negative sign domain, i.e. numbers smaller than zero.">sdNegative</a>) <span class="comment">// range may only be in the negative sign domain</span>
<a name="l02290"></a>02290   {
<a name="l02291"></a>02291     QCPDataMap::const_iterator it = <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;constBegin();
<a name="l02292"></a>02292     <span class="keywordflow">while</span> (it != <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;constEnd())
<a name="l02293"></a>02293     {
<a name="l02294"></a>02294       current = it.value().value;
<a name="l02295"></a>02295       currentErrorMinus = (includeErrors ? it.value().valueErrorMinus : 0);
<a name="l02296"></a>02296       currentErrorPlus = (includeErrors ? it.value().valueErrorPlus : 0);
<a name="l02297"></a>02297       <span class="keywordflow">if</span> ((current-currentErrorMinus &lt; range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> || !haveLower) &amp;&amp; current-currentErrorMinus &lt; 0)
<a name="l02298"></a>02298       {
<a name="l02299"></a>02299         range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = current-currentErrorMinus;
<a name="l02300"></a>02300         haveLower = <span class="keyword">true</span>;
<a name="l02301"></a>02301       }
<a name="l02302"></a>02302       <span class="keywordflow">if</span> ((current+currentErrorPlus &gt; range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> || !haveUpper) &amp;&amp; current+currentErrorPlus &lt; 0)
<a name="l02303"></a>02303       {
<a name="l02304"></a>02304         range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = current+currentErrorPlus;
<a name="l02305"></a>02305         haveUpper = <span class="keyword">true</span>;
<a name="l02306"></a>02306       }
<a name="l02307"></a>02307       <span class="keywordflow">if</span> (includeErrors) <span class="comment">// in case point is in valid sign domain but errobars stretch beyond it, we still want to get that point.</span>
<a name="l02308"></a>02308       {
<a name="l02309"></a>02309         <span class="keywordflow">if</span> ((current &lt; range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> || !haveLower) &amp;&amp; current &lt; 0)
<a name="l02310"></a>02310         {
<a name="l02311"></a>02311           range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = current;
<a name="l02312"></a>02312           haveLower = <span class="keyword">true</span>;
<a name="l02313"></a>02313         }
<a name="l02314"></a>02314         <span class="keywordflow">if</span> ((current &gt; range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> || !haveUpper) &amp;&amp; current &lt; 0)
<a name="l02315"></a>02315         {
<a name="l02316"></a>02316           range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = current;
<a name="l02317"></a>02317           haveUpper = <span class="keyword">true</span>;
<a name="l02318"></a>02318         }
<a name="l02319"></a>02319       }
<a name="l02320"></a>02320       ++it;
<a name="l02321"></a>02321     }
<a name="l02322"></a>02322   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030" title="The positive sign domain, i.e. numbers greater than zero.">sdPositive</a>) <span class="comment">// range may only be in the positive sign domain</span>
<a name="l02323"></a>02323   {
<a name="l02324"></a>02324     QCPDataMap::const_iterator it = <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;constBegin();
<a name="l02325"></a>02325     <span class="keywordflow">while</span> (it != <a class="code" href="class_q_c_p_graph.html#a8457c840f69a0ac49f61d30a509c5d08">mData</a>-&gt;constEnd())
<a name="l02326"></a>02326     {
<a name="l02327"></a>02327       current = it.value().value;
<a name="l02328"></a>02328       currentErrorMinus = (includeErrors ? it.value().valueErrorMinus : 0);
<a name="l02329"></a>02329       currentErrorPlus = (includeErrors ? it.value().valueErrorPlus : 0);
<a name="l02330"></a>02330       <span class="keywordflow">if</span> ((current-currentErrorMinus &lt; range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> || !haveLower) &amp;&amp; current-currentErrorMinus &gt; 0)
<a name="l02331"></a>02331       {
<a name="l02332"></a>02332         range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = current-currentErrorMinus;
<a name="l02333"></a>02333         haveLower = <span class="keyword">true</span>;
<a name="l02334"></a>02334       }
<a name="l02335"></a>02335       <span class="keywordflow">if</span> ((current+currentErrorPlus &gt; range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> || !haveUpper) &amp;&amp; current+currentErrorPlus &gt; 0)
<a name="l02336"></a>02336       {
<a name="l02337"></a>02337         range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = current+currentErrorPlus;
<a name="l02338"></a>02338         haveUpper = <span class="keyword">true</span>;
<a name="l02339"></a>02339       }
<a name="l02340"></a>02340       <span class="keywordflow">if</span> (includeErrors) <span class="comment">// in case point is in valid sign domain but errobars stretch beyond it, we still want to geht that point.</span>
<a name="l02341"></a>02341       {
<a name="l02342"></a>02342         <span class="keywordflow">if</span> ((current &lt; range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> || !haveLower) &amp;&amp; current &gt; 0)
<a name="l02343"></a>02343         {
<a name="l02344"></a>02344           range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = current;
<a name="l02345"></a>02345           haveLower = <span class="keyword">true</span>;
<a name="l02346"></a>02346         }
<a name="l02347"></a>02347         <span class="keywordflow">if</span> ((current &gt; range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> || !haveUpper) &amp;&amp; current &gt; 0)
<a name="l02348"></a>02348         {
<a name="l02349"></a>02349           range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = current;
<a name="l02350"></a>02350           haveUpper = <span class="keyword">true</span>;
<a name="l02351"></a>02351         }
<a name="l02352"></a>02352       }
<a name="l02353"></a>02353       ++it;
<a name="l02354"></a>02354     }
<a name="l02355"></a>02355   }
<a name="l02356"></a>02356   
<a name="l02357"></a>02357   validRange = haveLower &amp;&amp; haveUpper;
<a name="l02358"></a>02358   <span class="keywordflow">return</span> range;
<a name="l02359"></a>02359 }
<a name="l02360"></a>02360 
<a name="l02361"></a>02361 
<a name="l02362"></a>02362 <span class="comment">// ================================================================================</span>
<a name="l02363"></a>02363 <span class="comment">// =================== QCPRange</span>
<a name="l02364"></a>02364 <span class="comment">// ================================================================================</span>
<a name="l02380"></a>02380 <span class="comment"></span><span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_range.html#ab46d3bc95030ee25efda41b89e2b616b">QCPRange::minRange</a> = 1e-280;
<a name="l02381"></a>02381 
<a name="l02390"></a>02390 <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_range.html#a5ca51e7a2dc5dc0d49527ab171fe1f4f">QCPRange::maxRange</a> = 1e250;
<a name="l02391"></a>02391 
<a name="l02395"></a><a class="code" href="class_q_c_p_range.html#aca158d7e69702cee5d77d10a269b01e2">02395</a> <a class="code" href="class_q_c_p_range.html#aca158d7e69702cee5d77d10a269b01e2">QCPRange::QCPRange</a>() :
<a name="l02396"></a>02396   lower(0),
<a name="l02397"></a>02397   upper(0)
<a name="l02398"></a>02398 {
<a name="l02399"></a>02399 }
<a name="l02400"></a>02400 
<a name="l02404"></a><a class="code" href="class_q_c_p_range.html#a1d9d84d084c8f368fdedd42e0978d405">02404</a> <a class="code" href="class_q_c_p_range.html#aca158d7e69702cee5d77d10a269b01e2">QCPRange::QCPRange</a>(<span class="keywordtype">double</span> lower, <span class="keywordtype">double</span> upper) :
<a name="l02405"></a>02405   lower(lower),
<a name="l02406"></a>02406   upper(upper)
<a name="l02407"></a>02407 {
<a name="l02408"></a>02408   <a class="code" href="class_q_c_p_range.html#af914a7740269b0604d0827c634a878a9">normalize</a>();
<a name="l02409"></a>02409 }
<a name="l02410"></a>02410 
<a name="l02414"></a><a class="code" href="class_q_c_p_range.html#afa57c13049b965edb6fd1c00ac56338a">02414</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_range.html#afa57c13049b965edb6fd1c00ac56338a">QCPRange::size</a>()<span class="keyword"> const</span>
<a name="l02415"></a>02415 <span class="keyword"></span>{
<a name="l02416"></a>02416   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>-<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>;
<a name="l02417"></a>02417 }
<a name="l02418"></a>02418 
<a name="l02422"></a><a class="code" href="class_q_c_p_range.html#a3825b53cf17da5de0843c1f3baad07db">02422</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_range.html#a3825b53cf17da5de0843c1f3baad07db">QCPRange::center</a>()<span class="keyword"> const</span>
<a name="l02423"></a>02423 <span class="keyword"></span>{
<a name="l02424"></a>02424   <span class="keywordflow">return</span> (<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>+<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>)*0.5;
<a name="l02425"></a>02425 }
<a name="l02426"></a>02426 
<a name="l02431"></a><a class="code" href="class_q_c_p_range.html#af914a7740269b0604d0827c634a878a9">02431</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_range.html#af914a7740269b0604d0827c634a878a9">QCPRange::normalize</a>()
<a name="l02432"></a>02432 {
<a name="l02433"></a>02433   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> &gt; <a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>)
<a name="l02434"></a>02434     qSwap(<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>, <a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>);
<a name="l02435"></a>02435 }
<a name="l02436"></a>02436 
<a name="l02449"></a><a class="code" href="class_q_c_p_range.html#aaf6a9046e78d91eeb8e89584fe46b034">02449</a> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> <a class="code" href="class_q_c_p_range.html#aaf6a9046e78d91eeb8e89584fe46b034">QCPRange::sanitizedForLogScale</a>()<span class="keyword"> const</span>
<a name="l02450"></a>02450 <span class="keyword"></span>{
<a name="l02451"></a>02451   <span class="keywordtype">double</span> rangeFac = 1e-3;
<a name="l02452"></a>02452   <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> sanitizedRange(<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>, <a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>);
<a name="l02453"></a>02453   sanitizedRange.<a class="code" href="class_q_c_p_range.html#af914a7740269b0604d0827c634a878a9">normalize</a>();
<a name="l02454"></a>02454   <span class="comment">// can&#39;t have range spanning negative and positive values in log plot, so change range to fix it</span>
<a name="l02455"></a>02455   <span class="comment">//if (qFuzzyCompare(sanitizedRange.lower+1, 1) &amp;&amp; !qFuzzyCompare(sanitizedRange.upper+1, 1))</span>
<a name="l02456"></a>02456   <span class="keywordflow">if</span> (sanitizedRange.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> == 0.0 &amp;&amp; sanitizedRange.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> != 0.0)
<a name="l02457"></a>02457   {
<a name="l02458"></a>02458     <span class="comment">// case lower is 0</span>
<a name="l02459"></a>02459     <span class="keywordflow">if</span> (rangeFac &lt; sanitizedRange.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>*rangeFac)
<a name="l02460"></a>02460       sanitizedRange.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = rangeFac;
<a name="l02461"></a>02461     <span class="keywordflow">else</span>
<a name="l02462"></a>02462       sanitizedRange.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = sanitizedRange.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>*rangeFac;
<a name="l02463"></a>02463   } <span class="comment">//else if (!qFuzzyCompare(lower+1, 1) &amp;&amp; qFuzzyCompare(upper+1, 1))</span>
<a name="l02464"></a>02464   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sanitizedRange.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> != 0.0 &amp;&amp; sanitizedRange.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> == 0.0)
<a name="l02465"></a>02465   {
<a name="l02466"></a>02466     <span class="comment">// case upper is 0</span>
<a name="l02467"></a>02467     <span class="keywordflow">if</span> (-rangeFac &gt; sanitizedRange.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>*rangeFac)
<a name="l02468"></a>02468       sanitizedRange.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = -rangeFac;
<a name="l02469"></a>02469     <span class="keywordflow">else</span>
<a name="l02470"></a>02470       sanitizedRange.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = sanitizedRange.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>*rangeFac;
<a name="l02471"></a>02471   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sanitizedRange.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> &lt; 0 &amp;&amp; sanitizedRange.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &gt; 0)
<a name="l02472"></a>02472   {
<a name="l02473"></a>02473     <span class="comment">// find out whether negative or positive interval is wider to decide which sign domain will be chosen</span>
<a name="l02474"></a>02474     <span class="keywordflow">if</span> (-sanitizedRange.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> &gt; sanitizedRange.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>)
<a name="l02475"></a>02475     {
<a name="l02476"></a>02476       <span class="comment">// negative is wider, do same as in case upper is 0</span>
<a name="l02477"></a>02477       <span class="keywordflow">if</span> (-rangeFac &gt; sanitizedRange.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>*rangeFac)
<a name="l02478"></a>02478         sanitizedRange.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = -rangeFac;
<a name="l02479"></a>02479       <span class="keywordflow">else</span>
<a name="l02480"></a>02480         sanitizedRange.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = sanitizedRange.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>*rangeFac;
<a name="l02481"></a>02481     } <span class="keywordflow">else</span>
<a name="l02482"></a>02482     {
<a name="l02483"></a>02483       <span class="comment">// positive is wider, do same as in case lower is 0</span>
<a name="l02484"></a>02484       <span class="keywordflow">if</span> (rangeFac &lt; sanitizedRange.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>*rangeFac)
<a name="l02485"></a>02485         sanitizedRange.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = rangeFac;
<a name="l02486"></a>02486       <span class="keywordflow">else</span>
<a name="l02487"></a>02487         sanitizedRange.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = sanitizedRange.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>*rangeFac;
<a name="l02488"></a>02488     }
<a name="l02489"></a>02489   }
<a name="l02490"></a>02490   <span class="comment">// due to normalization, case lower&gt;0 &amp;&amp; upper&lt;0 should never occur, because that implies upper&lt;lower</span>
<a name="l02491"></a>02491   <span class="keywordflow">return</span> sanitizedRange;
<a name="l02492"></a>02492 }
<a name="l02493"></a>02493 
<a name="l02498"></a><a class="code" href="class_q_c_p_range.html#a1ff029704c29a75adbc1dc36cecaf44c">02498</a> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> <a class="code" href="class_q_c_p_range.html#a1ff029704c29a75adbc1dc36cecaf44c">QCPRange::sanitizedForLinScale</a>()<span class="keyword"> const</span>
<a name="l02499"></a>02499 <span class="keyword"></span>{
<a name="l02500"></a>02500   <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> sanitizedRange(<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>, <a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>);
<a name="l02501"></a>02501   sanitizedRange.<a class="code" href="class_q_c_p_range.html#af914a7740269b0604d0827c634a878a9">normalize</a>();
<a name="l02502"></a>02502   <span class="keywordflow">return</span> sanitizedRange;
<a name="l02503"></a>02503 }
<a name="l02504"></a>02504 
<a name="l02508"></a><a class="code" href="class_q_c_p_range.html#a030ce95b527c32e01414d0351347b46d">02508</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_c_p_range.html#a030ce95b527c32e01414d0351347b46d">QCPRange::contains</a>(<span class="keywordtype">double</span> value)<span class="keyword"> const</span>
<a name="l02509"></a>02509 <span class="keyword"></span>{
<a name="l02510"></a>02510   <span class="keywordflow">return</span> value &gt;= <a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> &amp;&amp; value &lt;= <a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>;
<a name="l02511"></a>02511 }
<a name="l02512"></a>02512 
<a name="l02521"></a><a class="code" href="class_q_c_p_range.html#ab38bd4841c77c7bb86c9eea0f142dcc0">02521</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_c_p_range.html#ab38bd4841c77c7bb86c9eea0f142dcc0">QCPRange::validRange</a>(<span class="keywordtype">double</span> lower, <span class="keywordtype">double</span> upper)
<a name="l02522"></a>02522 {
<a name="l02523"></a>02523   <span class="comment">/*</span>
<a name="l02524"></a>02524 <span class="comment">  return (lower &gt; -maxRange &amp;&amp;</span>
<a name="l02525"></a>02525 <span class="comment">          upper &lt; maxRange &amp;&amp;</span>
<a name="l02526"></a>02526 <span class="comment">          qAbs(lower-upper) &gt; minRange &amp;&amp;</span>
<a name="l02527"></a>02527 <span class="comment">          (lower &lt; -minRange || lower &gt; minRange) &amp;&amp;</span>
<a name="l02528"></a>02528 <span class="comment">          (upper &lt; -minRange || upper &gt; minRange));</span>
<a name="l02529"></a>02529 <span class="comment">          */</span>
<a name="l02530"></a>02530   <span class="keywordflow">return</span> (lower &gt; -<a class="code" href="class_q_c_p_range.html#a5ca51e7a2dc5dc0d49527ab171fe1f4f">maxRange</a> &amp;&amp;
<a name="l02531"></a>02531           upper &lt; <a class="code" href="class_q_c_p_range.html#a5ca51e7a2dc5dc0d49527ab171fe1f4f">maxRange</a> &amp;&amp;
<a name="l02532"></a>02532           qAbs(lower-upper) &gt; <a class="code" href="class_q_c_p_range.html#ab46d3bc95030ee25efda41b89e2b616b">minRange</a> &amp;&amp;
<a name="l02533"></a>02533           qAbs(lower-upper) &lt; <a class="code" href="class_q_c_p_range.html#a5ca51e7a2dc5dc0d49527ab171fe1f4f">maxRange</a>);
<a name="l02534"></a>02534 }
<a name="l02535"></a>02535 
<a name="l02545"></a><a class="code" href="class_q_c_p_range.html#a801b964752eaad6219be9d8a651ec2b3">02545</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_c_p_range.html#ab38bd4841c77c7bb86c9eea0f142dcc0">QCPRange::validRange</a>(<span class="keyword">const</span> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> &amp;range)
<a name="l02546"></a>02546 {
<a name="l02547"></a>02547   <span class="comment">/*</span>
<a name="l02548"></a>02548 <span class="comment">  return (range.lower &gt; -maxRange &amp;&amp;</span>
<a name="l02549"></a>02549 <span class="comment">          range.upper &lt; maxRange &amp;&amp;</span>
<a name="l02550"></a>02550 <span class="comment">          qAbs(range.lower-range.upper) &gt; minRange &amp;&amp;</span>
<a name="l02551"></a>02551 <span class="comment">          qAbs(range.lower-range.upper) &lt; maxRange &amp;&amp;</span>
<a name="l02552"></a>02552 <span class="comment">          (range.lower &lt; -minRange || range.lower &gt; minRange) &amp;&amp;</span>
<a name="l02553"></a>02553 <span class="comment">          (range.upper &lt; -minRange || range.upper &gt; minRange));</span>
<a name="l02554"></a>02554 <span class="comment">          */</span>
<a name="l02555"></a>02555   <span class="keywordflow">return</span> (range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> &gt; -<a class="code" href="class_q_c_p_range.html#a5ca51e7a2dc5dc0d49527ab171fe1f4f">maxRange</a> &amp;&amp;
<a name="l02556"></a>02556           range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &lt; <a class="code" href="class_q_c_p_range.html#a5ca51e7a2dc5dc0d49527ab171fe1f4f">maxRange</a> &amp;&amp;
<a name="l02557"></a>02557           qAbs(range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>-range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>) &gt; <a class="code" href="class_q_c_p_range.html#ab46d3bc95030ee25efda41b89e2b616b">minRange</a> &amp;&amp;
<a name="l02558"></a>02558           qAbs(range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>-range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>) &lt; <a class="code" href="class_q_c_p_range.html#a5ca51e7a2dc5dc0d49527ab171fe1f4f">maxRange</a>);
<a name="l02559"></a>02559 }
<a name="l02560"></a>02560 
<a name="l02561"></a>02561 
<a name="l02562"></a>02562 <span class="comment">// ================================================================================</span>
<a name="l02563"></a>02563 <span class="comment">// =================== QCPLegend</span>
<a name="l02564"></a>02564 <span class="comment">// ================================================================================</span>
<a name="l02565"></a>02565 
<a name="l02572"></a>02572 <span class="comment">/* start of documentation of signals */</span>
<a name="l02573"></a>02573 
<a name="l02581"></a>02581 <span class="comment">/* end of documentation of signals */</span>
<a name="l02582"></a>02582 
<a name="l02589"></a><a class="code" href="class_q_c_p_legend.html#a5dc42d73df80e7294414aee1170c4d2b">02589</a> <a class="code" href="class_q_c_p_legend.html#a5dc42d73df80e7294414aee1170c4d2b">QCPLegend::QCPLegend</a>(<a class="code" href="class_q_custom_plot.html" title="The central class of the library, the QWidget which displays the plot and interacts with the user...">QCustomPlot</a> *parentPlot) :
<a name="l02590"></a>02590   <a class="code" href="class_q_c_p_layerable.html" title="Base class for all objects that can be placed on layers.">QCPLayerable</a>(parentPlot)
<a name="l02591"></a>02591 {
<a name="l02592"></a>02592   <a class="code" href="class_q_c_p_layerable.html#a4fd43e89be4a553ead41652565ff0581">setAntialiased</a>(<span class="keyword">false</span>);
<a name="l02593"></a>02593   <a class="code" href="class_q_c_p_legend.html#aecfd20e956460d1bdc65b79f48db533d">setPositionStyle</a>(<a class="code" href="class_q_c_p_legend.html#aa61c3d82a6c7942dddefbf1ed1f7049fadc969b13706ba4fd802bbc27e0abb18a" title="Legend is positioned in the top right corner of the axis rect with distance to the border correspondi...">psTopRight</a>);
<a name="l02594"></a>02594   <a class="code" href="class_q_c_p_legend.html#ae1d42dbf91b0046f7324dd07a16dd43f">setSize</a>(100, 28);
<a name="l02595"></a>02595   <a class="code" href="class_q_c_p_legend.html#a012c09cb070eabe01cfb598ab188a4fc">setMinimumSize</a>(100, 0);
<a name="l02596"></a>02596   <a class="code" href="class_q_c_p_legend.html#a8b0740cce488bf7010da6beda6898984">setIconSize</a>(32, 18);
<a name="l02597"></a>02597   <a class="code" href="class_q_c_p_legend.html#a067da0c0e2b0e9ee2c623f4d986c0d06">setAutoSize</a>(<span class="keyword">true</span>);
<a name="l02598"></a>02598   
<a name="l02599"></a>02599   <a class="code" href="class_q_c_p_legend.html#afa9e9681dbe3fa05302353a78cb34588">setMargin</a>(12, 12, 12, 12);
<a name="l02600"></a>02600   <a class="code" href="class_q_c_p_legend.html#a6dec710ef473c79c96e92feb7528ae7d">setPadding</a>(8, 8, 3, 3);
<a name="l02601"></a>02601   <a class="code" href="class_q_c_p_legend.html#a1bb966ee2b5f05b9d7e4866d2b1114c0">setItemSpacing</a>(3);
<a name="l02602"></a>02602   <a class="code" href="class_q_c_p_legend.html#a62973bd69d5155e8ea3141366e8968f6">setIconTextPadding</a>(7);
<a name="l02603"></a>02603   
<a name="l02604"></a>02604   <a class="code" href="class_q_c_p_legend.html#aae042f6211e39305d13f7b18c1c301d9">setSelectable</a>(<a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a0fa4758962a46fa1dc9da818abae23c4" title="The legend box (frame)">spLegendBox</a> | <a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a768bfb95f323db4c66473375032c0af7" title="Legend items individually (see selectedItems)">spItems</a>);
<a name="l02605"></a>02605   <a class="code" href="class_q_c_p_legend.html#a752c48b30f8ba870b55e79659385f107">setSelected</a>(<a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a378201c07d500af7126e3ec91652eed7" title="None.">spNone</a>);
<a name="l02606"></a>02606   
<a name="l02607"></a>02607   <a class="code" href="class_q_c_p_legend.html#a866a9e3f5267de7430a6c7f26a61db9f">setBorderPen</a>(QPen(Qt::black));
<a name="l02608"></a>02608   <a class="code" href="class_q_c_p_legend.html#a2c35d262953a25d96b6112653fbefc88">setSelectedBorderPen</a>(QPen(Qt::blue, 2));
<a name="l02609"></a>02609   <a class="code" href="class_q_c_p_legend.html#a2f2c93d18a651f4ff294bb3f026f49b8">setIconBorderPen</a>(Qt::NoPen);
<a name="l02610"></a>02610   <a class="code" href="class_q_c_p_legend.html#ade93aabe9bcccaf9cf46cec22c658027">setSelectedIconBorderPen</a>(QPen(Qt::blue, 2));
<a name="l02611"></a>02611   <a class="code" href="class_q_c_p_legend.html#a497bbcd38baa3598c08e2b3f48103f23">setBrush</a>(Qt::white);
<a name="l02612"></a>02612   <a class="code" href="class_q_c_p_legend.html#a875227f3219c9799464631dec5e8f1bd">setSelectedBrush</a>(Qt::white);
<a name="l02613"></a>02613   <a class="code" href="class_q_c_p_legend.html#aa4cda8499e3cb0f3be415edc02984c73">setFont</a>(parentPlot-&gt;font());
<a name="l02614"></a>02614   <a class="code" href="class_q_c_p_legend.html#ab580a01c3c0a239374ed66c29edf5ad2">setSelectedFont</a>(parentPlot-&gt;font());
<a name="l02615"></a>02615   <a class="code" href="class_q_c_p_legend.html#ae1eb239ff4a4632fe1b6c3e668d845c6">setTextColor</a>(Qt::black);
<a name="l02616"></a>02616   <a class="code" href="class_q_c_p_legend.html#a7674dfc7a1f30e1abd1018c0ed45e0bc">setSelectedTextColor</a>(Qt::blue);
<a name="l02617"></a>02617 }
<a name="l02618"></a>02618 
<a name="l02619"></a><a class="code" href="class_q_c_p_legend.html#a52b305572e20f4e7cb37e945e2b9bec0">02619</a> <a class="code" href="class_q_c_p_legend.html#a52b305572e20f4e7cb37e945e2b9bec0">QCPLegend::~QCPLegend</a>()
<a name="l02620"></a>02620 {
<a name="l02621"></a>02621   <a class="code" href="class_q_c_p_legend.html#a24795c7250eb5214fcea16b7217b4dfb">clearItems</a>();
<a name="l02622"></a>02622 }
<a name="l02623"></a>02623 
<a name="l02627"></a><a class="code" href="class_q_c_p_legend.html#a866a9e3f5267de7430a6c7f26a61db9f">02627</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a866a9e3f5267de7430a6c7f26a61db9f">QCPLegend::setBorderPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l02628"></a>02628 {
<a name="l02629"></a>02629   <a class="code" href="class_q_c_p_legend.html#a52ab8342a382456131d567f962d7f9d0">mBorderPen</a> = pen;
<a name="l02630"></a>02630 }
<a name="l02631"></a>02631 
<a name="l02635"></a><a class="code" href="class_q_c_p_legend.html#a497bbcd38baa3598c08e2b3f48103f23">02635</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a497bbcd38baa3598c08e2b3f48103f23">QCPLegend::setBrush</a>(<span class="keyword">const</span> QBrush &amp;brush)
<a name="l02636"></a>02636 {
<a name="l02637"></a>02637   <a class="code" href="class_q_c_p_legend.html#a9bd7cd05a9a485e06eda513a348baf80">mBrush</a> = <a class="code" href="class_q_c_p_legend.html#a7e5d2766e7d724f399022be8a4e8a2cb">brush</a>;
<a name="l02638"></a>02638 }
<a name="l02639"></a>02639 
<a name="l02649"></a><a class="code" href="class_q_c_p_legend.html#aa4cda8499e3cb0f3be415edc02984c73">02649</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#aa4cda8499e3cb0f3be415edc02984c73">QCPLegend::setFont</a>(<span class="keyword">const</span> QFont &amp;font)
<a name="l02650"></a>02650 {
<a name="l02651"></a>02651   <a class="code" href="class_q_c_p_legend.html#a56ffacb184a99eefe09a0c7181d0713d">mFont</a> = <a class="code" href="class_q_c_p_legend.html#a5cf8b840bc02f7bf4edb8dde400d0f41">font</a>;
<a name="l02652"></a>02652   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.size(); ++i)
<a name="l02653"></a>02653     <a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.at(i)-&gt;setFont(<a class="code" href="class_q_c_p_legend.html#a56ffacb184a99eefe09a0c7181d0713d">mFont</a>);
<a name="l02654"></a>02654 }
<a name="l02655"></a>02655 
<a name="l02665"></a><a class="code" href="class_q_c_p_legend.html#ae1eb239ff4a4632fe1b6c3e668d845c6">02665</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#ae1eb239ff4a4632fe1b6c3e668d845c6">QCPLegend::setTextColor</a>(<span class="keyword">const</span> QColor &amp;color)
<a name="l02666"></a>02666 {
<a name="l02667"></a>02667   <a class="code" href="class_q_c_p_legend.html#a478b2d809a7390e9ff8f8bb70d6bd9fe">mTextColor</a> = color;
<a name="l02668"></a>02668   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.size(); ++i)
<a name="l02669"></a>02669     <a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.at(i)-&gt;setTextColor(color);
<a name="l02670"></a>02670 }
<a name="l02671"></a>02671 
<a name="l02679"></a><a class="code" href="class_q_c_p_legend.html#aecfd20e956460d1bdc65b79f48db533d">02679</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#aecfd20e956460d1bdc65b79f48db533d">QCPLegend::setPositionStyle</a>(<a class="code" href="class_q_c_p_legend.html#aa61c3d82a6c7942dddefbf1ed1f7049f">PositionStyle</a> legendPositionStyle)
<a name="l02680"></a>02680 {
<a name="l02681"></a>02681   <a class="code" href="class_q_c_p_legend.html#abd6cf2517b85e73c98b8f00c3a4104c0">mPositionStyle</a> = legendPositionStyle;
<a name="l02682"></a>02682 }
<a name="l02683"></a>02683 
<a name="l02688"></a><a class="code" href="class_q_c_p_legend.html#a228788ae4caa5b5b269309bb32b54046">02688</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a228788ae4caa5b5b269309bb32b54046">QCPLegend::setPosition</a>(<span class="keyword">const</span> QPoint &amp;pixelPosition)
<a name="l02689"></a>02689 {
<a name="l02690"></a>02690   <a class="code" href="class_q_c_p_legend.html#a1a1033e581aba17a234a320b7fffc739">mPosition</a> = pixelPosition;
<a name="l02691"></a>02691 }
<a name="l02692"></a>02692 
<a name="l02702"></a><a class="code" href="class_q_c_p_legend.html#a067da0c0e2b0e9ee2c623f4d986c0d06">02702</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a067da0c0e2b0e9ee2c623f4d986c0d06">QCPLegend::setAutoSize</a>(<span class="keywordtype">bool</span> on)
<a name="l02703"></a>02703 {
<a name="l02704"></a>02704   <a class="code" href="class_q_c_p_legend.html#af4667ced12f959e20da2eb34d4383008">mAutoSize</a> = on;
<a name="l02705"></a>02705 }
<a name="l02706"></a>02706 
<a name="l02716"></a><a class="code" href="class_q_c_p_legend.html#ae1d42dbf91b0046f7324dd07a16dd43f">02716</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#ae1d42dbf91b0046f7324dd07a16dd43f">QCPLegend::setSize</a>(<span class="keyword">const</span> QSize &amp;size)
<a name="l02717"></a>02717 {
<a name="l02718"></a>02718   <a class="code" href="class_q_c_p_legend.html#aa55b33bf64e26c76e6475fd3140af8a2">mSize</a> = <a class="code" href="class_q_c_p_legend.html#a0b03b2516ddb99965125e20ba1674e78">size</a>;
<a name="l02719"></a>02719 }
<a name="l02720"></a>02720 
<a name="l02723"></a><a class="code" href="class_q_c_p_legend.html#a17d4fdebb8dd8a4b0afcd56555c78f6e">02723</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#ae1d42dbf91b0046f7324dd07a16dd43f">QCPLegend::setSize</a>(<span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height)
<a name="l02724"></a>02724 {
<a name="l02725"></a>02725   <a class="code" href="class_q_c_p_legend.html#aa55b33bf64e26c76e6475fd3140af8a2">mSize</a> = QSize(width, height);
<a name="l02726"></a>02726 }
<a name="l02727"></a>02727 
<a name="l02739"></a><a class="code" href="class_q_c_p_legend.html#a012c09cb070eabe01cfb598ab188a4fc">02739</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a012c09cb070eabe01cfb598ab188a4fc">QCPLegend::setMinimumSize</a>(<span class="keyword">const</span> QSize &amp;size)
<a name="l02740"></a>02740 {
<a name="l02741"></a>02741   <a class="code" href="class_q_c_p_legend.html#a52f5ad2b7fe948e98286447165953c40">mMinimumSize</a> = <a class="code" href="class_q_c_p_legend.html#a0b03b2516ddb99965125e20ba1674e78">size</a>;
<a name="l02742"></a>02742 }
<a name="l02743"></a>02743 
<a name="l02746"></a><a class="code" href="class_q_c_p_legend.html#ae0e264950b0df9abd8e840e513df737b">02746</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a012c09cb070eabe01cfb598ab188a4fc">QCPLegend::setMinimumSize</a>(<span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height)
<a name="l02747"></a>02747 {
<a name="l02748"></a>02748   <a class="code" href="class_q_c_p_legend.html#a52f5ad2b7fe948e98286447165953c40">mMinimumSize</a> = QSize(width, height);
<a name="l02749"></a>02749 }
<a name="l02750"></a>02750 
<a name="l02756"></a><a class="code" href="class_q_c_p_legend.html#afde46ae0e759e58380bdb01df4aab1ce">02756</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#afde46ae0e759e58380bdb01df4aab1ce">QCPLegend::setPaddingLeft</a>(<span class="keywordtype">int</span> padding)
<a name="l02757"></a>02757 {
<a name="l02758"></a>02758   <a class="code" href="class_q_c_p_legend.html#ab7b535988eb6f9d0e4ae6c33ca0e5b03">mPaddingLeft</a> = padding;
<a name="l02759"></a>02759 }
<a name="l02760"></a>02760 
<a name="l02766"></a><a class="code" href="class_q_c_p_legend.html#a6d8b14e2f92130f8af1d66dd28691736">02766</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a6d8b14e2f92130f8af1d66dd28691736">QCPLegend::setPaddingRight</a>(<span class="keywordtype">int</span> padding)
<a name="l02767"></a>02767 {
<a name="l02768"></a>02768   <a class="code" href="class_q_c_p_legend.html#a99eb704ee554eece4dac0833cbc5ee91">mPaddingRight</a> = padding;
<a name="l02769"></a>02769 }
<a name="l02770"></a>02770 
<a name="l02776"></a><a class="code" href="class_q_c_p_legend.html#a6f8c6efe6a0a446ece7c1c44a7e31177">02776</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a6f8c6efe6a0a446ece7c1c44a7e31177">QCPLegend::setPaddingTop</a>(<span class="keywordtype">int</span> padding)
<a name="l02777"></a>02777 {
<a name="l02778"></a>02778   <a class="code" href="class_q_c_p_legend.html#aea0340bde711162822811bcc4ebc3c74">mPaddingTop</a> = padding;
<a name="l02779"></a>02779 }
<a name="l02780"></a>02780 
<a name="l02786"></a><a class="code" href="class_q_c_p_legend.html#a396fa209cb63f6fa650951c291af8d0f">02786</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a396fa209cb63f6fa650951c291af8d0f">QCPLegend::setPaddingBottom</a>(<span class="keywordtype">int</span> padding)
<a name="l02787"></a>02787 {
<a name="l02788"></a>02788   <a class="code" href="class_q_c_p_legend.html#a49f6b31aeee68cfce9fe57aaf0cc6ce1">mPaddingBottom</a> = padding;
<a name="l02789"></a>02789 }
<a name="l02790"></a>02790 
<a name="l02796"></a><a class="code" href="class_q_c_p_legend.html#a6dec710ef473c79c96e92feb7528ae7d">02796</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a6dec710ef473c79c96e92feb7528ae7d">QCPLegend::setPadding</a>(<span class="keywordtype">int</span> left, <span class="keywordtype">int</span> right, <span class="keywordtype">int</span> top, <span class="keywordtype">int</span> bottom)
<a name="l02797"></a>02797 {
<a name="l02798"></a>02798   <a class="code" href="class_q_c_p_legend.html#ab7b535988eb6f9d0e4ae6c33ca0e5b03">mPaddingLeft</a> = left;
<a name="l02799"></a>02799   <a class="code" href="class_q_c_p_legend.html#a99eb704ee554eece4dac0833cbc5ee91">mPaddingRight</a> = right;
<a name="l02800"></a>02800   <a class="code" href="class_q_c_p_legend.html#aea0340bde711162822811bcc4ebc3c74">mPaddingTop</a> = top;
<a name="l02801"></a>02801   <a class="code" href="class_q_c_p_legend.html#a49f6b31aeee68cfce9fe57aaf0cc6ce1">mPaddingBottom</a> = bottom;
<a name="l02802"></a>02802 }
<a name="l02803"></a>02803 
<a name="l02808"></a><a class="code" href="class_q_c_p_legend.html#ab4993084ae32855a5b1d8436b5f90721">02808</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#ab4993084ae32855a5b1d8436b5f90721">QCPLegend::setMarginLeft</a>(<span class="keywordtype">int</span> margin)
<a name="l02809"></a>02809 {
<a name="l02810"></a>02810   <a class="code" href="class_q_c_p_legend.html#abc32b5c03a201ff2a4225503c0f5c8e0">mMarginLeft</a> = margin;
<a name="l02811"></a>02811 }
<a name="l02812"></a>02812 
<a name="l02817"></a><a class="code" href="class_q_c_p_legend.html#a6da7cc21b66f427b7cebe2c180541f4b">02817</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a6da7cc21b66f427b7cebe2c180541f4b">QCPLegend::setMarginRight</a>(<span class="keywordtype">int</span> margin)
<a name="l02818"></a>02818 {
<a name="l02819"></a>02819   <a class="code" href="class_q_c_p_legend.html#ab2c36e6f547421ca9800b8025db745ce">mMarginRight</a> = margin;
<a name="l02820"></a>02820 }
<a name="l02821"></a>02821 
<a name="l02826"></a><a class="code" href="class_q_c_p_legend.html#a264f28f7983dbc9e3a063001eebfff2d">02826</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a264f28f7983dbc9e3a063001eebfff2d">QCPLegend::setMarginTop</a>(<span class="keywordtype">int</span> margin)
<a name="l02827"></a>02827 {
<a name="l02828"></a>02828   <a class="code" href="class_q_c_p_legend.html#a1eb13f7b277274a6de2d739a2498d2d5">mMarginTop</a> = margin;
<a name="l02829"></a>02829 }
<a name="l02830"></a>02830 
<a name="l02835"></a><a class="code" href="class_q_c_p_legend.html#a1b8f2a9d47982cd8d7a126be026b831a">02835</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a1b8f2a9d47982cd8d7a126be026b831a">QCPLegend::setMarginBottom</a>(<span class="keywordtype">int</span> margin)
<a name="l02836"></a>02836 {
<a name="l02837"></a>02837   <a class="code" href="class_q_c_p_legend.html#a3df9b3c2d4af5f8b484cc7c4b64b20c8">mMarginBottom</a> = margin;
<a name="l02838"></a>02838 }
<a name="l02839"></a>02839 
<a name="l02844"></a><a class="code" href="class_q_c_p_legend.html#afa9e9681dbe3fa05302353a78cb34588">02844</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#afa9e9681dbe3fa05302353a78cb34588">QCPLegend::setMargin</a>(<span class="keywordtype">int</span> left, <span class="keywordtype">int</span> right, <span class="keywordtype">int</span> top, <span class="keywordtype">int</span> bottom)
<a name="l02845"></a>02845 {
<a name="l02846"></a>02846   <a class="code" href="class_q_c_p_legend.html#abc32b5c03a201ff2a4225503c0f5c8e0">mMarginLeft</a> = left;
<a name="l02847"></a>02847   <a class="code" href="class_q_c_p_legend.html#ab2c36e6f547421ca9800b8025db745ce">mMarginRight</a> = right;
<a name="l02848"></a>02848   <a class="code" href="class_q_c_p_legend.html#a1eb13f7b277274a6de2d739a2498d2d5">mMarginTop</a> = top;
<a name="l02849"></a>02849   <a class="code" href="class_q_c_p_legend.html#a3df9b3c2d4af5f8b484cc7c4b64b20c8">mMarginBottom</a> = bottom;
<a name="l02850"></a>02850 }
<a name="l02851"></a>02851 
<a name="l02857"></a><a class="code" href="class_q_c_p_legend.html#a1bb966ee2b5f05b9d7e4866d2b1114c0">02857</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a1bb966ee2b5f05b9d7e4866d2b1114c0">QCPLegend::setItemSpacing</a>(<span class="keywordtype">int</span> spacing)
<a name="l02858"></a>02858 {
<a name="l02859"></a>02859   <a class="code" href="class_q_c_p_legend.html#acb16d1d1f6289185e8a5be2ea7f7d635">mItemSpacing</a> = spacing;
<a name="l02860"></a>02860 }
<a name="l02861"></a>02861 
<a name="l02866"></a><a class="code" href="class_q_c_p_legend.html#a8b0740cce488bf7010da6beda6898984">02866</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a8b0740cce488bf7010da6beda6898984">QCPLegend::setIconSize</a>(<span class="keyword">const</span> QSize &amp;size)
<a name="l02867"></a>02867 {
<a name="l02868"></a>02868   <a class="code" href="class_q_c_p_legend.html#a39b972aae6c6a3fa5aa73313ab7a5765">mIconSize</a> = <a class="code" href="class_q_c_p_legend.html#a0b03b2516ddb99965125e20ba1674e78">size</a>;
<a name="l02869"></a>02869 }
<a name="l02870"></a>02870 
<a name="l02873"></a><a class="code" href="class_q_c_p_legend.html#a96b1a37fd4ee6a9778e6e54fe56ab6c2">02873</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a8b0740cce488bf7010da6beda6898984">QCPLegend::setIconSize</a>(<span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height)
<a name="l02874"></a>02874 {
<a name="l02875"></a>02875   <a class="code" href="class_q_c_p_legend.html#a39b972aae6c6a3fa5aa73313ab7a5765">mIconSize</a>.setWidth(width);
<a name="l02876"></a>02876   <a class="code" href="class_q_c_p_legend.html#a39b972aae6c6a3fa5aa73313ab7a5765">mIconSize</a>.setHeight(height);
<a name="l02877"></a>02877 }
<a name="l02878"></a>02878 
<a name="l02886"></a><a class="code" href="class_q_c_p_legend.html#a62973bd69d5155e8ea3141366e8968f6">02886</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a62973bd69d5155e8ea3141366e8968f6">QCPLegend::setIconTextPadding</a>(<span class="keywordtype">int</span> padding)
<a name="l02887"></a>02887 {
<a name="l02888"></a>02888   <a class="code" href="class_q_c_p_legend.html#a8abf8843864ee9afc3f54f906c062240">mIconTextPadding</a> = padding;
<a name="l02889"></a>02889 }
<a name="l02890"></a>02890 
<a name="l02897"></a><a class="code" href="class_q_c_p_legend.html#a2f2c93d18a651f4ff294bb3f026f49b8">02897</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a2f2c93d18a651f4ff294bb3f026f49b8">QCPLegend::setIconBorderPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l02898"></a>02898 {
<a name="l02899"></a>02899   <a class="code" href="class_q_c_p_legend.html#a773ae518c3149fcabff4a2906fdacbc4">mIconBorderPen</a> = pen;
<a name="l02900"></a>02900 }
<a name="l02901"></a>02901 
<a name="l02912"></a><a class="code" href="class_q_c_p_legend.html#aae042f6211e39305d13f7b18c1c301d9">02912</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#aae042f6211e39305d13f7b18c1c301d9">QCPLegend::setSelectable</a>(<span class="keyword">const</span> SelectableParts &amp;selectable)
<a name="l02913"></a>02913 {
<a name="l02914"></a>02914   <a class="code" href="class_q_c_p_legend.html#ad8d87239c5522b661b788d00b6f8c7ce">mSelectable</a> = <a class="code" href="class_q_c_p_legend.html#a459f39581d1eba9ee80557837601e21c">selectable</a>;
<a name="l02915"></a>02915 }
<a name="l02916"></a>02916 
<a name="l02938"></a><a class="code" href="class_q_c_p_legend.html#a752c48b30f8ba870b55e79659385f107">02938</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a752c48b30f8ba870b55e79659385f107">QCPLegend::setSelected</a>(<span class="keyword">const</span> SelectableParts &amp;selected)
<a name="l02939"></a>02939 {
<a name="l02940"></a>02940   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_legend.html#a735cbf24a0cd72b712bb01dfa7d909b2">mSelected</a> != selected)
<a name="l02941"></a>02941   {
<a name="l02942"></a>02942     <span class="keywordflow">if</span> (!selected.testFlag(<a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a768bfb95f323db4c66473375032c0af7" title="Legend items individually (see selectedItems)">spItems</a>) &amp;&amp; <a class="code" href="class_q_c_p_legend.html#a735cbf24a0cd72b712bb01dfa7d909b2">mSelected</a>.testFlag(<a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a768bfb95f323db4c66473375032c0af7" title="Legend items individually (see selectedItems)">spItems</a>)) <span class="comment">// some items are selected, but new selection state doesn&#39;t contain spItems, so deselect them</span>
<a name="l02943"></a>02943     {
<a name="l02944"></a>02944       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.size(); ++i)
<a name="l02945"></a>02945         <a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.at(i)-&gt;setSelected(<span class="keyword">false</span>);
<a name="l02946"></a>02946       <a class="code" href="class_q_c_p_legend.html#a735cbf24a0cd72b712bb01dfa7d909b2">mSelected</a> = <a class="code" href="class_q_c_p_legend.html#a10948e896935ad14f374e6f712afaae9">selected</a>;
<a name="l02947"></a>02947       <span class="comment">// not necessary to emit selectionChanged here because this will have happened for the last setSelected(false) on mItems already, via updateSelectionState()</span>
<a name="l02948"></a>02948     } <span class="keywordflow">else</span>
<a name="l02949"></a>02949     {
<a name="l02950"></a>02950       <a class="code" href="class_q_c_p_legend.html#a735cbf24a0cd72b712bb01dfa7d909b2">mSelected</a> = <a class="code" href="class_q_c_p_legend.html#a10948e896935ad14f374e6f712afaae9">selected</a>;
<a name="l02951"></a>02951       emit <a class="code" href="class_q_c_p_legend.html#a286149b644d5f5c884a0140219d979f6">selectionChanged</a>(<a class="code" href="class_q_c_p_legend.html#a735cbf24a0cd72b712bb01dfa7d909b2">mSelected</a>);
<a name="l02952"></a>02952     }
<a name="l02953"></a>02953   }
<a name="l02954"></a>02954 }
<a name="l02955"></a>02955 
<a name="l02962"></a><a class="code" href="class_q_c_p_legend.html#a2c35d262953a25d96b6112653fbefc88">02962</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a2c35d262953a25d96b6112653fbefc88">QCPLegend::setSelectedBorderPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l02963"></a>02963 {
<a name="l02964"></a>02964   <a class="code" href="class_q_c_p_legend.html#a62906c996906ae23e9f724b6ac1f7334">mSelectedBorderPen</a> = pen;
<a name="l02965"></a>02965 }
<a name="l02966"></a>02966 
<a name="l02972"></a><a class="code" href="class_q_c_p_legend.html#ade93aabe9bcccaf9cf46cec22c658027">02972</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#ade93aabe9bcccaf9cf46cec22c658027">QCPLegend::setSelectedIconBorderPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l02973"></a>02973 {
<a name="l02974"></a>02974   <a class="code" href="class_q_c_p_legend.html#a7429ac0e64c7b90b649b4d8f4cc5fa55">mSelectedIconBorderPen</a> = pen;
<a name="l02975"></a>02975 }
<a name="l02976"></a>02976 
<a name="l02983"></a><a class="code" href="class_q_c_p_legend.html#a875227f3219c9799464631dec5e8f1bd">02983</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a875227f3219c9799464631dec5e8f1bd">QCPLegend::setSelectedBrush</a>(<span class="keyword">const</span> QBrush &amp;brush)
<a name="l02984"></a>02984 {
<a name="l02985"></a>02985   <a class="code" href="class_q_c_p_legend.html#ab3c7567c86d4784b1e48f76a84b3a1e2">mSelectedBrush</a> = <a class="code" href="class_q_c_p_legend.html#a7e5d2766e7d724f399022be8a4e8a2cb">brush</a>;
<a name="l02986"></a>02986 }
<a name="l02987"></a>02987 
<a name="l02995"></a><a class="code" href="class_q_c_p_legend.html#ab580a01c3c0a239374ed66c29edf5ad2">02995</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#ab580a01c3c0a239374ed66c29edf5ad2">QCPLegend::setSelectedFont</a>(<span class="keyword">const</span> QFont &amp;font)
<a name="l02996"></a>02996 {
<a name="l02997"></a>02997   <a class="code" href="class_q_c_p_legend.html#a86ce8f6c20a2f51a48eaf3c24ce16805">mSelectedFont</a> = <a class="code" href="class_q_c_p_legend.html#a5cf8b840bc02f7bf4edb8dde400d0f41">font</a>;
<a name="l02998"></a>02998   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.size(); ++i)
<a name="l02999"></a>02999     <a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.at(i)-&gt;setSelectedFont(font);
<a name="l03000"></a>03000 }
<a name="l03001"></a>03001 
<a name="l03009"></a><a class="code" href="class_q_c_p_legend.html#a7674dfc7a1f30e1abd1018c0ed45e0bc">03009</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a7674dfc7a1f30e1abd1018c0ed45e0bc">QCPLegend::setSelectedTextColor</a>(<span class="keyword">const</span> QColor &amp;color)
<a name="l03010"></a>03010 {
<a name="l03011"></a>03011   <a class="code" href="class_q_c_p_legend.html#a6c25c8796c6e73e983aae6024965f2be">mSelectedTextColor</a> = color;
<a name="l03012"></a>03012   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.size(); ++i)
<a name="l03013"></a>03013     <a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.at(i)-&gt;setSelectedTextColor(color);
<a name="l03014"></a>03014 }
<a name="l03015"></a>03015 
<a name="l03021"></a><a class="code" href="class_q_c_p_legend.html#a454272d7094437beb3278a2294006da5">03021</a> <a class="code" href="class_q_c_p_abstract_legend_item.html" title="The abstract base class for all items in a QCPLegend.">QCPAbstractLegendItem</a> *<a class="code" href="class_q_c_p_legend.html#a454272d7094437beb3278a2294006da5">QCPLegend::item</a>(<span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l03022"></a>03022 <span class="keyword"></span>{
<a name="l03023"></a>03023   <span class="keywordflow">if</span> (index &gt;= 0 &amp;&amp; index &lt; <a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.size())
<a name="l03024"></a>03024     <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>[index];
<a name="l03025"></a>03025   <span class="keywordflow">else</span>
<a name="l03026"></a>03026     <span class="keywordflow">return</span> 0;
<a name="l03027"></a>03027 }
<a name="l03028"></a>03028 
<a name="l03035"></a><a class="code" href="class_q_c_p_legend.html#a5ee80cf83f65e3b6dd386942ee3cc1ee">03035</a> <a class="code" href="class_q_c_p_plottable_legend_item.html" title="A legend item representing a plottable with an icon and the plottable name.">QCPPlottableLegendItem</a> *<a class="code" href="class_q_c_p_legend.html#a5ee80cf83f65e3b6dd386942ee3cc1ee">QCPLegend::itemWithPlottable</a>(<span class="keyword">const</span> <a class="code" href="class_q_c_p_abstract_plottable.html" title="The abstract base class for all data representing objects in a plot.">QCPAbstractPlottable</a> *plottable)<span class="keyword"> const</span>
<a name="l03036"></a>03036 <span class="keyword"></span>{
<a name="l03037"></a>03037   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.size(); ++i)
<a name="l03038"></a>03038   {
<a name="l03039"></a>03039     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_plottable_legend_item.html" title="A legend item representing a plottable with an icon and the plottable name.">QCPPlottableLegendItem</a> *pli = qobject_cast&lt;QCPPlottableLegendItem*&gt;(<a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.at(i)))
<a name="l03040"></a>03040     {
<a name="l03041"></a>03041       <span class="keywordflow">if</span> (pli-&gt;plottable() == plottable)
<a name="l03042"></a>03042         <span class="keywordflow">return</span> pli;
<a name="l03043"></a>03043     }
<a name="l03044"></a>03044   }
<a name="l03045"></a>03045   <span class="keywordflow">return</span> 0;
<a name="l03046"></a>03046 }
<a name="l03047"></a>03047 
<a name="l03052"></a><a class="code" href="class_q_c_p_legend.html#a198228e9cdc78d3a3c306fa6763d0404">03052</a> <span class="keywordtype">int</span> <a class="code" href="class_q_c_p_legend.html#a198228e9cdc78d3a3c306fa6763d0404">QCPLegend::itemCount</a>()<span class="keyword"> const</span>
<a name="l03053"></a>03053 <span class="keyword"></span>{
<a name="l03054"></a>03054   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.size();
<a name="l03055"></a>03055 }
<a name="l03056"></a>03056 
<a name="l03060"></a><a class="code" href="class_q_c_p_legend.html#a380dd19eb631592e1ebb9b24cc5b398a">03060</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_c_p_legend.html#a380dd19eb631592e1ebb9b24cc5b398a">QCPLegend::hasItem</a>(<a class="code" href="class_q_c_p_abstract_legend_item.html" title="The abstract base class for all items in a QCPLegend.">QCPAbstractLegendItem</a> *item)<span class="keyword"> const</span>
<a name="l03061"></a>03061 <span class="keyword"></span>{
<a name="l03062"></a>03062   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.contains(item);
<a name="l03063"></a>03063 }
<a name="l03064"></a>03064 
<a name="l03071"></a><a class="code" href="class_q_c_p_legend.html#a2eb1d24bdf5658e64962a656303fd61a">03071</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_c_p_legend.html#a2eb1d24bdf5658e64962a656303fd61a">QCPLegend::hasItemWithPlottable</a>(<span class="keyword">const</span> <a class="code" href="class_q_c_p_abstract_plottable.html" title="The abstract base class for all data representing objects in a plot.">QCPAbstractPlottable</a> *plottable)<span class="keyword"> const</span>
<a name="l03072"></a>03072 <span class="keyword"></span>{
<a name="l03073"></a>03073   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_legend.html#a5ee80cf83f65e3b6dd386942ee3cc1ee">itemWithPlottable</a>(plottable);
<a name="l03074"></a>03074 }
<a name="l03075"></a>03075 
<a name="l03083"></a><a class="code" href="class_q_c_p_legend.html#a3ab274de52d2951faea45a6d975e6b3f">03083</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_c_p_legend.html#a3ab274de52d2951faea45a6d975e6b3f">QCPLegend::addItem</a>(<a class="code" href="class_q_c_p_abstract_legend_item.html" title="The abstract base class for all items in a QCPLegend.">QCPAbstractLegendItem</a> *item)
<a name="l03084"></a>03084 {
<a name="l03085"></a>03085   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.contains(item))
<a name="l03086"></a>03086   {
<a name="l03087"></a>03087     <a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.append(item);
<a name="l03088"></a>03088     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l03089"></a>03089   } <span class="keywordflow">else</span>
<a name="l03090"></a>03090     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l03091"></a>03091 }
<a name="l03092"></a>03092 
<a name="l03100"></a><a class="code" href="class_q_c_p_legend.html#ac91595c3eaa746fe6321d2eb952c63bb">03100</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_c_p_legend.html#ac91595c3eaa746fe6321d2eb952c63bb">QCPLegend::removeItem</a>(<span class="keywordtype">int</span> index)
<a name="l03101"></a>03101 {
<a name="l03102"></a>03102   <span class="keywordflow">if</span> (index &gt;= 0 &amp;&amp; index &lt; <a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.size())
<a name="l03103"></a>03103   {
<a name="l03104"></a>03104     <a class="code" href="class_q_c_p_legend.html#ae3cf93cee4fa6e7b1966e3c5597004c3">mItemBoundingBoxes</a>.remove(<a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.at(index));
<a name="l03105"></a>03105     <span class="keyword">delete</span> <a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.at(index);
<a name="l03106"></a>03106     <a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.removeAt(index);
<a name="l03107"></a>03107     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l03108"></a>03108   } <span class="keywordflow">else</span>
<a name="l03109"></a>03109     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l03110"></a>03110 }
<a name="l03111"></a>03111 
<a name="l03120"></a><a class="code" href="class_q_c_p_legend.html#a2aea4ec6da2d454dd0b241a254d65082">03120</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_c_p_legend.html#ac91595c3eaa746fe6321d2eb952c63bb">QCPLegend::removeItem</a>(<a class="code" href="class_q_c_p_abstract_legend_item.html" title="The abstract base class for all items in a QCPLegend.">QCPAbstractLegendItem</a> *item)
<a name="l03121"></a>03121 {
<a name="l03122"></a>03122   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_legend.html#ac91595c3eaa746fe6321d2eb952c63bb">removeItem</a>(<a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.indexOf(item));
<a name="l03123"></a>03123 }
<a name="l03124"></a>03124 
<a name="l03128"></a><a class="code" href="class_q_c_p_legend.html#a24795c7250eb5214fcea16b7217b4dfb">03128</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a24795c7250eb5214fcea16b7217b4dfb">QCPLegend::clearItems</a>()
<a name="l03129"></a>03129 {
<a name="l03130"></a>03130   qDeleteAll(<a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>);
<a name="l03131"></a>03131   <a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.clear();
<a name="l03132"></a>03132   <a class="code" href="class_q_c_p_legend.html#ae3cf93cee4fa6e7b1966e3c5597004c3">mItemBoundingBoxes</a>.clear();
<a name="l03133"></a>03133 }
<a name="l03134"></a>03134 
<a name="l03135"></a>03135 
<a name="l03142"></a><a class="code" href="class_q_c_p_legend.html#ac93eaf236e911d67aa8b88942ef45c5e">03142</a> QList&lt;QCPAbstractLegendItem *&gt; <a class="code" href="class_q_c_p_legend.html#ac93eaf236e911d67aa8b88942ef45c5e">QCPLegend::selectedItems</a>()<span class="keyword"> const</span>
<a name="l03143"></a>03143 <span class="keyword"></span>{
<a name="l03144"></a>03144   QList&lt;QCPAbstractLegendItem*&gt; result;
<a name="l03145"></a>03145   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.size(); ++i)
<a name="l03146"></a>03146   {
<a name="l03147"></a>03147     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.at(i)-&gt;selected())
<a name="l03148"></a>03148       result.append(<a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.at(i));
<a name="l03149"></a>03149   }
<a name="l03150"></a>03150   <span class="keywordflow">return</span> result;
<a name="l03151"></a>03151 }
<a name="l03152"></a>03152 
<a name="l03158"></a><a class="code" href="class_q_c_p_legend.html#ad7fd50e5478b0da477d9cc74b7204caf">03158</a> <span class="keywordtype">void</span>  <a class="code" href="class_q_c_p_legend.html#ad7fd50e5478b0da477d9cc74b7204caf">QCPLegend::reArrange</a>()
<a name="l03159"></a>03159 {
<a name="l03160"></a>03160   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_legend.html#af4667ced12f959e20da2eb34d4383008">mAutoSize</a>)
<a name="l03161"></a>03161   {
<a name="l03162"></a>03162     <a class="code" href="class_q_c_p_legend.html#aefb91ff99ea360dede1a96b91e14fcd2">calculateAutoSize</a>();
<a name="l03163"></a>03163   }
<a name="l03164"></a>03164   <a class="code" href="class_q_c_p_legend.html#a1e81744daf2b51ed7025e7357d6f88a1">calculateAutoPosition</a>();
<a name="l03165"></a>03165 }
<a name="l03166"></a>03166 
<a name="l03172"></a><a class="code" href="class_q_c_p_legend.html#a6388446e0906b21ebf3a92310570e73e">03172</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_c_p_legend.html#a6388446e0906b21ebf3a92310570e73e">QCPLegend::selectTestLegend</a>(<span class="keyword">const</span> QPointF &amp;pos)<span class="keyword"> const</span>
<a name="l03173"></a>03173 <span class="keyword"></span>{
<a name="l03174"></a>03174   <span class="keywordflow">return</span> QRect(<a class="code" href="class_q_c_p_legend.html#a1a1033e581aba17a234a320b7fffc739">mPosition</a>, <a class="code" href="class_q_c_p_legend.html#aa55b33bf64e26c76e6475fd3140af8a2">mSize</a>).contains(pos.toPoint());
<a name="l03175"></a>03175 }
<a name="l03176"></a>03176 
<a name="l03183"></a><a class="code" href="class_q_c_p_legend.html#a8bbb0b003cc93f07dff1d69416b606f0">03183</a> <a class="code" href="class_q_c_p_abstract_legend_item.html" title="The abstract base class for all items in a QCPLegend.">QCPAbstractLegendItem</a> *<a class="code" href="class_q_c_p_legend.html#a8bbb0b003cc93f07dff1d69416b606f0">QCPLegend::selectTestItem</a>(<span class="keyword">const</span> QPoint pos)<span class="keyword"> const</span>
<a name="l03184"></a>03184 <span class="keyword"></span>{
<a name="l03185"></a>03185   QMap&lt;QCPAbstractLegendItem*, QRect&gt;::const_iterator it;
<a name="l03186"></a>03186   <span class="keywordflow">for</span> (it = <a class="code" href="class_q_c_p_legend.html#ae3cf93cee4fa6e7b1966e3c5597004c3">mItemBoundingBoxes</a>.constBegin(); it != <a class="code" href="class_q_c_p_legend.html#ae3cf93cee4fa6e7b1966e3c5597004c3">mItemBoundingBoxes</a>.constEnd(); ++it)
<a name="l03187"></a>03187   {
<a name="l03188"></a>03188     <span class="keywordflow">if</span> (it.value().contains(pos) &amp;&amp; <a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.contains(it.key()))
<a name="l03189"></a>03189       <span class="keywordflow">return</span> it.key();
<a name="l03190"></a>03190   }
<a name="l03191"></a>03191   <span class="keywordflow">return</span> 0;
<a name="l03192"></a>03192 }
<a name="l03193"></a>03193 
<a name="l03206"></a><a class="code" href="class_q_c_p_legend.html#ac214f7503cf46225f08f91003f554bdd">03206</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#ac214f7503cf46225f08f91003f554bdd">QCPLegend::updateSelectionState</a>()
<a name="l03207"></a>03207 {
<a name="l03208"></a>03208   <span class="keywordtype">bool</span> hasSelections = <span class="keyword">false</span>;
<a name="l03209"></a>03209   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.size(); ++i)
<a name="l03210"></a>03210   {
<a name="l03211"></a>03211     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.at(i)-&gt;selected())
<a name="l03212"></a>03212     {
<a name="l03213"></a>03213       hasSelections = <span class="keyword">true</span>;
<a name="l03214"></a>03214       <span class="keywordflow">break</span>;
<a name="l03215"></a>03215     }
<a name="l03216"></a>03216   }
<a name="l03217"></a>03217   
<a name="l03218"></a>03218   <span class="comment">// in the following we don&#39;t use setSelected because it would cause unnecessary</span>
<a name="l03219"></a>03219   <span class="comment">// logic looping through items if spItems isn&#39;t set in the new state. (look at setSelected and you&#39;ll understand)</span>
<a name="l03220"></a>03220   <span class="keywordflow">if</span> (hasSelections &amp;&amp; !<a class="code" href="class_q_c_p_legend.html#a735cbf24a0cd72b712bb01dfa7d909b2">mSelected</a>.testFlag(<a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a768bfb95f323db4c66473375032c0af7" title="Legend items individually (see selectedItems)">spItems</a>))
<a name="l03221"></a>03221   {
<a name="l03222"></a>03222     <a class="code" href="class_q_c_p_legend.html#a735cbf24a0cd72b712bb01dfa7d909b2">mSelected</a> |= <a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a768bfb95f323db4c66473375032c0af7" title="Legend items individually (see selectedItems)">spItems</a>;
<a name="l03223"></a>03223     emit <a class="code" href="class_q_c_p_legend.html#a286149b644d5f5c884a0140219d979f6">selectionChanged</a>(<a class="code" href="class_q_c_p_legend.html#a735cbf24a0cd72b712bb01dfa7d909b2">mSelected</a>);
<a name="l03224"></a>03224   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!hasSelections &amp;&amp; <a class="code" href="class_q_c_p_legend.html#a735cbf24a0cd72b712bb01dfa7d909b2">mSelected</a>.testFlag(<a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a768bfb95f323db4c66473375032c0af7" title="Legend items individually (see selectedItems)">spItems</a>))
<a name="l03225"></a>03225   {
<a name="l03226"></a>03226     <a class="code" href="class_q_c_p_legend.html#a735cbf24a0cd72b712bb01dfa7d909b2">mSelected</a> &amp;= ~<a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a768bfb95f323db4c66473375032c0af7" title="Legend items individually (see selectedItems)">spItems</a>;
<a name="l03227"></a>03227     emit <a class="code" href="class_q_c_p_legend.html#a286149b644d5f5c884a0140219d979f6">selectionChanged</a>(<a class="code" href="class_q_c_p_legend.html#a735cbf24a0cd72b712bb01dfa7d909b2">mSelected</a>);
<a name="l03228"></a>03228   }
<a name="l03229"></a>03229 }
<a name="l03230"></a>03230 
<a name="l03244"></a><a class="code" href="class_q_c_p_legend.html#a44cdc6af6cd6e62a2bd827c3236c7261">03244</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_c_p_legend.html#a44cdc6af6cd6e62a2bd827c3236c7261">QCPLegend::handleLegendSelection</a>(QMouseEvent *event, <span class="keywordtype">bool</span> additiveSelection, <span class="keywordtype">bool</span> &amp;modified)
<a name="l03245"></a>03245 {
<a name="l03246"></a>03246   modified = <span class="keyword">false</span>;
<a name="l03247"></a>03247   <span class="keywordtype">bool</span> selectionFound = <span class="keyword">false</span>;
<a name="l03248"></a>03248   
<a name="l03249"></a>03249   <span class="keywordflow">if</span> (event &amp;&amp; <a class="code" href="class_q_c_p_legend.html#a6388446e0906b21ebf3a92310570e73e">selectTestLegend</a>(event-&gt;pos())) <span class="comment">// clicked inside legend somewhere</span>
<a name="l03250"></a>03250   {
<a name="l03251"></a>03251     <a class="code" href="class_q_c_p_abstract_legend_item.html" title="The abstract base class for all items in a QCPLegend.">QCPAbstractLegendItem</a> *ali = <a class="code" href="class_q_c_p_legend.html#a8bbb0b003cc93f07dff1d69416b606f0">selectTestItem</a>(event-&gt;pos());
<a name="l03252"></a>03252     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_legend.html#a459f39581d1eba9ee80557837601e21c">selectable</a>().testFlag(<a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a768bfb95f323db4c66473375032c0af7" title="Legend items individually (see selectedItems)">QCPLegend::spItems</a>) &amp;&amp; ali &amp;&amp; ali-&gt;<a class="code" href="class_q_c_p_abstract_legend_item.html#a0a0205f33f37edae50826c24cb8f1983">selectable</a>()) <span class="comment">// items shall be selectable and item ali was clicked </span>
<a name="l03253"></a>03253     {
<a name="l03254"></a>03254       selectionFound = <span class="keyword">true</span>;
<a name="l03255"></a>03255       <span class="comment">// deselect legend box:</span>
<a name="l03256"></a>03256       <span class="keywordflow">if</span> (!additiveSelection &amp;&amp; <a class="code" href="class_q_c_p_legend.html#a10948e896935ad14f374e6f712afaae9">selected</a>().testFlag(<a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a0fa4758962a46fa1dc9da818abae23c4" title="The legend box (frame)">QCPLegend::spLegendBox</a>) &amp;&amp; <a class="code" href="class_q_c_p_legend.html#a459f39581d1eba9ee80557837601e21c">selectable</a>().testFlag(<a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a0fa4758962a46fa1dc9da818abae23c4" title="The legend box (frame)">QCPLegend::spLegendBox</a>))
<a name="l03257"></a>03257         <a class="code" href="class_q_c_p_legend.html#a752c48b30f8ba870b55e79659385f107">setSelected</a>(<a class="code" href="class_q_c_p_legend.html#a10948e896935ad14f374e6f712afaae9">selected</a>() &amp; ~<a class="code" href="class_q_c_p_legend.html" title="Manages a legend inside a QCustomPlot.">QCPLegend</a><a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a0fa4758962a46fa1dc9da818abae23c4" title="The legend box (frame)">::spLegendBox</a>);
<a name="l03258"></a>03258       <span class="comment">// first select clicked item:</span>
<a name="l03259"></a>03259       <span class="keywordflow">if</span> (!ali-&gt;<a class="code" href="class_q_c_p_abstract_legend_item.html#ac776e68e3367704452131c6aa9908bb9">selected</a>() || additiveSelection) <span class="comment">// if additive selection, we toggle selection on and off per click</span>
<a name="l03260"></a>03260       {
<a name="l03261"></a>03261         modified = <span class="keyword">true</span>;
<a name="l03262"></a>03262         ali-&gt;<a class="code" href="class_q_c_p_abstract_legend_item.html#a6eed93b0ab99cb3eabb043fb08179c2b">setSelected</a>(!ali-&gt;<a class="code" href="class_q_c_p_abstract_legend_item.html#ac776e68e3367704452131c6aa9908bb9">selected</a>());
<a name="l03263"></a>03263       }
<a name="l03264"></a>03264       <span class="comment">// finally, deselect all other items (if we had deselected all first, the selectionChanged signal of QCPLegend might have been emitted twice):</span>
<a name="l03265"></a>03265       <span class="keywordflow">if</span> (!additiveSelection)
<a name="l03266"></a>03266       {
<a name="l03267"></a>03267         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_c_p_legend.html#a198228e9cdc78d3a3c306fa6763d0404">itemCount</a>(); ++i)
<a name="l03268"></a>03268         {
<a name="l03269"></a>03269           <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_legend.html#a454272d7094437beb3278a2294006da5">item</a>(i) != ali &amp;&amp; <a class="code" href="class_q_c_p_legend.html#a454272d7094437beb3278a2294006da5">item</a>(i)-&gt;<a class="code" href="class_q_c_p_abstract_legend_item.html#ac776e68e3367704452131c6aa9908bb9">selected</a>() &amp;&amp; <a class="code" href="class_q_c_p_legend.html#a454272d7094437beb3278a2294006da5">item</a>(i)-&gt;<a class="code" href="class_q_c_p_abstract_legend_item.html#a0a0205f33f37edae50826c24cb8f1983">selectable</a>())
<a name="l03270"></a>03270           {
<a name="l03271"></a>03271             modified = <span class="keyword">true</span>;
<a name="l03272"></a>03272             <a class="code" href="class_q_c_p_legend.html#a454272d7094437beb3278a2294006da5">item</a>(i)-&gt;<a class="code" href="class_q_c_p_abstract_legend_item.html#a6eed93b0ab99cb3eabb043fb08179c2b">setSelected</a>(<span class="keyword">false</span>);
<a name="l03273"></a>03273           }
<a name="l03274"></a>03274         }
<a name="l03275"></a>03275       }
<a name="l03276"></a>03276     } <span class="keywordflow">else</span> <span class="comment">// no specific item clicked or items not selectable</span>
<a name="l03277"></a>03277     {
<a name="l03278"></a>03278       <span class="comment">// if items actually were selectable, this means none were clicked, deselect them:</span>
<a name="l03279"></a>03279       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_legend.html#a459f39581d1eba9ee80557837601e21c">selectable</a>().testFlag(<a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a768bfb95f323db4c66473375032c0af7" title="Legend items individually (see selectedItems)">QCPLegend::spItems</a>) &amp;&amp; <a class="code" href="class_q_c_p_legend.html#a10948e896935ad14f374e6f712afaae9">selected</a>().testFlag(<a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a768bfb95f323db4c66473375032c0af7" title="Legend items individually (see selectedItems)">QCPLegend::spItems</a>) &amp;&amp; !additiveSelection)
<a name="l03280"></a>03280       {
<a name="l03281"></a>03281         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_c_p_legend.html#a198228e9cdc78d3a3c306fa6763d0404">itemCount</a>(); ++i)
<a name="l03282"></a>03282         {
<a name="l03283"></a>03283           <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_legend.html#a454272d7094437beb3278a2294006da5">item</a>(i)-&gt;<a class="code" href="class_q_c_p_abstract_legend_item.html#a0a0205f33f37edae50826c24cb8f1983">selectable</a>())
<a name="l03284"></a>03284             <a class="code" href="class_q_c_p_legend.html#a454272d7094437beb3278a2294006da5">item</a>(i)-&gt;<a class="code" href="class_q_c_p_abstract_legend_item.html#a6eed93b0ab99cb3eabb043fb08179c2b">setSelected</a>(<span class="keyword">false</span>);
<a name="l03285"></a>03285         }
<a name="l03286"></a>03286         modified = <span class="keyword">true</span>;
<a name="l03287"></a>03287       }
<a name="l03288"></a>03288       <span class="comment">// if legend box is selectable, select it:</span>
<a name="l03289"></a>03289       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_legend.html#a459f39581d1eba9ee80557837601e21c">selectable</a>().testFlag(<a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a0fa4758962a46fa1dc9da818abae23c4" title="The legend box (frame)">QCPLegend::spLegendBox</a>))
<a name="l03290"></a>03290       {
<a name="l03291"></a>03291         <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_legend.html#a10948e896935ad14f374e6f712afaae9">selected</a>().testFlag(<a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a0fa4758962a46fa1dc9da818abae23c4" title="The legend box (frame)">QCPLegend::spLegendBox</a>) || additiveSelection)
<a name="l03292"></a>03292         {
<a name="l03293"></a>03293           selectionFound = <span class="keyword">true</span>;
<a name="l03294"></a>03294           <a class="code" href="class_q_c_p_legend.html#a752c48b30f8ba870b55e79659385f107">setSelected</a>(<a class="code" href="class_q_c_p_legend.html#a10948e896935ad14f374e6f712afaae9">selected</a>() ^ <a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a0fa4758962a46fa1dc9da818abae23c4" title="The legend box (frame)">QCPLegend::spLegendBox</a>); <span class="comment">// xor because we always toggle</span>
<a name="l03295"></a>03295           modified = <span class="keyword">true</span>;
<a name="l03296"></a>03296         }
<a name="l03297"></a>03297       }
<a name="l03298"></a>03298     }
<a name="l03299"></a>03299   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_legend.html#a10948e896935ad14f374e6f712afaae9">selected</a>() != <a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a378201c07d500af7126e3ec91652eed7" title="None.">QCPLegend::spNone</a> &amp;&amp; <a class="code" href="class_q_c_p_legend.html#a459f39581d1eba9ee80557837601e21c">selectable</a>() != <a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a378201c07d500af7126e3ec91652eed7" title="None.">QCPLegend::spNone</a> &amp;&amp; !additiveSelection) <span class="comment">// legend not clicked, deselect it if selectable allows that (and all child items)</span>
<a name="l03300"></a>03300   {
<a name="l03301"></a>03301     <span class="comment">// only deselect parts that are allowed to be changed by user according to selectable()</span>
<a name="l03302"></a>03302     <span class="comment">// deselect child items (and automatically removes spItems from selected state of legend, if last item gets deselected):</span>
<a name="l03303"></a>03303     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_legend.html#a459f39581d1eba9ee80557837601e21c">selectable</a>().testFlag(<a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a768bfb95f323db4c66473375032c0af7" title="Legend items individually (see selectedItems)">spItems</a>)) 
<a name="l03304"></a>03304     {
<a name="l03305"></a>03305       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_c_p_legend.html#a198228e9cdc78d3a3c306fa6763d0404">itemCount</a>(); ++i)
<a name="l03306"></a>03306       {
<a name="l03307"></a>03307         <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_legend.html#a454272d7094437beb3278a2294006da5">item</a>(i)-&gt;<a class="code" href="class_q_c_p_abstract_legend_item.html#ac776e68e3367704452131c6aa9908bb9">selected</a>() &amp;&amp; <a class="code" href="class_q_c_p_legend.html#a454272d7094437beb3278a2294006da5">item</a>(i)-&gt;<a class="code" href="class_q_c_p_abstract_legend_item.html#a0a0205f33f37edae50826c24cb8f1983">selectable</a>())
<a name="l03308"></a>03308         {
<a name="l03309"></a>03309           <a class="code" href="class_q_c_p_legend.html#a454272d7094437beb3278a2294006da5">item</a>(i)-&gt;<a class="code" href="class_q_c_p_abstract_legend_item.html#a6eed93b0ab99cb3eabb043fb08179c2b">setSelected</a>(<span class="keyword">false</span>);
<a name="l03310"></a>03310           modified = <span class="keyword">true</span>;
<a name="l03311"></a>03311         }
<a name="l03312"></a>03312       }
<a name="l03313"></a>03313     }
<a name="l03314"></a>03314     <span class="comment">// only deselect parts that are allowed to be changed (are selectable). Don&#39;t forcibly remove</span>
<a name="l03315"></a>03315     <span class="comment">// spItems, because some selected items might not be selectable, i.e. allowed to be deselected</span>
<a name="l03316"></a>03316     <span class="comment">// by user interaction. If that&#39;s not the case, spItems will have been removed from selected()</span>
<a name="l03317"></a>03317     <span class="comment">// state in previous loop by individual setSelected(false) calls on the items anyway.</span>
<a name="l03318"></a>03318     QCPLegend::SelectableParts newState = <a class="code" href="class_q_c_p_legend.html#a10948e896935ad14f374e6f712afaae9">selected</a>() &amp; ~(<a class="code" href="class_q_c_p_legend.html#a459f39581d1eba9ee80557837601e21c">selectable</a>()&amp;~<a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a768bfb95f323db4c66473375032c0af7" title="Legend items individually (see selectedItems)">spItems</a>);
<a name="l03319"></a>03319     <span class="keywordflow">if</span> (newState != <a class="code" href="class_q_c_p_legend.html#a10948e896935ad14f374e6f712afaae9">selected</a>())
<a name="l03320"></a>03320     {
<a name="l03321"></a>03321       <a class="code" href="class_q_c_p_legend.html#a752c48b30f8ba870b55e79659385f107">setSelected</a>(newState);
<a name="l03322"></a>03322       modified = <span class="keyword">true</span>;
<a name="l03323"></a>03323     }
<a name="l03324"></a>03324   }
<a name="l03325"></a>03325   
<a name="l03326"></a>03326   <span class="keywordflow">return</span> selectionFound;
<a name="l03327"></a>03327 }
<a name="l03328"></a>03328 
<a name="l03341"></a><a class="code" href="class_q_c_p_legend.html#a26307f532c3458b379663b7d517a5f47">03341</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a26307f532c3458b379663b7d517a5f47">QCPLegend::applyDefaultAntialiasingHint</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)<span class="keyword"> const</span>
<a name="l03342"></a>03342 <span class="keyword"></span>{
<a name="l03343"></a>03343   <a class="code" href="class_q_c_p_layerable.html#a62bd552d1a45aa9accb24b310542279e">applyAntialiasingHint</a>(painter, <a class="code" href="class_q_c_p_layerable.html#a3ab45a4c76a3333ce42eb217a81733ec">mAntialiased</a>, <a class="code" href="namespace_q_c_p.html#ae55dbe315d41fe80f29ba88100843a0ca9e0127a6361b5d0596b031a482c5cf97" title="0x0008 Legend box">QCP::aeLegend</a>);
<a name="l03344"></a>03344 }
<a name="l03345"></a>03345 
<a name="l03351"></a><a class="code" href="class_q_c_p_legend.html#a60172c9d2212584f38f5d0c1e50970c7">03351</a> QPen <a class="code" href="class_q_c_p_legend.html#a60172c9d2212584f38f5d0c1e50970c7">QCPLegend::getBorderPen</a>()<span class="keyword"> const</span>
<a name="l03352"></a>03352 <span class="keyword"></span>{
<a name="l03353"></a>03353   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_legend.html#a735cbf24a0cd72b712bb01dfa7d909b2">mSelected</a>.testFlag(<a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a0fa4758962a46fa1dc9da818abae23c4" title="The legend box (frame)">spLegendBox</a>) ? <a class="code" href="class_q_c_p_legend.html#a62906c996906ae23e9f724b6ac1f7334">mSelectedBorderPen</a> : <a class="code" href="class_q_c_p_legend.html#a52ab8342a382456131d567f962d7f9d0">mBorderPen</a>;
<a name="l03354"></a>03354 }
<a name="l03355"></a>03355 
<a name="l03361"></a><a class="code" href="class_q_c_p_legend.html#a236fe4cd617c9f88620fd9de74417f20">03361</a> QBrush <a class="code" href="class_q_c_p_legend.html#a236fe4cd617c9f88620fd9de74417f20">QCPLegend::getBrush</a>()<span class="keyword"> const</span>
<a name="l03362"></a>03362 <span class="keyword"></span>{
<a name="l03363"></a>03363   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_legend.html#a735cbf24a0cd72b712bb01dfa7d909b2">mSelected</a>.testFlag(<a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a0fa4758962a46fa1dc9da818abae23c4" title="The legend box (frame)">spLegendBox</a>) ? <a class="code" href="class_q_c_p_legend.html#ab3c7567c86d4784b1e48f76a84b3a1e2">mSelectedBrush</a> : <a class="code" href="class_q_c_p_legend.html#a9bd7cd05a9a485e06eda513a348baf80">mBrush</a>;
<a name="l03364"></a>03364 }
<a name="l03365"></a>03365 
<a name="l03370"></a><a class="code" href="class_q_c_p_legend.html#a4462151bf875ca85fa3815457c683fdc">03370</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a4462151bf875ca85fa3815457c683fdc">QCPLegend::draw</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)
<a name="l03371"></a>03371 {
<a name="l03372"></a>03372   painter-&gt;setBrush(<a class="code" href="class_q_c_p_legend.html#a236fe4cd617c9f88620fd9de74417f20">getBrush</a>());
<a name="l03373"></a>03373   painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_legend.html#a60172c9d2212584f38f5d0c1e50970c7">getBorderPen</a>());
<a name="l03374"></a>03374   <span class="comment">// draw background rect:</span>
<a name="l03375"></a>03375   painter-&gt;drawRect(QRect(<a class="code" href="class_q_c_p_legend.html#a1a1033e581aba17a234a320b7fffc739">mPosition</a>, <a class="code" href="class_q_c_p_legend.html#aa55b33bf64e26c76e6475fd3140af8a2">mSize</a>));
<a name="l03376"></a>03376   <span class="comment">// draw legend items:</span>
<a name="l03377"></a>03377   painter-&gt;setClipRect(QRect(<a class="code" href="class_q_c_p_legend.html#a1a1033e581aba17a234a320b7fffc739">mPosition</a>, <a class="code" href="class_q_c_p_legend.html#aa55b33bf64e26c76e6475fd3140af8a2">mSize</a>).adjusted(1, 1, 0, 0));
<a name="l03378"></a>03378   painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(QPen());
<a name="l03379"></a>03379   painter-&gt;setBrush(Qt::NoBrush);
<a name="l03380"></a>03380   <span class="keywordtype">int</span> currentTop = <a class="code" href="class_q_c_p_legend.html#a1a1033e581aba17a234a320b7fffc739">mPosition</a>.y()+<a class="code" href="class_q_c_p_legend.html#aea0340bde711162822811bcc4ebc3c74">mPaddingTop</a>;
<a name="l03381"></a>03381   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.size(); ++i)
<a name="l03382"></a>03382   {
<a name="l03383"></a>03383     QSize itemSize = <a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.at(i)-&gt;size(QSize(<a class="code" href="class_q_c_p_legend.html#aa55b33bf64e26c76e6475fd3140af8a2">mSize</a>.width(), 0));
<a name="l03384"></a>03384     QRect itemRect = QRect(QPoint(<a class="code" href="class_q_c_p_legend.html#a1a1033e581aba17a234a320b7fffc739">mPosition</a>.x()+<a class="code" href="class_q_c_p_legend.html#ab7b535988eb6f9d0e4ae6c33ca0e5b03">mPaddingLeft</a>, currentTop), itemSize);
<a name="l03385"></a>03385     <a class="code" href="class_q_c_p_legend.html#ae3cf93cee4fa6e7b1966e3c5597004c3">mItemBoundingBoxes</a>.insert(<a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.at(i), itemRect);
<a name="l03386"></a>03386     painter-&gt;<a class="code" href="class_q_c_p_painter.html#a8fd6821ee6fecbfa04444c9062912abd">save</a>();
<a name="l03387"></a>03387     <a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.at(i)-&gt;applyAntialiasingHint(painter);
<a name="l03388"></a>03388     <a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.at(i)-&gt;draw(painter, itemRect);
<a name="l03389"></a>03389     painter-&gt;<a class="code" href="class_q_c_p_painter.html#a64908e6298d5bbd83457dc987cc3a022">restore</a>();
<a name="l03390"></a>03390     currentTop += itemSize.height()+<a class="code" href="class_q_c_p_legend.html#acb16d1d1f6289185e8a5be2ea7f7d635">mItemSpacing</a>;
<a name="l03391"></a>03391   }
<a name="l03392"></a>03392 }
<a name="l03393"></a>03393 
<a name="l03400"></a><a class="code" href="class_q_c_p_legend.html#aefb91ff99ea360dede1a96b91e14fcd2">03400</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#aefb91ff99ea360dede1a96b91e14fcd2">QCPLegend::calculateAutoSize</a>()
<a name="l03401"></a>03401 {
<a name="l03402"></a>03402   <span class="keywordtype">int</span> width = <a class="code" href="class_q_c_p_legend.html#a52f5ad2b7fe948e98286447165953c40">mMinimumSize</a>.width()-<a class="code" href="class_q_c_p_legend.html#ab7b535988eb6f9d0e4ae6c33ca0e5b03">mPaddingLeft</a>-<a class="code" href="class_q_c_p_legend.html#a99eb704ee554eece4dac0833cbc5ee91">mPaddingRight</a>; <span class="comment">// start with minimum width and only expand from there</span>
<a name="l03403"></a>03403   <span class="keywordtype">int</span> currentTop;
<a name="l03404"></a>03404   <span class="keywordtype">bool</span> repeat = <span class="keyword">true</span>;
<a name="l03405"></a>03405   <span class="keywordtype">int</span> repeatCount = 0;
<a name="l03406"></a>03406   <span class="keywordflow">while</span> (repeat &amp;&amp; repeatCount &lt; 3) <span class="comment">// repeat until we find self-consistent width (usually 2 runs)</span>
<a name="l03407"></a>03407   {
<a name="l03408"></a>03408     repeat = <span class="keyword">false</span>;
<a name="l03409"></a>03409     currentTop = <a class="code" href="class_q_c_p_legend.html#aea0340bde711162822811bcc4ebc3c74">mPaddingTop</a>;
<a name="l03410"></a>03410     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.size(); ++i)
<a name="l03411"></a>03411     {
<a name="l03412"></a>03412       QSize s = <a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.at(i)-&gt;size(QSize(width, 0));
<a name="l03413"></a>03413       currentTop += s.height();
<a name="l03414"></a>03414       <span class="keywordflow">if</span> (i &lt; <a class="code" href="class_q_c_p_legend.html#a9ae61eaf9434d9f315696bf03c8e4455">mItems</a>.size()-1) <span class="comment">// vertical spacer for all but last item</span>
<a name="l03415"></a>03415         currentTop += <a class="code" href="class_q_c_p_legend.html#acb16d1d1f6289185e8a5be2ea7f7d635">mItemSpacing</a>;
<a name="l03416"></a>03416       <span class="keywordflow">if</span> (width &lt; s.width())
<a name="l03417"></a>03417       {
<a name="l03418"></a>03418         width = s.width();
<a name="l03419"></a>03419         repeat = <span class="keyword">true</span>; <span class="comment">// changed width, so need a new run with new width to let other items adapt their height to that new width</span>
<a name="l03420"></a>03420       }
<a name="l03421"></a>03421     }
<a name="l03422"></a>03422     repeatCount++;
<a name="l03423"></a>03423   }
<a name="l03424"></a>03424   <span class="keywordflow">if</span> (repeat)
<a name="l03425"></a>03425     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;hit repeat limit for iterative width calculation&quot;</span>;
<a name="l03426"></a>03426   currentTop += <a class="code" href="class_q_c_p_legend.html#a49f6b31aeee68cfce9fe57aaf0cc6ce1">mPaddingBottom</a>;
<a name="l03427"></a>03427   width += <a class="code" href="class_q_c_p_legend.html#ab7b535988eb6f9d0e4ae6c33ca0e5b03">mPaddingLeft</a>+<a class="code" href="class_q_c_p_legend.html#a99eb704ee554eece4dac0833cbc5ee91">mPaddingRight</a>;
<a name="l03428"></a>03428   
<a name="l03429"></a>03429   <a class="code" href="class_q_c_p_legend.html#aa55b33bf64e26c76e6475fd3140af8a2">mSize</a>.setWidth(width);
<a name="l03430"></a>03430   <span class="keywordflow">if</span> (currentTop &gt; <a class="code" href="class_q_c_p_legend.html#a52f5ad2b7fe948e98286447165953c40">mMinimumSize</a>.height())
<a name="l03431"></a>03431     <a class="code" href="class_q_c_p_legend.html#aa55b33bf64e26c76e6475fd3140af8a2">mSize</a>.setHeight(currentTop);
<a name="l03432"></a>03432   <span class="keywordflow">else</span>
<a name="l03433"></a>03433     <a class="code" href="class_q_c_p_legend.html#aa55b33bf64e26c76e6475fd3140af8a2">mSize</a>.setHeight(<a class="code" href="class_q_c_p_legend.html#a52f5ad2b7fe948e98286447165953c40">mMinimumSize</a>.height());
<a name="l03434"></a>03434 }
<a name="l03435"></a>03435 
<a name="l03440"></a><a class="code" href="class_q_c_p_legend.html#a1e81744daf2b51ed7025e7357d6f88a1">03440</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_legend.html#a1e81744daf2b51ed7025e7357d6f88a1">QCPLegend::calculateAutoPosition</a>()
<a name="l03441"></a>03441 {
<a name="l03442"></a>03442   <span class="keywordflow">switch</span> (<a class="code" href="class_q_c_p_legend.html#abd6cf2517b85e73c98b8f00c3a4104c0">mPositionStyle</a>)
<a name="l03443"></a>03443   {
<a name="l03444"></a>03444     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_legend.html#aa61c3d82a6c7942dddefbf1ed1f7049fa1f5bb82f19be99ee3722a540b76c3c85" title="Legend is positioned in the top left corner of the axis rect with distance to the border correspondin...">psTopLeft</a>:
<a name="l03445"></a>03445       <a class="code" href="class_q_c_p_legend.html#a1a1033e581aba17a234a320b7fffc739">mPosition</a> = <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>.topLeft() + QPoint(<a class="code" href="class_q_c_p_legend.html#abc32b5c03a201ff2a4225503c0f5c8e0">mMarginLeft</a>, <a class="code" href="class_q_c_p_legend.html#a1eb13f7b277274a6de2d739a2498d2d5">mMarginTop</a>); <span class="keywordflow">break</span>;
<a name="l03446"></a>03446     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_legend.html#aa61c3d82a6c7942dddefbf1ed1f7049fa7ca820289c7938092f497fbd4d706f5d" title="Legend is horizontally centered at the top of the axis rect with distance to the border corresponding...">psTop</a>:
<a name="l03447"></a>03447       <a class="code" href="class_q_c_p_legend.html#a1a1033e581aba17a234a320b7fffc739">mPosition</a> = <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>.topLeft() + QPoint(<a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>.width()/2.0-<a class="code" href="class_q_c_p_legend.html#aa55b33bf64e26c76e6475fd3140af8a2">mSize</a>.width()/2.0, <a class="code" href="class_q_c_p_legend.html#a1eb13f7b277274a6de2d739a2498d2d5">mMarginTop</a>); <span class="keywordflow">break</span>;
<a name="l03448"></a>03448     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_legend.html#aa61c3d82a6c7942dddefbf1ed1f7049fadc969b13706ba4fd802bbc27e0abb18a" title="Legend is positioned in the top right corner of the axis rect with distance to the border correspondi...">psTopRight</a>:
<a name="l03449"></a>03449       <a class="code" href="class_q_c_p_legend.html#a1a1033e581aba17a234a320b7fffc739">mPosition</a> = <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>.topRight() + QPoint(-<a class="code" href="class_q_c_p_legend.html#ab2c36e6f547421ca9800b8025db745ce">mMarginRight</a>-<a class="code" href="class_q_c_p_legend.html#aa55b33bf64e26c76e6475fd3140af8a2">mSize</a>.width(), <a class="code" href="class_q_c_p_legend.html#a1eb13f7b277274a6de2d739a2498d2d5">mMarginTop</a>); <span class="keywordflow">break</span>;
<a name="l03450"></a>03450     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_legend.html#aa61c3d82a6c7942dddefbf1ed1f7049fa71969c414ec15afabe2761131ad85766" title="Legend is vertically centered at the right of the axis rect with distance to the border corresponding...">psRight</a>:
<a name="l03451"></a>03451       <a class="code" href="class_q_c_p_legend.html#a1a1033e581aba17a234a320b7fffc739">mPosition</a> = <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>.topRight() + QPoint(-<a class="code" href="class_q_c_p_legend.html#ab2c36e6f547421ca9800b8025db745ce">mMarginRight</a>-<a class="code" href="class_q_c_p_legend.html#aa55b33bf64e26c76e6475fd3140af8a2">mSize</a>.width(), <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>.height()/2.0-<a class="code" href="class_q_c_p_legend.html#aa55b33bf64e26c76e6475fd3140af8a2">mSize</a>.height()/2.0); <span class="keywordflow">break</span>;
<a name="l03452"></a>03452     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_legend.html#aa61c3d82a6c7942dddefbf1ed1f7049faf4120842dbc223cf8523188f15146d31" title="Legend is positioned in the bottom right corner of the axis rect with distance to the border correspo...">psBottomRight</a>:
<a name="l03453"></a>03453       <a class="code" href="class_q_c_p_legend.html#a1a1033e581aba17a234a320b7fffc739">mPosition</a> = <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>.bottomRight() + QPoint(-<a class="code" href="class_q_c_p_legend.html#ab2c36e6f547421ca9800b8025db745ce">mMarginRight</a>-<a class="code" href="class_q_c_p_legend.html#aa55b33bf64e26c76e6475fd3140af8a2">mSize</a>.width(), -<a class="code" href="class_q_c_p_legend.html#a3df9b3c2d4af5f8b484cc7c4b64b20c8">mMarginBottom</a>-<a class="code" href="class_q_c_p_legend.html#aa55b33bf64e26c76e6475fd3140af8a2">mSize</a>.height()); <span class="keywordflow">break</span>;
<a name="l03454"></a>03454     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_legend.html#aa61c3d82a6c7942dddefbf1ed1f7049fac32970f4bf28ef780f15365abcc9fbd3" title="Legend is horizontally centered at the bottom of the axis rect with distance to the border correspond...">psBottom</a>:
<a name="l03455"></a>03455       <a class="code" href="class_q_c_p_legend.html#a1a1033e581aba17a234a320b7fffc739">mPosition</a> = <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>.bottomLeft() + QPoint(<a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>.width()/2.0-<a class="code" href="class_q_c_p_legend.html#aa55b33bf64e26c76e6475fd3140af8a2">mSize</a>.width()/2.0, -<a class="code" href="class_q_c_p_legend.html#a3df9b3c2d4af5f8b484cc7c4b64b20c8">mMarginBottom</a>-<a class="code" href="class_q_c_p_legend.html#aa55b33bf64e26c76e6475fd3140af8a2">mSize</a>.height()); <span class="keywordflow">break</span>;
<a name="l03456"></a>03456     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_legend.html#aa61c3d82a6c7942dddefbf1ed1f7049fa36e2c1900a0d39596ee26074c7815ee9" title="Legend is positioned in the bottom left corner of the axis rect with distance to the border correspon...">psBottomLeft</a>:
<a name="l03457"></a>03457       <a class="code" href="class_q_c_p_legend.html#a1a1033e581aba17a234a320b7fffc739">mPosition</a> = <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>.bottomLeft() + QPoint(<a class="code" href="class_q_c_p_legend.html#abc32b5c03a201ff2a4225503c0f5c8e0">mMarginLeft</a>, -<a class="code" href="class_q_c_p_legend.html#a3df9b3c2d4af5f8b484cc7c4b64b20c8">mMarginBottom</a>-<a class="code" href="class_q_c_p_legend.html#aa55b33bf64e26c76e6475fd3140af8a2">mSize</a>.height()); <span class="keywordflow">break</span>;
<a name="l03458"></a>03458     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_legend.html#aa61c3d82a6c7942dddefbf1ed1f7049fac9c7c1c0f8d1894792fbb71854002ebe" title="Legend is vertically centered at the left of the axis rect with distance to the border corresponding ...">psLeft</a>:
<a name="l03459"></a>03459       <a class="code" href="class_q_c_p_legend.html#a1a1033e581aba17a234a320b7fffc739">mPosition</a> = <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>.topLeft() + QPoint(<a class="code" href="class_q_c_p_legend.html#abc32b5c03a201ff2a4225503c0f5c8e0">mMarginLeft</a>, <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>.height()/2.0-<a class="code" href="class_q_c_p_legend.html#aa55b33bf64e26c76e6475fd3140af8a2">mSize</a>.height()/2.0); <span class="keywordflow">break</span>;
<a name="l03460"></a>03460     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_legend.html#aa61c3d82a6c7942dddefbf1ed1f7049fadfd57c395cae91cd95231c926c0a38ca" title="Position is not changed automatically. Set manually via setPosition.">psManual</a>: <span class="keywordflow">break</span>;
<a name="l03461"></a>03461   }
<a name="l03462"></a>03462 }
<a name="l03463"></a>03463 
<a name="l03464"></a>03464 
<a name="l03465"></a>03465 <span class="comment">// ================================================================================</span>
<a name="l03466"></a>03466 <span class="comment">// =================== QCPAxis</span>
<a name="l03467"></a>03467 <span class="comment">// ================================================================================</span>
<a name="l03468"></a>03468 
<a name="l03477"></a>03477 <span class="comment">/* start of documentation of inline functions */</span>
<a name="l03478"></a>03478 
<a name="l03485"></a>03485 <span class="comment">/* end of documentation of inline functions */</span>
<a name="l03486"></a>03486 <span class="comment">/* start of documentation of signals */</span>
<a name="l03487"></a>03487 
<a name="l03516"></a>03516 <span class="comment">/* end of documentation of signals */</span>
<a name="l03517"></a>03517 
<a name="l03521"></a><a class="code" href="class_q_c_p_axis.html#a5a34dafa051be08d03e89c163c507f90">03521</a> <a class="code" href="class_q_c_p_axis.html#a5a34dafa051be08d03e89c163c507f90">QCPAxis::QCPAxis</a>(<a class="code" href="class_q_custom_plot.html" title="The central class of the library, the QWidget which displays the plot and interacts with the user...">QCustomPlot</a> *parentPlot, <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18a">AxisType</a> type) :
<a name="l03522"></a>03522   <a class="code" href="class_q_c_p_layerable.html" title="Base class for all objects that can be placed on layers.">QCPLayerable</a>(parentPlot)
<a name="l03523"></a>03523 {
<a name="l03524"></a>03524   <a class="code" href="class_q_c_p_axis.html#aebb24ba8734b7e054efc6e1ecc5414c7">mLowestVisibleTick</a> = 0;
<a name="l03525"></a>03525   <a class="code" href="class_q_c_p_axis.html#abb3b3ccce7e9779fef2be91ce1a46ef0">mHighestVisibleTick</a> = -1;
<a name="l03526"></a>03526   <a class="code" href="class_q_c_p_axis.html#a17bffb94aaa40311f259c6ac7bcb5d5f">mGrid</a> = <span class="keyword">new</span> <a class="code" href="class_q_c_p_axis.html#a061e177f585549fc31f780852e2bd6fe">QCPGrid</a>(<span class="keyword">this</span>);
<a name="l03527"></a>03527   <a class="code" href="class_q_c_p_axis.html#a3976dba7137c71a2a1a34737ff9baff9">setAxisType</a>(type);
<a name="l03528"></a>03528   <a class="code" href="class_q_c_p_axis.html#a0188c6248366fc9f9ff816dceee986e0">setAxisRect</a>(parentPlot-&gt;<a class="code" href="class_q_custom_plot.html#a4a31c39953a7050955ea97eb9e06078c">axisRect</a>()); 
<a name="l03529"></a>03529   <a class="code" href="class_q_c_p_axis.html#adb6c5c45bdf899ea221881dd3b43b406">setScaleType</a>(<a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0aff6e30a11a828bc850caffab0ff994f6" title="Normal linear scaling.">stLinear</a>);
<a name="l03530"></a>03530   <a class="code" href="class_q_c_p_axis.html#a726186054be90487885a748aa1b42188">setScaleLogBase</a>(10);
<a name="l03531"></a>03531   
<a name="l03532"></a>03532   <a class="code" href="class_q_c_p_layerable.html#a4fd43e89be4a553ead41652565ff0581">setAntialiased</a>(<span class="keyword">false</span>);
<a name="l03533"></a>03533   <a class="code" href="class_q_c_p_axis.html#a57d6ee9e9009fe88cb19db476ec70bca">setRange</a>(0, 5);
<a name="l03534"></a>03534   <a class="code" href="class_q_c_p_axis.html#a2172fdb196b1a0dc3f40992fcad8e9e1">setRangeReversed</a>(<span class="keyword">false</span>);
<a name="l03535"></a>03535   
<a name="l03536"></a>03536   <a class="code" href="class_q_c_p_axis.html#ac891409315bc379e3b1abdb162c1a011">setTicks</a>(<span class="keyword">true</span>);
<a name="l03537"></a>03537   <a class="code" href="class_q_c_p_axis.html#af727db0acc6492c4c774c0700e738205">setTickStep</a>(1);
<a name="l03538"></a>03538   <a class="code" href="class_q_c_p_axis.html#a7c7111cbeac9ec5fcb40f93a1ef51a0b">setAutoTickCount</a>(6);
<a name="l03539"></a>03539   <a class="code" href="class_q_c_p_axis.html#ae867c23d3a6a7bd4d09cc66c5d018f63">setAutoTicks</a>(<span class="keyword">true</span>);
<a name="l03540"></a>03540   <a class="code" href="class_q_c_p_axis.html#aaa47e3a6bac0c20d4beb9028f01bc1a1">setAutoTickLabels</a>(<span class="keyword">true</span>);
<a name="l03541"></a>03541   <a class="code" href="class_q_c_p_axis.html#a99fe77b034e06f5b723995beab96e741">setAutoTickStep</a>(<span class="keyword">true</span>);
<a name="l03542"></a>03542   <a class="code" href="class_q_c_p_axis.html#a2b8690c4e8dbc39d9185d2b398ce7a6c">setTickLabelFont</a>(parentPlot-&gt;font());
<a name="l03543"></a>03543   <a class="code" href="class_q_c_p_axis.html#a395e445c3fe496b935bee7b911ecfd1c">setTickLabelColor</a>(Qt::black);
<a name="l03544"></a>03544   <a class="code" href="class_q_c_p_axis.html#a62ec40bebe3540e9c1479a8fd2be3b0d">setTickLength</a>(5);
<a name="l03545"></a>03545   <a class="code" href="class_q_c_p_axis.html#ad80923bcc1c5da4c4db602c5325e797e">setTickPen</a>(QPen(Qt::black, 0, Qt::SolidLine, Qt::SquareCap));
<a name="l03546"></a>03546   <a class="code" href="class_q_c_p_axis.html#a04ba16e1f6f78d70f938519576ed32c8">setTickLabels</a>(<span class="keyword">true</span>);
<a name="l03547"></a>03547   <a class="code" href="class_q_c_p_axis.html#a54f24f5ce8feea25209388a863d7e448">setTickLabelType</a>(<a class="code" href="class_q_c_p_axis.html#a4a7da0166f755f5abac23b765d184cada7f1eacf3b73adaefd334bea04e094b7e" title="Tick coordinate is regarded as normal number and will be displayed as such. (see setNumberFormat)">ltNumber</a>);
<a name="l03548"></a>03548   <a class="code" href="class_q_c_p_axis.html#a1bddd4413df8a576b7ad4b067fb33375">setTickLabelRotation</a>(0);
<a name="l03549"></a>03549   <a class="code" href="class_q_c_p_axis.html#a2ee0191daa03524a682113e63e05f7a7">setDateTimeFormat</a>(<span class="stringliteral">&quot;hh:mm:ss\ndd.MM.yy&quot;</span>);
<a name="l03550"></a>03550   <a class="code" href="class_q_c_p_axis.html#ae585a54dc2aac662e90a2ca82f002590">setNumberFormat</a>(<span class="stringliteral">&quot;gbd&quot;</span>);
<a name="l03551"></a>03551   <a class="code" href="class_q_c_p_axis.html#a21dc8023ad7500382ad9574b48137e63">setNumberPrecision</a>(6);
<a name="l03552"></a>03552   <a class="code" href="class_q_c_p_axis.html#a33bcc382c111c9f31bb0687352a2dea4">setLabel</a>(<span class="stringliteral">&quot;&quot;</span>);
<a name="l03553"></a>03553   <a class="code" href="class_q_c_p_axis.html#a71ac1a47f7547e490a8c4311d1433cf3">setLabelFont</a>(parentPlot-&gt;font());
<a name="l03554"></a>03554   <a class="code" href="class_q_c_p_axis.html#a6c906fe56d75f0122335b9f79b999608">setLabelColor</a>(Qt::black);
<a name="l03555"></a>03555   
<a name="l03556"></a>03556   <a class="code" href="class_q_c_p_axis.html#adcbdec7a60054b88571e89599f4a45bf">setAutoSubTicks</a>(<span class="keyword">true</span>);
<a name="l03557"></a>03557   <a class="code" href="class_q_c_p_axis.html#a4b1554ead9d7f9799650d51383e326dd">setSubTickCount</a>(4);
<a name="l03558"></a>03558   <a class="code" href="class_q_c_p_axis.html#ab702d6fd42fc620607435339a1c2a2e1">setSubTickLength</a>(2);
<a name="l03559"></a>03559   <a class="code" href="class_q_c_p_axis.html#aede4028ae7516bd51a60618a8233f9cf">setSubTickPen</a>(QPen(Qt::black, 0, Qt::SolidLine, Qt::SquareCap));
<a name="l03560"></a>03560   <a class="code" href="class_q_c_p_axis.html#a778d45fb71b3c7ab3bb7079e18b058e4">setBasePen</a>(QPen(Qt::black, 0, Qt::SolidLine, Qt::SquareCap));
<a name="l03561"></a>03561   
<a name="l03562"></a>03562   <a class="code" href="class_q_c_p_axis.html#a24c13908da2f8d629b1bbbe9cbd63e39">setSelected</a>(<a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115fae0df8123a5528d5ccf87cb7794f971ea" title="None of the selectable parts.">spNone</a>);
<a name="l03563"></a>03563   <a class="code" href="class_q_c_p_axis.html#afa988209bf6519f63d6ef2e615dbe1ea">setSelectable</a>(<a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115fa8949d2c1a31eccae9be7ed32e7a1ae38" title="The axis backbone and tick marks.">spAxis</a> | <a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115fa584e0a3dc4d064880647619f4bd4e771" title="Tick labels (numbers) of this axis (as a whole, not individually)">spTickLabels</a> | <a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115fa851e0600e0d08b4f5fee9361e3fedabd" title="The axis label.">spAxisLabel</a>);
<a name="l03564"></a>03564   QFont selTickLabelFont = <a class="code" href="class_q_c_p_axis.html#af6d7ad17f3398b114a413f7a3dc5ef9d">tickLabelFont</a>();
<a name="l03565"></a>03565   selTickLabelFont.setBold(<span class="keyword">true</span>);
<a name="l03566"></a>03566   <a class="code" href="class_q_c_p_axis.html#a845ccb560b7bc5281098a5be494145f6">setSelectedTickLabelFont</a>(selTickLabelFont);
<a name="l03567"></a>03567   QFont selLabelFont = <a class="code" href="class_q_c_p_axis.html#ae8029ae0b32e9d4d73dddcdd0a08c838">labelFont</a>();
<a name="l03568"></a>03568   selLabelFont.setBold(<span class="keyword">true</span>);
<a name="l03569"></a>03569   <a class="code" href="class_q_c_p_axis.html#a02ec2a75d4d8401eaab834fbc6803d30">setSelectedLabelFont</a>(selLabelFont);
<a name="l03570"></a>03570   <a class="code" href="class_q_c_p_axis.html#a9bdbf5e63ab15187f3a1de9440129227">setSelectedTickLabelColor</a>(Qt::blue);
<a name="l03571"></a>03571   <a class="code" href="class_q_c_p_axis.html#a5d502dec597c634f491fdd73d151c72d">setSelectedLabelColor</a>(Qt::blue);
<a name="l03572"></a>03572   QPen blueThickPen(Qt::blue, 2);
<a name="l03573"></a>03573   <a class="code" href="class_q_c_p_axis.html#aeb917a909215605b95ef2be843de1ee8">setSelectedBasePen</a>(blueThickPen);
<a name="l03574"></a>03574   <a class="code" href="class_q_c_p_axis.html#a8360502685eb782edbf04019c9345cdc">setSelectedTickPen</a>(blueThickPen);
<a name="l03575"></a>03575   <a class="code" href="class_q_c_p_axis.html#a2a00a7166600155eac26843132eb9576">setSelectedSubTickPen</a>(blueThickPen);
<a name="l03576"></a>03576   
<a name="l03577"></a>03577   <a class="code" href="class_q_c_p_axis.html#a5691441cb3de9e9844855d339c0db279">setPadding</a>(0);
<a name="l03578"></a>03578   <span class="keywordflow">if</span> (type == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977" title="Axis is horizontal and on the top side of the axis rect of the parent QCustomPlot.">atTop</a>)
<a name="l03579"></a>03579   {
<a name="l03580"></a>03580     <a class="code" href="class_q_c_p_axis.html#af302c479af9dbc2e9f0e44e07c0012ee">setTickLabelPadding</a>(3);
<a name="l03581"></a>03581     <a class="code" href="class_q_c_p_axis.html#a4391192a766e5d20cfe5cbc17607a7a2">setLabelPadding</a>(6);
<a name="l03582"></a>03582   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aadf5509f7d29199ef2f263b1dd224b345" title="Axis is vertical and on the right side of the axis rect of the parent QCustomPlot.">atRight</a>)
<a name="l03583"></a>03583   {
<a name="l03584"></a>03584     <a class="code" href="class_q_c_p_axis.html#af302c479af9dbc2e9f0e44e07c0012ee">setTickLabelPadding</a>(7);
<a name="l03585"></a>03585     <a class="code" href="class_q_c_p_axis.html#a4391192a766e5d20cfe5cbc17607a7a2">setLabelPadding</a>(12);
<a name="l03586"></a>03586   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f" title="Axis is horizontal and on the bottom side of the axis rect of the parent QCustomPlot.">atBottom</a>)
<a name="l03587"></a>03587   {
<a name="l03588"></a>03588     <a class="code" href="class_q_c_p_axis.html#af302c479af9dbc2e9f0e44e07c0012ee">setTickLabelPadding</a>(3);
<a name="l03589"></a>03589     <a class="code" href="class_q_c_p_axis.html#a4391192a766e5d20cfe5cbc17607a7a2">setLabelPadding</a>(3);
<a name="l03590"></a>03590   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aaf84aa6cac6fb6099f54a2cbf7546b730" title="Axis is vertical and on the left side of the axis rect of the parent QCustomPlot.">atLeft</a>)
<a name="l03591"></a>03591   {
<a name="l03592"></a>03592     <a class="code" href="class_q_c_p_axis.html#af302c479af9dbc2e9f0e44e07c0012ee">setTickLabelPadding</a>(5);
<a name="l03593"></a>03593     <a class="code" href="class_q_c_p_axis.html#a4391192a766e5d20cfe5cbc17607a7a2">setLabelPadding</a>(10);
<a name="l03594"></a>03594   }
<a name="l03595"></a>03595 }
<a name="l03596"></a>03596 
<a name="l03597"></a><a class="code" href="class_q_c_p_axis.html#a7cfa27ea9da0bb1fe0ae995572c0b85d">03597</a> <a class="code" href="class_q_c_p_axis.html#a7cfa27ea9da0bb1fe0ae995572c0b85d">QCPAxis::~QCPAxis</a>()
<a name="l03598"></a>03598 {
<a name="l03599"></a>03599   <span class="keyword">delete</span> <a class="code" href="class_q_c_p_axis.html#a17bffb94aaa40311f259c6ac7bcb5d5f">mGrid</a>;
<a name="l03600"></a>03600 }
<a name="l03601"></a>03601 
<a name="l03602"></a>03602 <span class="comment">/* No documentation as it is a property getter */</span>
<a name="l03603"></a><a class="code" href="class_q_c_p_axis.html#ae6729b40845b29ffa5a440aa53cec215">03603</a> QString <a class="code" href="class_q_c_p_axis.html#ae6729b40845b29ffa5a440aa53cec215">QCPAxis::numberFormat</a>()<span class="keyword"> const</span>
<a name="l03604"></a>03604 <span class="keyword"></span>{
<a name="l03605"></a>03605   QString result;
<a name="l03606"></a>03606   result.append(<a class="code" href="class_q_c_p_axis.html#a600d56365316ea783927f7d595f1ed54">mNumberFormatChar</a>);
<a name="l03607"></a>03607   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#af03809bee3f3e35fcc38d25b6dd5003b">mNumberBeautifulPowers</a>)
<a name="l03608"></a>03608   {
<a name="l03609"></a>03609     result.append(<span class="stringliteral">&quot;b&quot;</span>);
<a name="l03610"></a>03610     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#aebf0367d8645d2e05b93a0952b7e805b">mNumberMultiplyCross</a>)
<a name="l03611"></a>03611       result.append(<span class="stringliteral">&quot;c&quot;</span>);
<a name="l03612"></a>03612   }
<a name="l03613"></a>03613   <span class="keywordflow">return</span> result;
<a name="l03614"></a>03614 }
<a name="l03615"></a>03615 
<a name="l03622"></a><a class="code" href="class_q_c_p_axis.html#a3976dba7137c71a2a1a34737ff9baff9">03622</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a3976dba7137c71a2a1a34737ff9baff9">QCPAxis::setAxisType</a>(<a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18a">AxisType</a> type)
<a name="l03623"></a>03623 {
<a name="l03624"></a>03624   <a class="code" href="class_q_c_p_axis.html#ae704bf9f2c2b026f08dd4ccad79c616e">mAxisType</a> = type;
<a name="l03625"></a>03625   <a class="code" href="class_q_c_p_axis.html#a048e1792fa86f4f86df55200b3f0be36">mOrientation</a> = (type == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f" title="Axis is horizontal and on the bottom side of the axis rect of the parent QCustomPlot.">atBottom</a> || type == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977" title="Axis is horizontal and on the top side of the axis rect of the parent QCustomPlot.">atTop</a>) ? Qt::Horizontal : Qt::Vertical;
<a name="l03626"></a>03626 }
<a name="l03627"></a>03627 
<a name="l03635"></a><a class="code" href="class_q_c_p_axis.html#a0188c6248366fc9f9ff816dceee986e0">03635</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a0188c6248366fc9f9ff816dceee986e0">QCPAxis::setAxisRect</a>(<span class="keyword">const</span> QRect &amp;rect)
<a name="l03636"></a>03636 {
<a name="l03637"></a>03637   <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a> = rect;
<a name="l03638"></a>03638 }
<a name="l03639"></a>03639 
<a name="l03653"></a><a class="code" href="class_q_c_p_axis.html#adb6c5c45bdf899ea221881dd3b43b406">03653</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#adb6c5c45bdf899ea221881dd3b43b406">QCPAxis::setScaleType</a>(<a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0">ScaleType</a> type)
<a name="l03654"></a>03654 {
<a name="l03655"></a>03655   <a class="code" href="class_q_c_p_axis.html#ad706039549cbbbec5fcb2baf7894e04d">mScaleType</a> = type;
<a name="l03656"></a>03656   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ad706039549cbbbec5fcb2baf7894e04d">mScaleType</a> == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0abf5b785ad976618816dc6f79b73216d4" title="Logarithmic scaling with correspondingly transformed plots and (major) tick marks at every base power...">stLogarithmic</a>)
<a name="l03657"></a>03657     <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a> = <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aaf6a9046e78d91eeb8e89584fe46b034">sanitizedForLogScale</a>();
<a name="l03658"></a>03658 }
<a name="l03659"></a>03659 
<a name="l03667"></a><a class="code" href="class_q_c_p_axis.html#a726186054be90487885a748aa1b42188">03667</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a726186054be90487885a748aa1b42188">QCPAxis::setScaleLogBase</a>(<span class="keywordtype">double</span> base)
<a name="l03668"></a>03668 {
<a name="l03669"></a>03669   <span class="keywordflow">if</span> (base &gt; 1)
<a name="l03670"></a>03670   {
<a name="l03671"></a>03671     <a class="code" href="class_q_c_p_axis.html#abc727ddb4af745151755d1b5e60d03c3">mScaleLogBase</a> = base;
<a name="l03672"></a>03672     <a class="code" href="class_q_c_p_axis.html#a93e068984b475467929e7f6768754227">mScaleLogBaseLogInv</a> = 1.0/qLn(<a class="code" href="class_q_c_p_axis.html#abc727ddb4af745151755d1b5e60d03c3">mScaleLogBase</a>); <span class="comment">// buffer for faster baseLog() calculation</span>
<a name="l03673"></a>03673   } <span class="keywordflow">else</span>
<a name="l03674"></a>03674     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;Invalid logarithmic scale base (must be greater 1):&quot;</span> &lt;&lt; base;
<a name="l03675"></a>03675 }
<a name="l03676"></a>03676 
<a name="l03685"></a><a class="code" href="class_q_c_p_axis.html#aebdfea5d44c3a0ad2b4700cd4d25b641">03685</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a57d6ee9e9009fe88cb19db476ec70bca">QCPAxis::setRange</a>(<span class="keyword">const</span> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> &amp;range)
<a name="l03686"></a>03686 {
<a name="l03687"></a>03687   <span class="keywordflow">if</span> (range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> == <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> &amp;&amp; range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> == <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>)
<a name="l03688"></a>03688     <span class="keywordflow">return</span>;
<a name="l03689"></a>03689   
<a name="l03690"></a>03690   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_range.html#ab38bd4841c77c7bb86c9eea0f142dcc0">QCPRange::validRange</a>(range)) <span class="keywordflow">return</span>;
<a name="l03691"></a>03691   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ad706039549cbbbec5fcb2baf7894e04d">mScaleType</a> == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0abf5b785ad976618816dc6f79b73216d4" title="Logarithmic scaling with correspondingly transformed plots and (major) tick marks at every base power...">stLogarithmic</a>)
<a name="l03692"></a>03692   {
<a name="l03693"></a>03693     <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a> = range.<a class="code" href="class_q_c_p_range.html#aaf6a9046e78d91eeb8e89584fe46b034">sanitizedForLogScale</a>();
<a name="l03694"></a>03694   } <span class="keywordflow">else</span>
<a name="l03695"></a>03695   {
<a name="l03696"></a>03696     <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a> = range.<a class="code" href="class_q_c_p_range.html#a1ff029704c29a75adbc1dc36cecaf44c">sanitizedForLinScale</a>();
<a name="l03697"></a>03697   }
<a name="l03698"></a>03698   emit <a class="code" href="class_q_c_p_axis.html#a0894084e4c16a1736534c4095746f910">rangeChanged</a>(<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>);
<a name="l03699"></a>03699 }
<a name="l03700"></a>03700 
<a name="l03711"></a><a class="code" href="class_q_c_p_axis.html#afa988209bf6519f63d6ef2e615dbe1ea">03711</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#afa988209bf6519f63d6ef2e615dbe1ea">QCPAxis::setSelectable</a>(<span class="keyword">const</span> SelectableParts &amp;selectable)
<a name="l03712"></a>03712 {
<a name="l03713"></a>03713   <a class="code" href="class_q_c_p_axis.html#a36b9786f4fce4edc74ee5ca293ee41d3">mSelectable</a> = <a class="code" href="class_q_c_p_axis.html#a4e83e383fb5fbd9cf3759fab68f79aa6">selectable</a>;
<a name="l03714"></a>03714 }
<a name="l03715"></a>03715 
<a name="l03732"></a><a class="code" href="class_q_c_p_axis.html#a24c13908da2f8d629b1bbbe9cbd63e39">03732</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a24c13908da2f8d629b1bbbe9cbd63e39">QCPAxis::setSelected</a>(<span class="keyword">const</span> SelectableParts &amp;selected)
<a name="l03733"></a>03733 {
<a name="l03734"></a>03734   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a08e1b62c634d80157f585206ebc30e37">mSelected</a> != selected)
<a name="l03735"></a>03735   {
<a name="l03736"></a>03736     <a class="code" href="class_q_c_p_axis.html#a08e1b62c634d80157f585206ebc30e37">mSelected</a> = <a class="code" href="class_q_c_p_axis.html#a534509949b91a6aa08e38cca48b62c9e">selected</a>;
<a name="l03737"></a>03737     emit <a class="code" href="class_q_c_p_axis.html#aece2d803d07dba9dc2ea96fcad186e34">selectionChanged</a>(<a class="code" href="class_q_c_p_axis.html#a08e1b62c634d80157f585206ebc30e37">mSelected</a>);
<a name="l03738"></a>03738   }
<a name="l03739"></a>03739 }
<a name="l03740"></a>03740 
<a name="l03749"></a><a class="code" href="class_q_c_p_axis.html#a57d6ee9e9009fe88cb19db476ec70bca">03749</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a57d6ee9e9009fe88cb19db476ec70bca">QCPAxis::setRange</a>(<span class="keywordtype">double</span> lower, <span class="keywordtype">double</span> upper)
<a name="l03750"></a>03750 {
<a name="l03751"></a>03751   <span class="keywordflow">if</span> (lower == <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> &amp;&amp; upper == <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>)
<a name="l03752"></a>03752     <span class="keywordflow">return</span>;
<a name="l03753"></a>03753   
<a name="l03754"></a>03754   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_range.html#ab38bd4841c77c7bb86c9eea0f142dcc0">QCPRange::validRange</a>(lower, upper)) <span class="keywordflow">return</span>;
<a name="l03755"></a>03755   <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = lower;
<a name="l03756"></a>03756   <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = upper;
<a name="l03757"></a>03757   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ad706039549cbbbec5fcb2baf7894e04d">mScaleType</a> == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0abf5b785ad976618816dc6f79b73216d4" title="Logarithmic scaling with correspondingly transformed plots and (major) tick marks at every base power...">stLogarithmic</a>)
<a name="l03758"></a>03758   {
<a name="l03759"></a>03759     <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a> = <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aaf6a9046e78d91eeb8e89584fe46b034">sanitizedForLogScale</a>();
<a name="l03760"></a>03760   } <span class="keywordflow">else</span>
<a name="l03761"></a>03761   {
<a name="l03762"></a>03762     <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a> = <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#a1ff029704c29a75adbc1dc36cecaf44c">sanitizedForLinScale</a>();
<a name="l03763"></a>03763   }
<a name="l03764"></a>03764   emit <a class="code" href="class_q_c_p_axis.html#a0894084e4c16a1736534c4095746f910">rangeChanged</a>(<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>);
<a name="l03765"></a>03765 }
<a name="l03766"></a>03766 
<a name="l03780"></a><a class="code" href="class_q_c_p_axis.html#acf60e5b2d631fbc8c4548c3d579cb6d0">03780</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a57d6ee9e9009fe88cb19db476ec70bca">QCPAxis::setRange</a>(<span class="keywordtype">double</span> position, <span class="keywordtype">double</span> size, Qt::AlignmentFlag alignment)
<a name="l03781"></a>03781 {
<a name="l03782"></a>03782   <span class="keywordflow">if</span> (alignment == Qt::AlignLeft)
<a name="l03783"></a>03783     <a class="code" href="class_q_c_p_axis.html#a57d6ee9e9009fe88cb19db476ec70bca">setRange</a>(position, position+size);
<a name="l03784"></a>03784   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (alignment == Qt::AlignRight)
<a name="l03785"></a>03785     <a class="code" href="class_q_c_p_axis.html#a57d6ee9e9009fe88cb19db476ec70bca">setRange</a>(position-size, position);
<a name="l03786"></a>03786   <span class="keywordflow">else</span> <span class="comment">// alignment == Qt::AlignCenter</span>
<a name="l03787"></a>03787     <a class="code" href="class_q_c_p_axis.html#a57d6ee9e9009fe88cb19db476ec70bca">setRange</a>(position-size/2.0, position+size/2.0);
<a name="l03788"></a>03788 }
<a name="l03789"></a>03789 
<a name="l03794"></a><a class="code" href="class_q_c_p_axis.html#afcf51227d337db28d1a9ce9a4d1bc91a">03794</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#afcf51227d337db28d1a9ce9a4d1bc91a">QCPAxis::setRangeLower</a>(<span class="keywordtype">double</span> lower)
<a name="l03795"></a>03795 {
<a name="l03796"></a>03796   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> == lower)
<a name="l03797"></a>03797     <span class="keywordflow">return</span>;
<a name="l03798"></a>03798   
<a name="l03799"></a>03799   <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = lower;
<a name="l03800"></a>03800   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ad706039549cbbbec5fcb2baf7894e04d">mScaleType</a> == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0abf5b785ad976618816dc6f79b73216d4" title="Logarithmic scaling with correspondingly transformed plots and (major) tick marks at every base power...">stLogarithmic</a>)
<a name="l03801"></a>03801   {
<a name="l03802"></a>03802     <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a> = <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aaf6a9046e78d91eeb8e89584fe46b034">sanitizedForLogScale</a>();
<a name="l03803"></a>03803   } <span class="keywordflow">else</span>
<a name="l03804"></a>03804   {
<a name="l03805"></a>03805     <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a> = <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#a1ff029704c29a75adbc1dc36cecaf44c">sanitizedForLinScale</a>();
<a name="l03806"></a>03806   }
<a name="l03807"></a>03807   emit <a class="code" href="class_q_c_p_axis.html#a0894084e4c16a1736534c4095746f910">rangeChanged</a>(<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>);
<a name="l03808"></a>03808 }
<a name="l03809"></a>03809 
<a name="l03814"></a><a class="code" href="class_q_c_p_axis.html#acd3ca1247aa867b540cd5ec30ccd3bef">03814</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#acd3ca1247aa867b540cd5ec30ccd3bef">QCPAxis::setRangeUpper</a>(<span class="keywordtype">double</span> upper)
<a name="l03815"></a>03815 {
<a name="l03816"></a>03816   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> == upper)
<a name="l03817"></a>03817     <span class="keywordflow">return</span>;
<a name="l03818"></a>03818   
<a name="l03819"></a>03819   <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = upper;
<a name="l03820"></a>03820   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ad706039549cbbbec5fcb2baf7894e04d">mScaleType</a> == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0abf5b785ad976618816dc6f79b73216d4" title="Logarithmic scaling with correspondingly transformed plots and (major) tick marks at every base power...">stLogarithmic</a>)
<a name="l03821"></a>03821   {
<a name="l03822"></a>03822     <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a> = <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aaf6a9046e78d91eeb8e89584fe46b034">sanitizedForLogScale</a>();
<a name="l03823"></a>03823   } <span class="keywordflow">else</span>
<a name="l03824"></a>03824   {
<a name="l03825"></a>03825     <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a> = <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#a1ff029704c29a75adbc1dc36cecaf44c">sanitizedForLinScale</a>();
<a name="l03826"></a>03826   }
<a name="l03827"></a>03827   emit <a class="code" href="class_q_c_p_axis.html#a0894084e4c16a1736534c4095746f910">rangeChanged</a>(<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>);
<a name="l03828"></a>03828 }
<a name="l03829"></a>03829 
<a name="l03837"></a><a class="code" href="class_q_c_p_axis.html#a2172fdb196b1a0dc3f40992fcad8e9e1">03837</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a2172fdb196b1a0dc3f40992fcad8e9e1">QCPAxis::setRangeReversed</a>(<span class="keywordtype">bool</span> reversed)
<a name="l03838"></a>03838 {
<a name="l03839"></a>03839   <a class="code" href="class_q_c_p_axis.html#a5cb034f57aa3d773a9ca55a0931dbf7b">mRangeReversed</a> = reversed;
<a name="l03840"></a>03840 }
<a name="l03841"></a>03841 
<a name="l03848"></a><a class="code" href="class_q_c_p_axis.html#a874fbc9e4586d60c1d095e3a89dea949">03848</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a874fbc9e4586d60c1d095e3a89dea949">QCPAxis::setAntialiasedGrid</a>(<span class="keywordtype">bool</span> enabled)
<a name="l03849"></a>03849 {
<a name="l03850"></a>03850   <a class="code" href="class_q_c_p_axis.html#a17bffb94aaa40311f259c6ac7bcb5d5f">mGrid</a>-&gt;<a class="code" href="class_q_c_p_layerable.html#a4fd43e89be4a553ead41652565ff0581">setAntialiased</a>(enabled);
<a name="l03851"></a>03851 }
<a name="l03852"></a>03852 
<a name="l03859"></a><a class="code" href="class_q_c_p_axis.html#abaabf77feec4457ba045f6f5aaa002d5">03859</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#abaabf77feec4457ba045f6f5aaa002d5">QCPAxis::setAntialiasedSubGrid</a>(<span class="keywordtype">bool</span> enabled)
<a name="l03860"></a>03860 {
<a name="l03861"></a>03861   <a class="code" href="class_q_c_p_axis.html#a17bffb94aaa40311f259c6ac7bcb5d5f">mGrid</a>-&gt;<a class="code" href="class_q_c_p_grid.html#a5692310ba183721a413d60951407d114">setAntialiasedSubGrid</a>(enabled);
<a name="l03862"></a>03862 }
<a name="l03863"></a>03863 
<a name="l03870"></a><a class="code" href="class_q_c_p_axis.html#a73f4801569aaccb65d545530d77f5e8f">03870</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a73f4801569aaccb65d545530d77f5e8f">QCPAxis::setAntialiasedZeroLine</a>(<span class="keywordtype">bool</span> enabled)
<a name="l03871"></a>03871 {
<a name="l03872"></a>03872   <a class="code" href="class_q_c_p_axis.html#a17bffb94aaa40311f259c6ac7bcb5d5f">mGrid</a>-&gt;<a class="code" href="class_q_c_p_grid.html#a3cc6d54647393ee71afb6da56af07aa4">setAntialiasedZeroLine</a>(enabled);
<a name="l03873"></a>03873 }
<a name="l03874"></a>03874 
<a name="l03879"></a><a class="code" href="class_q_c_p_axis.html#a8d6d2bec40205fd3ca07cb1394663521">03879</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a8d6d2bec40205fd3ca07cb1394663521">QCPAxis::setGrid</a>(<span class="keywordtype">bool</span> show)
<a name="l03880"></a>03880 {
<a name="l03881"></a>03881   <a class="code" href="class_q_c_p_axis.html#a17bffb94aaa40311f259c6ac7bcb5d5f">mGrid</a>-&gt;<a class="code" href="class_q_c_p_layerable.html#a3bed99ddc396b48ce3ebfdc0418744f8">setVisible</a>(show);
<a name="l03882"></a>03882 }
<a name="l03883"></a>03883 
<a name="l03888"></a><a class="code" href="class_q_c_p_axis.html#a7e5a64eaf71c64cadb790c5ce58d4729">03888</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a7e5a64eaf71c64cadb790c5ce58d4729">QCPAxis::setSubGrid</a>(<span class="keywordtype">bool</span> show)
<a name="l03889"></a>03889 {
<a name="l03890"></a>03890   <a class="code" href="class_q_c_p_axis.html#a17bffb94aaa40311f259c6ac7bcb5d5f">mGrid</a>-&gt;<a class="code" href="class_q_c_p_grid.html#ad4ad6bf714ec45e08845456355a1b700">setSubGridVisible</a>(show);
<a name="l03891"></a>03891 }
<a name="l03892"></a>03892 
<a name="l03905"></a><a class="code" href="class_q_c_p_axis.html#ae867c23d3a6a7bd4d09cc66c5d018f63">03905</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#ae867c23d3a6a7bd4d09cc66c5d018f63">QCPAxis::setAutoTicks</a>(<span class="keywordtype">bool</span> on)
<a name="l03906"></a>03906 {
<a name="l03907"></a>03907   <a class="code" href="class_q_c_p_axis.html#aac23adcbae246bf165d4539ad65ac9f9">mAutoTicks</a> = on;
<a name="l03908"></a>03908 }
<a name="l03909"></a>03909 
<a name="l03914"></a><a class="code" href="class_q_c_p_axis.html#a7c7111cbeac9ec5fcb40f93a1ef51a0b">03914</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a7c7111cbeac9ec5fcb40f93a1ef51a0b">QCPAxis::setAutoTickCount</a>(<span class="keywordtype">int</span> approximateCount)
<a name="l03915"></a>03915 {
<a name="l03916"></a>03916   <a class="code" href="class_q_c_p_axis.html#a499fbb67111e4b204738f6c1aa28d842">mAutoTickCount</a> = approximateCount;
<a name="l03917"></a>03917 }
<a name="l03918"></a>03918 
<a name="l03931"></a><a class="code" href="class_q_c_p_axis.html#aaa47e3a6bac0c20d4beb9028f01bc1a1">03931</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#aaa47e3a6bac0c20d4beb9028f01bc1a1">QCPAxis::setAutoTickLabels</a>(<span class="keywordtype">bool</span> on)
<a name="l03932"></a>03932 {
<a name="l03933"></a>03933   <a class="code" href="class_q_c_p_axis.html#a721e496b342f272078c5ff84564e472f">mAutoTickLabels</a> = on;
<a name="l03934"></a>03934 }
<a name="l03935"></a>03935 
<a name="l03946"></a><a class="code" href="class_q_c_p_axis.html#a99fe77b034e06f5b723995beab96e741">03946</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a99fe77b034e06f5b723995beab96e741">QCPAxis::setAutoTickStep</a>(<span class="keywordtype">bool</span> on)
<a name="l03947"></a>03947 {
<a name="l03948"></a>03948   <a class="code" href="class_q_c_p_axis.html#aada8934a5c44978653031782aa37d101">mAutoTickStep</a> = on;
<a name="l03949"></a>03949 }
<a name="l03950"></a>03950 
<a name="l03957"></a><a class="code" href="class_q_c_p_axis.html#adcbdec7a60054b88571e89599f4a45bf">03957</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#adcbdec7a60054b88571e89599f4a45bf">QCPAxis::setAutoSubTicks</a>(<span class="keywordtype">bool</span> on)
<a name="l03958"></a>03958 {
<a name="l03959"></a>03959   <a class="code" href="class_q_c_p_axis.html#aaae980b0d193d959674e314dbb6c2c3b">mAutoSubTicks</a> = on;
<a name="l03960"></a>03960 }
<a name="l03961"></a>03961 
<a name="l03966"></a><a class="code" href="class_q_c_p_axis.html#ac891409315bc379e3b1abdb162c1a011">03966</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#ac891409315bc379e3b1abdb162c1a011">QCPAxis::setTicks</a>(<span class="keywordtype">bool</span> show)
<a name="l03967"></a>03967 {
<a name="l03968"></a>03968   <a class="code" href="class_q_c_p_axis.html#ab111e74bba22e06848897c932fc549fe">mTicks</a> = show;
<a name="l03969"></a>03969 }
<a name="l03970"></a>03970 
<a name="l03974"></a><a class="code" href="class_q_c_p_axis.html#a04ba16e1f6f78d70f938519576ed32c8">03974</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a04ba16e1f6f78d70f938519576ed32c8">QCPAxis::setTickLabels</a>(<span class="keywordtype">bool</span> show)
<a name="l03975"></a>03975 {
<a name="l03976"></a>03976   <a class="code" href="class_q_c_p_axis.html#a3e4315be072026644e69009557a2fa11">mTickLabels</a> = show;
<a name="l03977"></a>03977 }
<a name="l03978"></a>03978 
<a name="l03983"></a><a class="code" href="class_q_c_p_axis.html#af302c479af9dbc2e9f0e44e07c0012ee">03983</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#af302c479af9dbc2e9f0e44e07c0012ee">QCPAxis::setTickLabelPadding</a>(<span class="keywordtype">int</span> padding)
<a name="l03984"></a>03984 {
<a name="l03985"></a>03985   <a class="code" href="class_q_c_p_axis.html#ab3f2f5d923c83d952922149d0d1e2eb1">mTickLabelPadding</a> = <a class="code" href="class_q_c_p_axis.html#abb85015a9467ec176e70698307ec833a">padding</a>;
<a name="l03986"></a>03986 }
<a name="l03987"></a>03987 
<a name="l03998"></a><a class="code" href="class_q_c_p_axis.html#a54f24f5ce8feea25209388a863d7e448">03998</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a54f24f5ce8feea25209388a863d7e448">QCPAxis::setTickLabelType</a>(<a class="code" href="class_q_c_p_axis.html#a4a7da0166f755f5abac23b765d184cad">LabelType</a> type)
<a name="l03999"></a>03999 {
<a name="l04000"></a>04000   <a class="code" href="class_q_c_p_axis.html#a6e056c1cb1aab0eddebfebbcb78c8f90">mTickLabelType</a> = type;
<a name="l04001"></a>04001 }
<a name="l04002"></a>04002 
<a name="l04008"></a><a class="code" href="class_q_c_p_axis.html#a2b8690c4e8dbc39d9185d2b398ce7a6c">04008</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a2b8690c4e8dbc39d9185d2b398ce7a6c">QCPAxis::setTickLabelFont</a>(<span class="keyword">const</span> QFont &amp;font)
<a name="l04009"></a>04009 {
<a name="l04010"></a>04010   <a class="code" href="class_q_c_p_axis.html#add79d1e39c4ed65869a1e9cc79043f3f">mTickLabelFont</a> = font;
<a name="l04011"></a>04011 }
<a name="l04012"></a>04012 
<a name="l04018"></a><a class="code" href="class_q_c_p_axis.html#a395e445c3fe496b935bee7b911ecfd1c">04018</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a395e445c3fe496b935bee7b911ecfd1c">QCPAxis::setTickLabelColor</a>(<span class="keyword">const</span> QColor &amp;color)
<a name="l04019"></a>04019 {
<a name="l04020"></a>04020   <a class="code" href="class_q_c_p_axis.html#a6384a749b3b56a97df081d8082321ab4">mTickLabelColor</a> = color;
<a name="l04021"></a>04021 }
<a name="l04022"></a>04022 
<a name="l04028"></a><a class="code" href="class_q_c_p_axis.html#a1bddd4413df8a576b7ad4b067fb33375">04028</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a1bddd4413df8a576b7ad4b067fb33375">QCPAxis::setTickLabelRotation</a>(<span class="keywordtype">double</span> degrees)
<a name="l04029"></a>04029 {
<a name="l04030"></a>04030   <a class="code" href="class_q_c_p_axis.html#a47660c8694884cdb87495bf8b4c8a3b9">mTickLabelRotation</a> = qBound(-90.0, degrees, 90.0);
<a name="l04031"></a>04031 }
<a name="l04032"></a>04032 
<a name="l04038"></a><a class="code" href="class_q_c_p_axis.html#a2ee0191daa03524a682113e63e05f7a7">04038</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a2ee0191daa03524a682113e63e05f7a7">QCPAxis::setDateTimeFormat</a>(<span class="keyword">const</span> QString &amp;format)
<a name="l04039"></a>04039 {
<a name="l04040"></a>04040   <a class="code" href="class_q_c_p_axis.html#a0b7ad83550d71daab4cfee2918e168e0">mDateTimeFormat</a> = format;
<a name="l04041"></a>04041 }
<a name="l04042"></a>04042 
<a name="l04079"></a><a class="code" href="class_q_c_p_axis.html#ae585a54dc2aac662e90a2ca82f002590">04079</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#ae585a54dc2aac662e90a2ca82f002590">QCPAxis::setNumberFormat</a>(<span class="keyword">const</span> QString &amp;formatCode)
<a name="l04080"></a>04080 {
<a name="l04081"></a>04081   <span class="keywordflow">if</span> (formatCode.length() &lt; 1) <span class="keywordflow">return</span>;
<a name="l04082"></a>04082   
<a name="l04083"></a>04083   <span class="comment">// interpret first char as number format char:</span>
<a name="l04084"></a>04084   QString allowedFormatChars = <span class="stringliteral">&quot;eEfgG&quot;</span>;
<a name="l04085"></a>04085   <span class="keywordflow">if</span> (allowedFormatChars.contains(formatCode.at(0)))
<a name="l04086"></a>04086   {
<a name="l04087"></a>04087     <a class="code" href="class_q_c_p_axis.html#a600d56365316ea783927f7d595f1ed54">mNumberFormatChar</a> = formatCode.at(0).toAscii();
<a name="l04088"></a>04088   } <span class="keywordflow">else</span>
<a name="l04089"></a>04089   {
<a name="l04090"></a>04090     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;Invalid number format code (first char not in &#39;eEfgG&#39;):&quot;</span> &lt;&lt; formatCode;
<a name="l04091"></a>04091     <span class="keywordflow">return</span>;
<a name="l04092"></a>04092   }
<a name="l04093"></a>04093   <span class="keywordflow">if</span> (formatCode.length() &lt; 2)
<a name="l04094"></a>04094   {
<a name="l04095"></a>04095     <a class="code" href="class_q_c_p_axis.html#af03809bee3f3e35fcc38d25b6dd5003b">mNumberBeautifulPowers</a> = <span class="keyword">false</span>;
<a name="l04096"></a>04096     <a class="code" href="class_q_c_p_axis.html#aebf0367d8645d2e05b93a0952b7e805b">mNumberMultiplyCross</a> = <span class="keyword">false</span>;
<a name="l04097"></a>04097     <span class="keywordflow">return</span>;
<a name="l04098"></a>04098   }
<a name="l04099"></a>04099   
<a name="l04100"></a>04100   <span class="comment">// interpret second char as indicator for beautiful decimal powers:</span>
<a name="l04101"></a>04101   <span class="keywordflow">if</span> (formatCode.at(1) == <span class="charliteral">&#39;b&#39;</span> &amp;&amp; (<a class="code" href="class_q_c_p_axis.html#a600d56365316ea783927f7d595f1ed54">mNumberFormatChar</a> == <span class="charliteral">&#39;e&#39;</span> || <a class="code" href="class_q_c_p_axis.html#a600d56365316ea783927f7d595f1ed54">mNumberFormatChar</a> == <span class="charliteral">&#39;g&#39;</span>))
<a name="l04102"></a>04102   {
<a name="l04103"></a>04103     <a class="code" href="class_q_c_p_axis.html#af03809bee3f3e35fcc38d25b6dd5003b">mNumberBeautifulPowers</a> = <span class="keyword">true</span>;
<a name="l04104"></a>04104   } <span class="keywordflow">else</span>
<a name="l04105"></a>04105   {
<a name="l04106"></a>04106     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;Invalid number format code (second char not &#39;b&#39; or first char neither &#39;e&#39; nor &#39;g&#39;):&quot;</span> &lt;&lt; formatCode;
<a name="l04107"></a>04107     <span class="keywordflow">return</span>;
<a name="l04108"></a>04108   }
<a name="l04109"></a>04109   <span class="keywordflow">if</span> (formatCode.length() &lt; 3)
<a name="l04110"></a>04110   {
<a name="l04111"></a>04111     <a class="code" href="class_q_c_p_axis.html#aebf0367d8645d2e05b93a0952b7e805b">mNumberMultiplyCross</a> = <span class="keyword">false</span>;
<a name="l04112"></a>04112     <span class="keywordflow">return</span>;
<a name="l04113"></a>04113   }
<a name="l04114"></a>04114   
<a name="l04115"></a>04115   <span class="comment">// interpret third char as indicator for dot or cross multiplication symbol:</span>
<a name="l04116"></a>04116   <span class="keywordflow">if</span> (formatCode.at(2) == <span class="charliteral">&#39;c&#39;</span>)
<a name="l04117"></a>04117   {
<a name="l04118"></a>04118     <a class="code" href="class_q_c_p_axis.html#aebf0367d8645d2e05b93a0952b7e805b">mNumberMultiplyCross</a> = <span class="keyword">true</span>;
<a name="l04119"></a>04119   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (formatCode.at(2) == <span class="charliteral">&#39;d&#39;</span>)
<a name="l04120"></a>04120   {
<a name="l04121"></a>04121     <a class="code" href="class_q_c_p_axis.html#aebf0367d8645d2e05b93a0952b7e805b">mNumberMultiplyCross</a> = <span class="keyword">false</span>;
<a name="l04122"></a>04122   } <span class="keywordflow">else</span>
<a name="l04123"></a>04123   {
<a name="l04124"></a>04124     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;Invalid number format code (third char neither &#39;c&#39; nor &#39;d&#39;):&quot;</span> &lt;&lt; formatCode;
<a name="l04125"></a>04125     <span class="keywordflow">return</span>;
<a name="l04126"></a>04126   }
<a name="l04127"></a>04127 }
<a name="l04128"></a>04128 
<a name="l04140"></a><a class="code" href="class_q_c_p_axis.html#a21dc8023ad7500382ad9574b48137e63">04140</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a21dc8023ad7500382ad9574b48137e63">QCPAxis::setNumberPrecision</a>(<span class="keywordtype">int</span> precision)
<a name="l04141"></a>04141 {
<a name="l04142"></a>04142   <a class="code" href="class_q_c_p_axis.html#acd76e8c783384d99ccc4a13797eec188">mNumberPrecision</a> = precision;
<a name="l04143"></a>04143 }
<a name="l04144"></a>04144 
<a name="l04150"></a><a class="code" href="class_q_c_p_axis.html#af727db0acc6492c4c774c0700e738205">04150</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#af727db0acc6492c4c774c0700e738205">QCPAxis::setTickStep</a>(<span class="keywordtype">double</span> step)
<a name="l04151"></a>04151 {
<a name="l04152"></a>04152   <a class="code" href="class_q_c_p_axis.html#a4fe96830fc5a2711e20fe5edccfe2ed3">mTickStep</a> = step;
<a name="l04153"></a>04153 }
<a name="l04154"></a>04154 
<a name="l04167"></a><a class="code" href="class_q_c_p_axis.html#a871db94c5d796c80fcbe1a9d4506e27e">04167</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a871db94c5d796c80fcbe1a9d4506e27e">QCPAxis::setTickVector</a>(<span class="keyword">const</span> QVector&lt;double&gt; &amp;vec)
<a name="l04168"></a>04168 {
<a name="l04169"></a>04169   <a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a> = vec;
<a name="l04170"></a>04170 }
<a name="l04171"></a>04171 
<a name="l04182"></a><a class="code" href="class_q_c_p_axis.html#a921d3ba3853ca3bd2cce3459f7a243ed">04182</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a921d3ba3853ca3bd2cce3459f7a243ed">QCPAxis::setTickVectorLabels</a>(<span class="keyword">const</span> QVector&lt;QString&gt; &amp;vec)
<a name="l04183"></a>04183 {
<a name="l04184"></a>04184   <a class="code" href="class_q_c_p_axis.html#aeee4bd0fca3f587eafe33843d1cb4f82">mTickVectorLabels</a> = vec;
<a name="l04185"></a>04185 }
<a name="l04186"></a>04186 
<a name="l04194"></a><a class="code" href="class_q_c_p_axis.html#a62ec40bebe3540e9c1479a8fd2be3b0d">04194</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a62ec40bebe3540e9c1479a8fd2be3b0d">QCPAxis::setTickLength</a>(<span class="keywordtype">int</span> inside, <span class="keywordtype">int</span> outside)
<a name="l04195"></a>04195 {
<a name="l04196"></a>04196   <a class="code" href="class_q_c_p_axis.html#aea36f29c70d611b4486ebb3a8897c7cd">mTickLengthIn</a> = inside;
<a name="l04197"></a>04197   <a class="code" href="class_q_c_p_axis.html#a2951f26d8a504d330157e05063513809">mTickLengthOut</a> = outside;
<a name="l04198"></a>04198 }
<a name="l04199"></a>04199 
<a name="l04209"></a><a class="code" href="class_q_c_p_axis.html#a4b1554ead9d7f9799650d51383e326dd">04209</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a4b1554ead9d7f9799650d51383e326dd">QCPAxis::setSubTickCount</a>(<span class="keywordtype">int</span> count)
<a name="l04210"></a>04210 {
<a name="l04211"></a>04211   <a class="code" href="class_q_c_p_axis.html#ad70198e6ae2801fc409bc3caec707da9">mSubTickCount</a> = count;
<a name="l04212"></a>04212 }
<a name="l04213"></a>04213 
<a name="l04221"></a><a class="code" href="class_q_c_p_axis.html#ab702d6fd42fc620607435339a1c2a2e1">04221</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#ab702d6fd42fc620607435339a1c2a2e1">QCPAxis::setSubTickLength</a>(<span class="keywordtype">int</span> inside, <span class="keywordtype">int</span> outside)
<a name="l04222"></a>04222 {
<a name="l04223"></a>04223   <a class="code" href="class_q_c_p_axis.html#a6c1400cfa6fb129a6686797fb5ca0307">mSubTickLengthIn</a> = inside;
<a name="l04224"></a>04224   <a class="code" href="class_q_c_p_axis.html#ae0342609ad543c2667673d75b43d9dbb">mSubTickLengthOut</a> = outside;
<a name="l04225"></a>04225 }
<a name="l04226"></a>04226 
<a name="l04232"></a><a class="code" href="class_q_c_p_axis.html#a778d45fb71b3c7ab3bb7079e18b058e4">04232</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a778d45fb71b3c7ab3bb7079e18b058e4">QCPAxis::setBasePen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l04233"></a>04233 {
<a name="l04234"></a>04234   <a class="code" href="class_q_c_p_axis.html#ad6b4a0aee9558fb35529e960b8fef72d">mBasePen</a> = pen;
<a name="l04235"></a>04235 }
<a name="l04236"></a>04236 
<a name="l04241"></a><a class="code" href="class_q_c_p_axis.html#a70ca642125280be510dc3c2745560591">04241</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a70ca642125280be510dc3c2745560591">QCPAxis::setGridPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l04242"></a>04242 {
<a name="l04243"></a>04243   <a class="code" href="class_q_c_p_axis.html#a17bffb94aaa40311f259c6ac7bcb5d5f">mGrid</a>-&gt;<a class="code" href="class_q_c_p_grid.html#aa05ab9816ffb440908171e45e833b593">setPen</a>(pen);
<a name="l04244"></a>04244 }
<a name="l04245"></a>04245 
<a name="l04251"></a><a class="code" href="class_q_c_p_axis.html#ad773fa7071b129ef6fa50431ce47816e">04251</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#ad773fa7071b129ef6fa50431ce47816e">QCPAxis::setSubGridPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l04252"></a>04252 {
<a name="l04253"></a>04253   <a class="code" href="class_q_c_p_axis.html#a17bffb94aaa40311f259c6ac7bcb5d5f">mGrid</a>-&gt;<a class="code" href="class_q_c_p_grid.html#a9edd3593f384d1f0b0202a39cef4453d">setSubGridPen</a>(pen);
<a name="l04254"></a>04254 }
<a name="l04255"></a>04255 
<a name="l04263"></a><a class="code" href="class_q_c_p_axis.html#a533e5aa7fb4981ebc3db761d1e0e38d1">04263</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a533e5aa7fb4981ebc3db761d1e0e38d1">QCPAxis::setZeroLinePen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l04264"></a>04264 {
<a name="l04265"></a>04265   <a class="code" href="class_q_c_p_axis.html#a17bffb94aaa40311f259c6ac7bcb5d5f">mGrid</a>-&gt;<a class="code" href="class_q_c_p_grid.html#a209f40fdb252397b418b82d3494d8ea0">setZeroLinePen</a>(pen);
<a name="l04266"></a>04266 }
<a name="l04267"></a>04267 
<a name="l04272"></a><a class="code" href="class_q_c_p_axis.html#ad80923bcc1c5da4c4db602c5325e797e">04272</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#ad80923bcc1c5da4c4db602c5325e797e">QCPAxis::setTickPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l04273"></a>04273 {
<a name="l04274"></a>04274   <a class="code" href="class_q_c_p_axis.html#a1d52c78c856d8bd1f331d4ec4e63d944">mTickPen</a> = pen;
<a name="l04275"></a>04275 }
<a name="l04276"></a>04276 
<a name="l04281"></a><a class="code" href="class_q_c_p_axis.html#aede4028ae7516bd51a60618a8233f9cf">04281</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#aede4028ae7516bd51a60618a8233f9cf">QCPAxis::setSubTickPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l04282"></a>04282 {
<a name="l04283"></a>04283   <a class="code" href="class_q_c_p_axis.html#a32ef56d3a417866720eb12667d27dbd1">mSubTickPen</a> = pen;
<a name="l04284"></a>04284 }
<a name="l04285"></a>04285 
<a name="l04291"></a><a class="code" href="class_q_c_p_axis.html#a71ac1a47f7547e490a8c4311d1433cf3">04291</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a71ac1a47f7547e490a8c4311d1433cf3">QCPAxis::setLabelFont</a>(<span class="keyword">const</span> QFont &amp;font)
<a name="l04292"></a>04292 {
<a name="l04293"></a>04293   <a class="code" href="class_q_c_p_axis.html#a37442d470e30e19b81ecaf979a34d046">mLabelFont</a> = font;
<a name="l04294"></a>04294 }
<a name="l04295"></a>04295 
<a name="l04301"></a><a class="code" href="class_q_c_p_axis.html#a6c906fe56d75f0122335b9f79b999608">04301</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a6c906fe56d75f0122335b9f79b999608">QCPAxis::setLabelColor</a>(<span class="keyword">const</span> QColor &amp;color)
<a name="l04302"></a>04302 {
<a name="l04303"></a>04303   <a class="code" href="class_q_c_p_axis.html#a457a003bb1c2b6ab73e5a173ba7558fd">mLabelColor</a> = color;
<a name="l04304"></a>04304 }
<a name="l04305"></a>04305 
<a name="l04309"></a><a class="code" href="class_q_c_p_axis.html#a33bcc382c111c9f31bb0687352a2dea4">04309</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a33bcc382c111c9f31bb0687352a2dea4">QCPAxis::setLabel</a>(<span class="keyword">const</span> QString &amp;str)
<a name="l04310"></a>04310 {
<a name="l04311"></a>04311   <a class="code" href="class_q_c_p_axis.html#ae8001dbdfc47685c1cf7b98b044460e6">mLabel</a> = str;
<a name="l04312"></a>04312 }
<a name="l04313"></a>04313 
<a name="l04318"></a><a class="code" href="class_q_c_p_axis.html#a4391192a766e5d20cfe5cbc17607a7a2">04318</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a4391192a766e5d20cfe5cbc17607a7a2">QCPAxis::setLabelPadding</a>(<span class="keywordtype">int</span> padding)
<a name="l04319"></a>04319 {
<a name="l04320"></a>04320   <a class="code" href="class_q_c_p_axis.html#ae392a7c1a88a58765a7ed899642d248a">mLabelPadding</a> = <a class="code" href="class_q_c_p_axis.html#abb85015a9467ec176e70698307ec833a">padding</a>;
<a name="l04321"></a>04321 }
<a name="l04322"></a>04322 
<a name="l04336"></a><a class="code" href="class_q_c_p_axis.html#a5691441cb3de9e9844855d339c0db279">04336</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a5691441cb3de9e9844855d339c0db279">QCPAxis::setPadding</a>(<span class="keywordtype">int</span> padding)
<a name="l04337"></a>04337 {
<a name="l04338"></a>04338   <a class="code" href="class_q_c_p_axis.html#a52a805a4f03231210e0880db7f77e098">mPadding</a> = <a class="code" href="class_q_c_p_axis.html#abb85015a9467ec176e70698307ec833a">padding</a>;
<a name="l04339"></a>04339 }
<a name="l04340"></a>04340 
<a name="l04346"></a><a class="code" href="class_q_c_p_axis.html#a845ccb560b7bc5281098a5be494145f6">04346</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a845ccb560b7bc5281098a5be494145f6">QCPAxis::setSelectedTickLabelFont</a>(<span class="keyword">const</span> QFont &amp;font)
<a name="l04347"></a>04347 {
<a name="l04348"></a>04348   <a class="code" href="class_q_c_p_axis.html#a4f2e4919da9615dac612662c249b1119">mSelectedTickLabelFont</a> = font;
<a name="l04349"></a>04349 }
<a name="l04350"></a>04350 
<a name="l04356"></a><a class="code" href="class_q_c_p_axis.html#a02ec2a75d4d8401eaab834fbc6803d30">04356</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a02ec2a75d4d8401eaab834fbc6803d30">QCPAxis::setSelectedLabelFont</a>(<span class="keyword">const</span> QFont &amp;font)
<a name="l04357"></a>04357 {
<a name="l04358"></a>04358   <a class="code" href="class_q_c_p_axis.html#ae48fe3489afadc0b3cd003233e2bf19f">mSelectedLabelFont</a> = font;
<a name="l04359"></a>04359 }
<a name="l04360"></a>04360 
<a name="l04366"></a><a class="code" href="class_q_c_p_axis.html#a9bdbf5e63ab15187f3a1de9440129227">04366</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a9bdbf5e63ab15187f3a1de9440129227">QCPAxis::setSelectedTickLabelColor</a>(<span class="keyword">const</span> QColor &amp;color)
<a name="l04367"></a>04367 {
<a name="l04368"></a>04368   <a class="code" href="class_q_c_p_axis.html#a3bcad40902f45dc4c991a2c3e4d31d70">mSelectedTickLabelColor</a> = color;
<a name="l04369"></a>04369 }
<a name="l04370"></a>04370 
<a name="l04376"></a><a class="code" href="class_q_c_p_axis.html#a5d502dec597c634f491fdd73d151c72d">04376</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a5d502dec597c634f491fdd73d151c72d">QCPAxis::setSelectedLabelColor</a>(<span class="keyword">const</span> QColor &amp;color)
<a name="l04377"></a>04377 {
<a name="l04378"></a>04378   <a class="code" href="class_q_c_p_axis.html#a94f57de3ba024471ca206d83cf2258dd">mSelectedLabelColor</a> = color;
<a name="l04379"></a>04379 }
<a name="l04380"></a>04380 
<a name="l04386"></a><a class="code" href="class_q_c_p_axis.html#aeb917a909215605b95ef2be843de1ee8">04386</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#aeb917a909215605b95ef2be843de1ee8">QCPAxis::setSelectedBasePen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l04387"></a>04387 {
<a name="l04388"></a>04388   <a class="code" href="class_q_c_p_axis.html#a80baa4e3c16f9b6edf3eccacd2a50fde">mSelectedBasePen</a> = pen;
<a name="l04389"></a>04389 }
<a name="l04390"></a>04390 
<a name="l04396"></a><a class="code" href="class_q_c_p_axis.html#a8360502685eb782edbf04019c9345cdc">04396</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a8360502685eb782edbf04019c9345cdc">QCPAxis::setSelectedTickPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l04397"></a>04397 {
<a name="l04398"></a>04398   <a class="code" href="class_q_c_p_axis.html#a9524593dbc75a5c5b29dbd1cb4b37df5">mSelectedTickPen</a> = pen;
<a name="l04399"></a>04399 }
<a name="l04400"></a>04400 
<a name="l04406"></a><a class="code" href="class_q_c_p_axis.html#a2a00a7166600155eac26843132eb9576">04406</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a2a00a7166600155eac26843132eb9576">QCPAxis::setSelectedSubTickPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l04407"></a>04407 {
<a name="l04408"></a>04408   <a class="code" href="class_q_c_p_axis.html#aa5cc6afc5dc2a365f5abbd36eb04a1dc">mSelectedSubTickPen</a> = pen;
<a name="l04409"></a>04409 }
<a name="l04410"></a>04410 
<a name="l04418"></a><a class="code" href="class_q_c_p_axis.html#a18f3a68f2b691af1fd34b6593c886630">04418</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a18f3a68f2b691af1fd34b6593c886630">QCPAxis::moveRange</a>(<span class="keywordtype">double</span> diff)
<a name="l04419"></a>04419 {
<a name="l04420"></a>04420   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ad706039549cbbbec5fcb2baf7894e04d">mScaleType</a> == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0aff6e30a11a828bc850caffab0ff994f6" title="Normal linear scaling.">stLinear</a>)
<a name="l04421"></a>04421   {
<a name="l04422"></a>04422     <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> += diff;
<a name="l04423"></a>04423     <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> += diff;
<a name="l04424"></a>04424   } <span class="keywordflow">else</span> <span class="comment">// mScaleType == stLogarithmic</span>
<a name="l04425"></a>04425   {
<a name="l04426"></a>04426     <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> *= diff;
<a name="l04427"></a>04427     <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> *= diff;
<a name="l04428"></a>04428   }
<a name="l04429"></a>04429   emit <a class="code" href="class_q_c_p_axis.html#a0894084e4c16a1736534c4095746f910">rangeChanged</a>(<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>);
<a name="l04430"></a>04430 }
<a name="l04431"></a>04431 
<a name="l04438"></a><a class="code" href="class_q_c_p_axis.html#a7072ff96fe690148f1bbcdb4f773ea1c">04438</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a7072ff96fe690148f1bbcdb4f773ea1c">QCPAxis::scaleRange</a>(<span class="keywordtype">double</span> factor, <span class="keywordtype">double</span> center)
<a name="l04439"></a>04439 {
<a name="l04440"></a>04440   
<a name="l04441"></a>04441   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ad706039549cbbbec5fcb2baf7894e04d">mScaleType</a> == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0aff6e30a11a828bc850caffab0ff994f6" title="Normal linear scaling.">stLinear</a>)
<a name="l04442"></a>04442   {
<a name="l04443"></a>04443     <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> newRange;
<a name="l04444"></a>04444     newRange.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = (<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>-center)*factor + center;
<a name="l04445"></a>04445     newRange.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = (<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>-center)*factor + center;
<a name="l04446"></a>04446     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_range.html#ab38bd4841c77c7bb86c9eea0f142dcc0">QCPRange::validRange</a>(newRange))
<a name="l04447"></a>04447       <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a> = newRange.<a class="code" href="class_q_c_p_range.html#a1ff029704c29a75adbc1dc36cecaf44c">sanitizedForLinScale</a>();
<a name="l04448"></a>04448   } <span class="keywordflow">else</span> <span class="comment">// mScaleType == stLogarithmic</span>
<a name="l04449"></a>04449   {
<a name="l04450"></a>04450     <span class="keywordflow">if</span> ((<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &lt; 0 &amp;&amp; center &lt; 0) || (<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &gt; 0 &amp;&amp; center &gt; 0)) <span class="comment">// make sure center has same sign as range</span>
<a name="l04451"></a>04451     {
<a name="l04452"></a>04452       <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> newRange;
<a name="l04453"></a>04453       newRange.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = pow(<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>/center, factor)*center;
<a name="l04454"></a>04454       newRange.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = pow(<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>/center, factor)*center;
<a name="l04455"></a>04455       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_range.html#ab38bd4841c77c7bb86c9eea0f142dcc0">QCPRange::validRange</a>(newRange))
<a name="l04456"></a>04456         <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a> = newRange.<a class="code" href="class_q_c_p_range.html#aaf6a9046e78d91eeb8e89584fe46b034">sanitizedForLogScale</a>();
<a name="l04457"></a>04457     } <span class="keywordflow">else</span>
<a name="l04458"></a>04458       qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;center of scaling operation doesn&#39;t lie in same logarithmic sign domain as range:&quot;</span> &lt;&lt; center;
<a name="l04459"></a>04459   }
<a name="l04460"></a>04460   emit <a class="code" href="class_q_c_p_axis.html#a0894084e4c16a1736534c4095746f910">rangeChanged</a>(<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>);
<a name="l04461"></a>04461 }
<a name="l04462"></a>04462 
<a name="l04471"></a><a class="code" href="class_q_c_p_axis.html#af4bbd446dcaee5a83ac30ce9bcd6e125">04471</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#af4bbd446dcaee5a83ac30ce9bcd6e125">QCPAxis::setScaleRatio</a>(<span class="keyword">const</span> <a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *otherAxis, <span class="keywordtype">double</span> ratio)
<a name="l04472"></a>04472 {
<a name="l04473"></a>04473   <span class="keywordtype">int</span> otherPixelSize, ownPixelSize;
<a name="l04474"></a>04474   
<a name="l04475"></a>04475   <span class="keywordflow">if</span> (otherAxis-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Horizontal)
<a name="l04476"></a>04476     otherPixelSize = otherAxis-&gt;<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.width();
<a name="l04477"></a>04477   <span class="keywordflow">else</span>
<a name="l04478"></a>04478     otherPixelSize = otherAxis-&gt;<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.height();
<a name="l04479"></a>04479   
<a name="l04480"></a>04480   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Horizontal)
<a name="l04481"></a>04481     ownPixelSize = <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.width();
<a name="l04482"></a>04482   <span class="keywordflow">else</span>
<a name="l04483"></a>04483     ownPixelSize = <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.height();
<a name="l04484"></a>04484   
<a name="l04485"></a>04485   <span class="keywordtype">double</span> newRangeSize = ratio*otherAxis-&gt;<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#afa57c13049b965edb6fd1c00ac56338a">size</a>()*ownPixelSize/(double)otherPixelSize;
<a name="l04486"></a>04486   <a class="code" href="class_q_c_p_axis.html#a57d6ee9e9009fe88cb19db476ec70bca">setRange</a>(<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().center(), newRangeSize, Qt::AlignCenter);
<a name="l04487"></a>04487 }
<a name="l04488"></a>04488 
<a name="l04492"></a><a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">04492</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">QCPAxis::pixelToCoord</a>(<span class="keywordtype">double</span> value)<span class="keyword"> const</span>
<a name="l04493"></a>04493 <span class="keyword"></span>{
<a name="l04494"></a>04494   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Horizontal)
<a name="l04495"></a>04495   {
<a name="l04496"></a>04496     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ad706039549cbbbec5fcb2baf7894e04d">mScaleType</a> == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0aff6e30a11a828bc850caffab0ff994f6" title="Normal linear scaling.">stLinear</a>)
<a name="l04497"></a>04497     {
<a name="l04498"></a>04498       <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_axis.html#a5cb034f57aa3d773a9ca55a0931dbf7b">mRangeReversed</a>)
<a name="l04499"></a>04499         <span class="keywordflow">return</span> (value-<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left())/(<span class="keywordtype">double</span>)<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.width()*<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#afa57c13049b965edb6fd1c00ac56338a">size</a>()+<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>;
<a name="l04500"></a>04500       <span class="keywordflow">else</span>
<a name="l04501"></a>04501         <span class="keywordflow">return</span> -(value-<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left())/(<span class="keywordtype">double</span>)<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.width()*<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#afa57c13049b965edb6fd1c00ac56338a">size</a>()+<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>;
<a name="l04502"></a>04502     } <span class="keywordflow">else</span> <span class="comment">// mScaleType == stLogarithmic</span>
<a name="l04503"></a>04503     {
<a name="l04504"></a>04504       <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_axis.html#a5cb034f57aa3d773a9ca55a0931dbf7b">mRangeReversed</a>)
<a name="l04505"></a>04505         <span class="keywordflow">return</span> pow(<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>/<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>, (value-<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left())/(<span class="keywordtype">double</span>)<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.width())*<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>;
<a name="l04506"></a>04506       <span class="keywordflow">else</span>
<a name="l04507"></a>04507         <span class="keywordflow">return</span> pow(<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>/<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>, (<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left()-value)/(<span class="keywordtype">double</span>)<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.width())*<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>;
<a name="l04508"></a>04508     }
<a name="l04509"></a>04509   } <span class="keywordflow">else</span> <span class="comment">// orientation() == Qt::Vertical</span>
<a name="l04510"></a>04510   {
<a name="l04511"></a>04511     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ad706039549cbbbec5fcb2baf7894e04d">mScaleType</a> == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0aff6e30a11a828bc850caffab0ff994f6" title="Normal linear scaling.">stLinear</a>)
<a name="l04512"></a>04512     {
<a name="l04513"></a>04513       <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_axis.html#a5cb034f57aa3d773a9ca55a0931dbf7b">mRangeReversed</a>)
<a name="l04514"></a>04514         <span class="keywordflow">return</span> (<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom()-value)/(<span class="keywordtype">double</span>)<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.height()*<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#afa57c13049b965edb6fd1c00ac56338a">size</a>()+<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>;
<a name="l04515"></a>04515       <span class="keywordflow">else</span>
<a name="l04516"></a>04516         <span class="keywordflow">return</span> -(<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom()-value)/(<span class="keywordtype">double</span>)<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.height()*<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#afa57c13049b965edb6fd1c00ac56338a">size</a>()+<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>;
<a name="l04517"></a>04517     } <span class="keywordflow">else</span> <span class="comment">// mScaleType == stLogarithmic</span>
<a name="l04518"></a>04518     {
<a name="l04519"></a>04519       <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_axis.html#a5cb034f57aa3d773a9ca55a0931dbf7b">mRangeReversed</a>)
<a name="l04520"></a>04520         <span class="keywordflow">return</span> pow(<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>/<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>, (<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom()-value)/(<span class="keywordtype">double</span>)<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.height())*<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>;
<a name="l04521"></a>04521       <span class="keywordflow">else</span>
<a name="l04522"></a>04522         <span class="keywordflow">return</span> pow(<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>/<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>, (value-<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom())/(<span class="keywordtype">double</span>)<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.height())*<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>;
<a name="l04523"></a>04523     }
<a name="l04524"></a>04524   }
<a name="l04525"></a>04525 }
<a name="l04526"></a>04526 
<a name="l04530"></a><a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">04530</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">QCPAxis::coordToPixel</a>(<span class="keywordtype">double</span> value)<span class="keyword"> const</span>
<a name="l04531"></a>04531 <span class="keyword"></span>{
<a name="l04532"></a>04532   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Horizontal)
<a name="l04533"></a>04533   {
<a name="l04534"></a>04534     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ad706039549cbbbec5fcb2baf7894e04d">mScaleType</a> == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0aff6e30a11a828bc850caffab0ff994f6" title="Normal linear scaling.">stLinear</a>)
<a name="l04535"></a>04535     {
<a name="l04536"></a>04536       <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_axis.html#a5cb034f57aa3d773a9ca55a0931dbf7b">mRangeReversed</a>)
<a name="l04537"></a>04537         <span class="keywordflow">return</span> (value-<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>)/<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#afa57c13049b965edb6fd1c00ac56338a">size</a>()*<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.width()+<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left();
<a name="l04538"></a>04538       <span class="keywordflow">else</span>
<a name="l04539"></a>04539         <span class="keywordflow">return</span> (<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>-value)/<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#afa57c13049b965edb6fd1c00ac56338a">size</a>()*<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.width()+<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left();
<a name="l04540"></a>04540     } <span class="keywordflow">else</span> <span class="comment">// mScaleType == stLogarithmic</span>
<a name="l04541"></a>04541     {
<a name="l04542"></a>04542       <span class="keywordflow">if</span> (value &gt;= 0 &amp;&amp; <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &lt; 0) <span class="comment">// invalid value for logarithmic scale, just draw it outside visible range</span>
<a name="l04543"></a>04543         <span class="keywordflow">return</span> !<a class="code" href="class_q_c_p_axis.html#a5cb034f57aa3d773a9ca55a0931dbf7b">mRangeReversed</a> ? <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.right()+200 : <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left()-200;
<a name="l04544"></a>04544       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value &lt;= 0 &amp;&amp; mRange.upper &gt; 0) <span class="comment">// invalid value for logarithmic scale, just draw it outside visible range</span>
<a name="l04545"></a>04545         <span class="keywordflow">return</span> !<a class="code" href="class_q_c_p_axis.html#a5cb034f57aa3d773a9ca55a0931dbf7b">mRangeReversed</a> ? <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left()-200 : <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.right()+200;
<a name="l04546"></a>04546       <span class="keywordflow">else</span>
<a name="l04547"></a>04547       {
<a name="l04548"></a>04548         <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_axis.html#a5cb034f57aa3d773a9ca55a0931dbf7b">mRangeReversed</a>)
<a name="l04549"></a>04549           <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_axis.html#a1385765db2419ee5fb5505a6cf9130fb">baseLog</a>(value/<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>)/<a class="code" href="class_q_c_p_axis.html#a1385765db2419ee5fb5505a6cf9130fb">baseLog</a>(<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>/<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>)*<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.width()+<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left();
<a name="l04550"></a>04550         <span class="keywordflow">else</span>
<a name="l04551"></a>04551           <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_axis.html#a1385765db2419ee5fb5505a6cf9130fb">baseLog</a>(<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>/value)/<a class="code" href="class_q_c_p_axis.html#a1385765db2419ee5fb5505a6cf9130fb">baseLog</a>(<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>/<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>)*<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.width()+<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left();
<a name="l04552"></a>04552       }
<a name="l04553"></a>04553     }
<a name="l04554"></a>04554   } <span class="keywordflow">else</span> <span class="comment">// orientation() == Qt::Vertical</span>
<a name="l04555"></a>04555   {
<a name="l04556"></a>04556     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ad706039549cbbbec5fcb2baf7894e04d">mScaleType</a> == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0aff6e30a11a828bc850caffab0ff994f6" title="Normal linear scaling.">stLinear</a>)
<a name="l04557"></a>04557     {
<a name="l04558"></a>04558       <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_axis.html#a5cb034f57aa3d773a9ca55a0931dbf7b">mRangeReversed</a>)
<a name="l04559"></a>04559         <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom()-(value-<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>)/<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#afa57c13049b965edb6fd1c00ac56338a">size</a>()*<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.height();
<a name="l04560"></a>04560       <span class="keywordflow">else</span>
<a name="l04561"></a>04561         <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom()-(<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>-value)/<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#afa57c13049b965edb6fd1c00ac56338a">size</a>()*<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.height();
<a name="l04562"></a>04562     } <span class="keywordflow">else</span> <span class="comment">// mScaleType == stLogarithmic</span>
<a name="l04563"></a>04563     {     
<a name="l04564"></a>04564       <span class="keywordflow">if</span> (value &gt;= 0 &amp;&amp; <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &lt; 0) <span class="comment">// invalid value for logarithmic scale, just draw it outside visible range</span>
<a name="l04565"></a>04565         <span class="keywordflow">return</span> !<a class="code" href="class_q_c_p_axis.html#a5cb034f57aa3d773a9ca55a0931dbf7b">mRangeReversed</a> ? <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.top()-200 : <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom()+200;
<a name="l04566"></a>04566       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value &lt;= 0 &amp;&amp; mRange.upper &gt; 0) <span class="comment">// invalid value for logarithmic scale, just draw it outside visible range</span>
<a name="l04567"></a>04567         <span class="keywordflow">return</span> !<a class="code" href="class_q_c_p_axis.html#a5cb034f57aa3d773a9ca55a0931dbf7b">mRangeReversed</a> ? <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom()+200 : <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.top()-200;
<a name="l04568"></a>04568       <span class="keywordflow">else</span>
<a name="l04569"></a>04569       {
<a name="l04570"></a>04570         <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_axis.html#a5cb034f57aa3d773a9ca55a0931dbf7b">mRangeReversed</a>)
<a name="l04571"></a>04571           <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom()-<a class="code" href="class_q_c_p_axis.html#a1385765db2419ee5fb5505a6cf9130fb">baseLog</a>(value/<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>)/<a class="code" href="class_q_c_p_axis.html#a1385765db2419ee5fb5505a6cf9130fb">baseLog</a>(<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>/<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>)*<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.height();
<a name="l04572"></a>04572         <span class="keywordflow">else</span>
<a name="l04573"></a>04573           <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom()-<a class="code" href="class_q_c_p_axis.html#a1385765db2419ee5fb5505a6cf9130fb">baseLog</a>(<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>/value)/<a class="code" href="class_q_c_p_axis.html#a1385765db2419ee5fb5505a6cf9130fb">baseLog</a>(<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>/<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>)*<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.height();
<a name="l04574"></a>04574       }
<a name="l04575"></a>04575     }
<a name="l04576"></a>04576   }
<a name="l04577"></a>04577 }
<a name="l04578"></a>04578 
<a name="l04588"></a><a class="code" href="class_q_c_p_axis.html#a940be5ef61f4fa0dc21e4f4c7a5875c2">04588</a> <a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115f">QCPAxis::SelectablePart</a> <a class="code" href="class_q_c_p_axis.html#a940be5ef61f4fa0dc21e4f4c7a5875c2">QCPAxis::selectTest</a>(<span class="keyword">const</span> QPointF &amp;pos)<span class="keyword"> const</span>
<a name="l04589"></a>04589 <span class="keyword"></span>{
<a name="l04590"></a>04590   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_layerable.html#a62e3aed8427d6ce3ccf716f285106cb3">mVisible</a>)
<a name="l04591"></a>04591     <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115fae0df8123a5528d5ccf87cb7794f971ea" title="None of the selectable parts.">spNone</a>;
<a name="l04592"></a>04592   
<a name="l04593"></a>04593   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a6185814615059cacf09fdb74a3e539d7">mAxisSelectionBox</a>.contains(pos.toPoint()))
<a name="l04594"></a>04594     <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115fa8949d2c1a31eccae9be7ed32e7a1ae38" title="The axis backbone and tick marks.">spAxis</a>;
<a name="l04595"></a>04595   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#acca7a38191c1f4df06b9416d43172214">mTickLabelsSelectionBox</a>.contains(pos.toPoint()))
<a name="l04596"></a>04596     <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115fa584e0a3dc4d064880647619f4bd4e771" title="Tick labels (numbers) of this axis (as a whole, not individually)">spTickLabels</a>;
<a name="l04597"></a>04597   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a14fbf65daf2c38cbb0f2c4278a7929dd">mLabelSelectionBox</a>.contains(pos.toPoint()))
<a name="l04598"></a>04598     <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115fa851e0600e0d08b4f5fee9361e3fedabd" title="The axis label.">spAxisLabel</a>;
<a name="l04599"></a>04599   <span class="keywordflow">else</span>
<a name="l04600"></a>04600     <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115fae0df8123a5528d5ccf87cb7794f971ea" title="None of the selectable parts.">spNone</a>;
<a name="l04601"></a>04601 }
<a name="l04602"></a>04602 
<a name="l04611"></a><a class="code" href="class_q_c_p_axis.html#a57d9e961bae7d62f5b4e1f143e660c78">04611</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a57d9e961bae7d62f5b4e1f143e660c78">QCPAxis::setupTickVectors</a>()
<a name="l04612"></a>04612 {
<a name="l04613"></a>04613   <span class="keywordflow">if</span> ((!<a class="code" href="class_q_c_p_axis.html#ab111e74bba22e06848897c932fc549fe">mTicks</a> &amp;&amp; !<a class="code" href="class_q_c_p_axis.html#a3e4315be072026644e69009557a2fa11">mTickLabels</a> &amp;&amp; !<a class="code" href="class_q_c_p_axis.html#a17bffb94aaa40311f259c6ac7bcb5d5f">mGrid</a>-&gt;<a class="code" href="class_q_c_p_layerable.html#a10a3cc92e0fa63e4a929e61d34e275a7">visible</a>()) || <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#afa57c13049b965edb6fd1c00ac56338a">size</a>() &lt;= 0) <span class="keywordflow">return</span>;
<a name="l04614"></a>04614   
<a name="l04615"></a>04615   <span class="comment">// fill tick vectors, either by auto generating or by notifying user to fill the vectors himself</span>
<a name="l04616"></a>04616   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#aac23adcbae246bf165d4539ad65ac9f9">mAutoTicks</a>)
<a name="l04617"></a>04617   {
<a name="l04618"></a>04618     <a class="code" href="class_q_c_p_axis.html#a626eef437c874148df1a5ac78506d463">generateAutoTicks</a>();
<a name="l04619"></a>04619   } <span class="keywordflow">else</span>
<a name="l04620"></a>04620   {
<a name="l04621"></a>04621     emit <a class="code" href="class_q_c_p_axis.html#af46d99613d29518795134ec4928e3873">ticksRequest</a>();
<a name="l04622"></a>04622   }
<a name="l04623"></a>04623   
<a name="l04624"></a>04624   <a class="code" href="class_q_c_p_axis.html#a06320a944d1120732cc0d72fe1306d8b">visibleTickBounds</a>(<a class="code" href="class_q_c_p_axis.html#aebb24ba8734b7e054efc6e1ecc5414c7">mLowestVisibleTick</a>, <a class="code" href="class_q_c_p_axis.html#abb3b3ccce7e9779fef2be91ce1a46ef0">mHighestVisibleTick</a>);
<a name="l04625"></a>04625   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.isEmpty())
<a name="l04626"></a>04626   {
<a name="l04627"></a>04627     <a class="code" href="class_q_c_p_axis.html#a28353081e0ff35c3fe5ced923a287faa">mSubTickVector</a>.clear();
<a name="l04628"></a>04628     <span class="keywordflow">return</span>;
<a name="l04629"></a>04629   }
<a name="l04630"></a>04630   
<a name="l04631"></a>04631   <span class="comment">// generate subticks between ticks:</span>
<a name="l04632"></a>04632   <a class="code" href="class_q_c_p_axis.html#a28353081e0ff35c3fe5ced923a287faa">mSubTickVector</a>.resize((<a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.size()-1)*<a class="code" href="class_q_c_p_axis.html#ad70198e6ae2801fc409bc3caec707da9">mSubTickCount</a>);
<a name="l04633"></a>04633   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ad70198e6ae2801fc409bc3caec707da9">mSubTickCount</a> &gt; 0)
<a name="l04634"></a>04634   {
<a name="l04635"></a>04635     <span class="keywordtype">double</span> subTickStep = 0;
<a name="l04636"></a>04636     <span class="keywordtype">double</span> subTickPosition = 0;
<a name="l04637"></a>04637     <span class="keywordtype">int</span> subTickIndex = 0;
<a name="l04638"></a>04638     <span class="keywordtype">bool</span> done = <span class="keyword">false</span>;
<a name="l04639"></a>04639     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=1; i&lt;<a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.size(); ++i)
<a name="l04640"></a>04640     {
<a name="l04641"></a>04641       subTickStep = (<a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.at(i)-<a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.at(i-1))/(<span class="keywordtype">double</span>)(<a class="code" href="class_q_c_p_axis.html#ad70198e6ae2801fc409bc3caec707da9">mSubTickCount</a>+1);
<a name="l04642"></a>04642       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=1; k&lt;=<a class="code" href="class_q_c_p_axis.html#ad70198e6ae2801fc409bc3caec707da9">mSubTickCount</a>; ++k)
<a name="l04643"></a>04643       {
<a name="l04644"></a>04644         subTickPosition = <a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.at(i-1) + k*subTickStep;
<a name="l04645"></a>04645         <span class="keywordflow">if</span> (subTickPosition &lt; <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>)
<a name="l04646"></a>04646           <span class="keywordflow">continue</span>;
<a name="l04647"></a>04647         <span class="keywordflow">if</span> (subTickPosition &gt; <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>)
<a name="l04648"></a>04648         {
<a name="l04649"></a>04649           done = <span class="keyword">true</span>;
<a name="l04650"></a>04650           <span class="keywordflow">break</span>;
<a name="l04651"></a>04651         }
<a name="l04652"></a>04652         <a class="code" href="class_q_c_p_axis.html#a28353081e0ff35c3fe5ced923a287faa">mSubTickVector</a>[subTickIndex] = subTickPosition;
<a name="l04653"></a>04653         subTickIndex++;
<a name="l04654"></a>04654       }
<a name="l04655"></a>04655       <span class="keywordflow">if</span> (done) <span class="keywordflow">break</span>;
<a name="l04656"></a>04656     }
<a name="l04657"></a>04657     <a class="code" href="class_q_c_p_axis.html#a28353081e0ff35c3fe5ced923a287faa">mSubTickVector</a>.resize(subTickIndex);
<a name="l04658"></a>04658   }
<a name="l04659"></a>04659 
<a name="l04660"></a>04660   <span class="comment">// generate tick labels according to tick positions:</span>
<a name="l04661"></a>04661   <a class="code" href="class_q_c_p_axis.html#a0ec9dbb79704be01f780d34c6f57a08e">mExponentialChar</a> = <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;locale().exponential();   <span class="comment">// will be needed when drawing the numbers generated here, in drawTickLabel()</span>
<a name="l04662"></a>04662   <a class="code" href="class_q_c_p_axis.html#ae99d47103ec8ba66959205b23991241b">mPositiveSignChar</a> = <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;locale().positiveSign(); <span class="comment">// will be needed when drawing the numbers generated here, in drawTickLabel()</span>
<a name="l04663"></a>04663   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a721e496b342f272078c5ff84564e472f">mAutoTickLabels</a>)
<a name="l04664"></a>04664   {
<a name="l04665"></a>04665     <span class="keywordtype">int</span> vecsize = <a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.size();
<a name="l04666"></a>04666     <a class="code" href="class_q_c_p_axis.html#aeee4bd0fca3f587eafe33843d1cb4f82">mTickVectorLabels</a>.resize(vecsize);
<a name="l04667"></a>04667     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a6e056c1cb1aab0eddebfebbcb78c8f90">mTickLabelType</a> == <a class="code" href="class_q_c_p_axis.html#a4a7da0166f755f5abac23b765d184cada7f1eacf3b73adaefd334bea04e094b7e" title="Tick coordinate is regarded as normal number and will be displayed as such. (see setNumberFormat)">ltNumber</a>)
<a name="l04668"></a>04668     {
<a name="l04669"></a>04669       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;vecsize; ++i)
<a name="l04670"></a>04670         <a class="code" href="class_q_c_p_axis.html#aeee4bd0fca3f587eafe33843d1cb4f82">mTickVectorLabels</a>[i] = <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;locale().toString(<a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.at(i), <a class="code" href="class_q_c_p_axis.html#a600d56365316ea783927f7d595f1ed54">mNumberFormatChar</a>, <a class="code" href="class_q_c_p_axis.html#acd76e8c783384d99ccc4a13797eec188">mNumberPrecision</a>);
<a name="l04671"></a>04671     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a6e056c1cb1aab0eddebfebbcb78c8f90">mTickLabelType</a> == <a class="code" href="class_q_c_p_axis.html#a4a7da0166f755f5abac23b765d184cadafc70594a9d877124dd11ccc187d4ac52" title="Tick coordinate is regarded as a date/time (seconds since 1970-01-01T00:00:00 UTC, see QDateTime::toTime_t) and will be displayed and formatted as such. (see setDateTimeFormat)">ltDateTime</a>)
<a name="l04672"></a>04672     {
<a name="l04673"></a>04673       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;vecsize; ++i)
<a name="l04674"></a>04674       {
<a name="l04675"></a>04675 <span class="preprocessor">#if QT_VERSION &lt; QT_VERSION_CHECK(4, 7, 0) // use fromMSecsSinceEpoch function if available, to gain sub-second accuracy on tick labels (e.g. for format &quot;hh:mm:ss:zzz&quot;)</span>
<a name="l04676"></a>04676 <span class="preprocessor"></span>        <a class="code" href="class_q_c_p_axis.html#aeee4bd0fca3f587eafe33843d1cb4f82">mTickVectorLabels</a>[i] = <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;locale().toString(QDateTime::fromTime_t(<a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.at(i)), <a class="code" href="class_q_c_p_axis.html#a0b7ad83550d71daab4cfee2918e168e0">mDateTimeFormat</a>);
<a name="l04677"></a>04677 <span class="preprocessor">#else</span>
<a name="l04678"></a>04678 <span class="preprocessor"></span>        <a class="code" href="class_q_c_p_axis.html#aeee4bd0fca3f587eafe33843d1cb4f82">mTickVectorLabels</a>[i] = <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;locale().toString(QDateTime::fromMSecsSinceEpoch(<a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.at(i)*1000), <a class="code" href="class_q_c_p_axis.html#a0b7ad83550d71daab4cfee2918e168e0">mDateTimeFormat</a>);
<a name="l04679"></a>04679 <span class="preprocessor">#endif</span>
<a name="l04680"></a>04680 <span class="preprocessor"></span>      }
<a name="l04681"></a>04681     }
<a name="l04682"></a>04682   } <span class="keywordflow">else</span> <span class="comment">// mAutoTickLabels == false</span>
<a name="l04683"></a>04683   {
<a name="l04684"></a>04684     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#aac23adcbae246bf165d4539ad65ac9f9">mAutoTicks</a>) <span class="comment">// ticks generated automatically, but not ticklabels, so emit ticksRequest here for labels</span>
<a name="l04685"></a>04685     {
<a name="l04686"></a>04686       emit <a class="code" href="class_q_c_p_axis.html#af46d99613d29518795134ec4928e3873">ticksRequest</a>();
<a name="l04687"></a>04687     }
<a name="l04688"></a>04688     <span class="comment">// make sure provided tick label vector has correct (minimal) length:</span>
<a name="l04689"></a>04689     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#aeee4bd0fca3f587eafe33843d1cb4f82">mTickVectorLabels</a>.size() &lt; <a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.size())
<a name="l04690"></a>04690       <a class="code" href="class_q_c_p_axis.html#aeee4bd0fca3f587eafe33843d1cb4f82">mTickVectorLabels</a>.resize(<a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.size());
<a name="l04691"></a>04691   }
<a name="l04692"></a>04692 }
<a name="l04693"></a>04693 
<a name="l04703"></a><a class="code" href="class_q_c_p_axis.html#a626eef437c874148df1a5ac78506d463">04703</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a626eef437c874148df1a5ac78506d463">QCPAxis::generateAutoTicks</a>()
<a name="l04704"></a>04704 {
<a name="l04705"></a>04705   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ad706039549cbbbec5fcb2baf7894e04d">mScaleType</a> == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0aff6e30a11a828bc850caffab0ff994f6" title="Normal linear scaling.">stLinear</a>)
<a name="l04706"></a>04706   {
<a name="l04707"></a>04707     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#aada8934a5c44978653031782aa37d101">mAutoTickStep</a>)
<a name="l04708"></a>04708     {
<a name="l04709"></a>04709       <span class="comment">// Generate tick positions according to linear scaling:</span>
<a name="l04710"></a>04710       <a class="code" href="class_q_c_p_axis.html#a4fe96830fc5a2711e20fe5edccfe2ed3">mTickStep</a> = <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#afa57c13049b965edb6fd1c00ac56338a">size</a>()/(double)(<a class="code" href="class_q_c_p_axis.html#a499fbb67111e4b204738f6c1aa28d842">mAutoTickCount</a>+1e-10); <span class="comment">// mAutoTickCount ticks on average, the small addition is to prevent jitter on exact integers</span>
<a name="l04711"></a>04711       <span class="keywordtype">double</span> magnitudeFactor = qPow(10.0, qFloor(qLn(<a class="code" href="class_q_c_p_axis.html#a4fe96830fc5a2711e20fe5edccfe2ed3">mTickStep</a>)/qLn(10.0))); <span class="comment">// get magnitude factor e.g. 0.01, 1, 10, 1000 etc.</span>
<a name="l04712"></a>04712       <span class="keywordtype">double</span> tickStepMantissa = <a class="code" href="class_q_c_p_axis.html#a4fe96830fc5a2711e20fe5edccfe2ed3">mTickStep</a>/magnitudeFactor;
<a name="l04713"></a>04713       <span class="keywordflow">if</span> (tickStepMantissa &lt; 5)
<a name="l04714"></a>04714       {
<a name="l04715"></a>04715         <span class="comment">// round digit after decimal point to 0.5</span>
<a name="l04716"></a>04716         <a class="code" href="class_q_c_p_axis.html#a4fe96830fc5a2711e20fe5edccfe2ed3">mTickStep</a> = (int)(tickStepMantissa*2)/2.0*magnitudeFactor;
<a name="l04717"></a>04717       } <span class="keywordflow">else</span>
<a name="l04718"></a>04718       {
<a name="l04719"></a>04719         <span class="comment">// round to first digit in multiples of 2</span>
<a name="l04720"></a>04720         <a class="code" href="class_q_c_p_axis.html#a4fe96830fc5a2711e20fe5edccfe2ed3">mTickStep</a> = (int)((tickStepMantissa/10.0)*5)/5.0*10*magnitudeFactor;
<a name="l04721"></a>04721       }
<a name="l04722"></a>04722     }
<a name="l04723"></a>04723     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#aaae980b0d193d959674e314dbb6c2c3b">mAutoSubTicks</a>)
<a name="l04724"></a>04724       <a class="code" href="class_q_c_p_axis.html#ad70198e6ae2801fc409bc3caec707da9">mSubTickCount</a> = <a class="code" href="class_q_c_p_axis.html#a3c5c045019fcdc0843a3e064eda7478a">calculateAutoSubTickCount</a>(<a class="code" href="class_q_c_p_axis.html#a4fe96830fc5a2711e20fe5edccfe2ed3">mTickStep</a>);
<a name="l04725"></a>04725     <span class="comment">// Generate tick positions according to mTickStep:</span>
<a name="l04726"></a>04726     <span class="keywordtype">int</span> firstStep = floor(<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>/<a class="code" href="class_q_c_p_axis.html#a4fe96830fc5a2711e20fe5edccfe2ed3">mTickStep</a>);
<a name="l04727"></a>04727     <span class="keywordtype">int</span> lastStep = ceil(<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>/<a class="code" href="class_q_c_p_axis.html#a4fe96830fc5a2711e20fe5edccfe2ed3">mTickStep</a>);
<a name="l04728"></a>04728     <span class="keywordtype">int</span> tickcount = lastStep-firstStep+1;
<a name="l04729"></a>04729     <span class="keywordflow">if</span> (tickcount &lt; 0) tickcount = 0;
<a name="l04730"></a>04730     <a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.resize(tickcount);
<a name="l04731"></a>04731     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;tickcount; ++i)
<a name="l04732"></a>04732     {
<a name="l04733"></a>04733       <a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>[i] = (firstStep+i)*<a class="code" href="class_q_c_p_axis.html#a4fe96830fc5a2711e20fe5edccfe2ed3">mTickStep</a>;
<a name="l04734"></a>04734     }
<a name="l04735"></a>04735   } <span class="keywordflow">else</span> <span class="comment">// mScaleType == stLogarithmic</span>
<a name="l04736"></a>04736   {
<a name="l04737"></a>04737     <span class="comment">// Generate tick positions according to logbase scaling:</span>
<a name="l04738"></a>04738     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> &gt; 0 &amp;&amp; <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &gt; 0) <span class="comment">// positive range</span>
<a name="l04739"></a>04739     {
<a name="l04740"></a>04740       <span class="keywordtype">double</span> lowerMag = <a class="code" href="class_q_c_p_axis.html#a97d69f021a05126fcb978d0aefea47b8">basePow</a>((<span class="keywordtype">int</span>)floor(<a class="code" href="class_q_c_p_axis.html#a1385765db2419ee5fb5505a6cf9130fb">baseLog</a>(<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>)));
<a name="l04741"></a>04741       <span class="keywordtype">double</span> currentMag = lowerMag;
<a name="l04742"></a>04742       <a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.clear();
<a name="l04743"></a>04743       <a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.append(currentMag);
<a name="l04744"></a>04744       <span class="keywordflow">while</span> (currentMag &lt; mRange.upper &amp;&amp; currentMag &gt; 0) <span class="comment">// currentMag might be zero for ranges ~1e-300, just cancel in that case</span>
<a name="l04745"></a>04745       {
<a name="l04746"></a>04746         currentMag *= <a class="code" href="class_q_c_p_axis.html#abc727ddb4af745151755d1b5e60d03c3">mScaleLogBase</a>;
<a name="l04747"></a>04747         <a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.append(currentMag);
<a name="l04748"></a>04748       }
<a name="l04749"></a>04749     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> &lt; 0 &amp;&amp; <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &lt; 0) <span class="comment">// negative range</span>
<a name="l04750"></a>04750     {
<a name="l04751"></a>04751       <span class="keywordtype">double</span> lowerMag = -<a class="code" href="class_q_c_p_axis.html#a97d69f021a05126fcb978d0aefea47b8">basePow</a>((<span class="keywordtype">int</span>)ceil(<a class="code" href="class_q_c_p_axis.html#a1385765db2419ee5fb5505a6cf9130fb">baseLog</a>(-<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>)));
<a name="l04752"></a>04752       <span class="keywordtype">double</span> currentMag = lowerMag;
<a name="l04753"></a>04753       <a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.clear();
<a name="l04754"></a>04754       <a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.append(currentMag);
<a name="l04755"></a>04755       <span class="keywordflow">while</span> (currentMag &lt; <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &amp;&amp; currentMag &lt; 0) <span class="comment">// currentMag might be zero for ranges ~1e-300, just cancel in that case</span>
<a name="l04756"></a>04756       {
<a name="l04757"></a>04757         currentMag /= <a class="code" href="class_q_c_p_axis.html#abc727ddb4af745151755d1b5e60d03c3">mScaleLogBase</a>;
<a name="l04758"></a>04758         <a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.append(currentMag);
<a name="l04759"></a>04759       }
<a name="l04760"></a>04760     } <span class="keywordflow">else</span> <span class="comment">// invalid range for logarithmic scale, because lower and upper have different sign</span>
<a name="l04761"></a>04761     {
<a name="l04762"></a>04762       <a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.clear();
<a name="l04763"></a>04763       qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;Invalid range for logarithmic plot: &quot;</span> &lt;&lt; <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> &lt;&lt; <span class="stringliteral">&quot;-&quot;</span> &lt;&lt; <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>;
<a name="l04764"></a>04764     }
<a name="l04765"></a>04765   }
<a name="l04766"></a>04766 }
<a name="l04767"></a>04767 
<a name="l04781"></a><a class="code" href="class_q_c_p_axis.html#a3c5c045019fcdc0843a3e064eda7478a">04781</a> <span class="keywordtype">int</span> <a class="code" href="class_q_c_p_axis.html#a3c5c045019fcdc0843a3e064eda7478a">QCPAxis::calculateAutoSubTickCount</a>(<span class="keywordtype">double</span> tickStep)<span class="keyword"> const</span>
<a name="l04782"></a>04782 <span class="keyword"></span>{
<a name="l04783"></a>04783   <span class="keywordtype">int</span> result = <a class="code" href="class_q_c_p_axis.html#ad70198e6ae2801fc409bc3caec707da9">mSubTickCount</a>; <span class="comment">// default to current setting, if no proper value can be found</span>
<a name="l04784"></a>04784   
<a name="l04785"></a>04785   <span class="comment">// get mantissa of tickstep:</span>
<a name="l04786"></a>04786   <span class="keywordtype">double</span> magnitudeFactor = qPow(10.0, qFloor(qLn(tickStep)/qLn(10.0))); <span class="comment">// get magnitude factor e.g. 0.01, 1, 10, 1000 etc.</span>
<a name="l04787"></a>04787   <span class="keywordtype">double</span> tickStepMantissa = tickStep/magnitudeFactor;
<a name="l04788"></a>04788   
<a name="l04789"></a>04789   <span class="comment">// separate integer and fractional part of mantissa:</span>
<a name="l04790"></a>04790   <span class="keywordtype">double</span> epsilon = 0.01;
<a name="l04791"></a>04791   <span class="keywordtype">double</span> intPartf;
<a name="l04792"></a>04792   <span class="keywordtype">int</span> intPart;
<a name="l04793"></a>04793   <span class="keywordtype">double</span> fracPart = modf(tickStepMantissa, &amp;intPartf);
<a name="l04794"></a>04794   intPart = intPartf;
<a name="l04795"></a>04795   
<a name="l04796"></a>04796   <span class="comment">// handle cases with (almost) integer mantissa:</span>
<a name="l04797"></a>04797   <span class="keywordflow">if</span> (fracPart &lt; epsilon || 1.0-fracPart &lt; epsilon)
<a name="l04798"></a>04798   {
<a name="l04799"></a>04799     <span class="keywordflow">if</span> (1.0-fracPart &lt; epsilon)
<a name="l04800"></a>04800       intPart++;
<a name="l04801"></a>04801     <span class="keywordflow">switch</span> (intPart)
<a name="l04802"></a>04802     {
<a name="l04803"></a>04803       <span class="keywordflow">case</span> 1: result = 4; <span class="keywordflow">break</span>; <span class="comment">// 1.0 -&gt; 0.2 substep</span>
<a name="l04804"></a>04804       <span class="keywordflow">case</span> 2: result = 3; <span class="keywordflow">break</span>; <span class="comment">// 2.0 -&gt; 0.5 substep</span>
<a name="l04805"></a>04805       <span class="keywordflow">case</span> 3: result = 2; <span class="keywordflow">break</span>; <span class="comment">// 3.0 -&gt; 1.0 substep</span>
<a name="l04806"></a>04806       <span class="keywordflow">case</span> 4: result = 3; <span class="keywordflow">break</span>; <span class="comment">// 4.0 -&gt; 1.0 substep</span>
<a name="l04807"></a>04807       <span class="keywordflow">case</span> 5: result = 4; <span class="keywordflow">break</span>; <span class="comment">// 5.0 -&gt; 1.0 substep</span>
<a name="l04808"></a>04808       <span class="keywordflow">case</span> 6: result = 2; <span class="keywordflow">break</span>; <span class="comment">// 6.0 -&gt; 2.0 substep</span>
<a name="l04809"></a>04809       <span class="keywordflow">case</span> 7: result = 6; <span class="keywordflow">break</span>; <span class="comment">// 7.0 -&gt; 1.0 substep</span>
<a name="l04810"></a>04810       <span class="keywordflow">case</span> 8: result = 3; <span class="keywordflow">break</span>; <span class="comment">// 8.0 -&gt; 2.0 substep</span>
<a name="l04811"></a>04811       <span class="keywordflow">case</span> 9: result = 2; <span class="keywordflow">break</span>; <span class="comment">// 9.0 -&gt; 3.0 substep</span>
<a name="l04812"></a>04812     }
<a name="l04813"></a>04813   } <span class="keywordflow">else</span>
<a name="l04814"></a>04814   {
<a name="l04815"></a>04815     <span class="comment">// handle cases with significantly fractional mantissa:</span>
<a name="l04816"></a>04816     <span class="keywordflow">if</span> (qAbs(fracPart-0.5) &lt; epsilon) <span class="comment">// *.5 mantissa</span>
<a name="l04817"></a>04817     {
<a name="l04818"></a>04818       <span class="keywordflow">switch</span> (intPart)
<a name="l04819"></a>04819       {
<a name="l04820"></a>04820         <span class="keywordflow">case</span> 1: result = 2; <span class="keywordflow">break</span>; <span class="comment">// 1.5 -&gt; 0.5 substep</span>
<a name="l04821"></a>04821         <span class="keywordflow">case</span> 2: result = 4; <span class="keywordflow">break</span>; <span class="comment">// 2.5 -&gt; 0.5 substep</span>
<a name="l04822"></a>04822         <span class="keywordflow">case</span> 3: result = 4; <span class="keywordflow">break</span>; <span class="comment">// 3.5 -&gt; 0.7 substep</span>
<a name="l04823"></a>04823         <span class="keywordflow">case</span> 4: result = 2; <span class="keywordflow">break</span>; <span class="comment">// 4.5 -&gt; 1.5 substep</span>
<a name="l04824"></a>04824         <span class="keywordflow">case</span> 5: result = 4; <span class="keywordflow">break</span>; <span class="comment">// 5.5 -&gt; 1.1 substep (won&#39;t occur with autoTickStep from here on)</span>
<a name="l04825"></a>04825         <span class="keywordflow">case</span> 6: result = 4; <span class="keywordflow">break</span>; <span class="comment">// 6.5 -&gt; 1.3 substep</span>
<a name="l04826"></a>04826         <span class="keywordflow">case</span> 7: result = 2; <span class="keywordflow">break</span>; <span class="comment">// 7.5 -&gt; 2.5 substep</span>
<a name="l04827"></a>04827         <span class="keywordflow">case</span> 8: result = 4; <span class="keywordflow">break</span>; <span class="comment">// 8.5 -&gt; 1.7 substep</span>
<a name="l04828"></a>04828         <span class="keywordflow">case</span> 9: result = 4; <span class="keywordflow">break</span>; <span class="comment">// 9.5 -&gt; 1.9 substep</span>
<a name="l04829"></a>04829       }
<a name="l04830"></a>04830     }
<a name="l04831"></a>04831     <span class="comment">// if mantissa fraction isnt 0.0 or 0.5, don&#39;t bother finding good sub tick marks, leave default</span>
<a name="l04832"></a>04832   }
<a name="l04833"></a>04833   
<a name="l04834"></a>04834   <span class="keywordflow">return</span> result;
<a name="l04835"></a>04835 }
<a name="l04836"></a>04836 
<a name="l04845"></a><a class="code" href="class_q_c_p_axis.html#a258b1e783eda5cd14ec5552c696a424e">04845</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a258b1e783eda5cd14ec5552c696a424e">QCPAxis::draw</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)
<a name="l04846"></a>04846 {
<a name="l04847"></a>04847   QPoint origin;
<a name="l04848"></a>04848   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ae704bf9f2c2b026f08dd4ccad79c616e">mAxisType</a> == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aaf84aa6cac6fb6099f54a2cbf7546b730" title="Axis is vertical and on the left side of the axis rect of the parent QCustomPlot.">atLeft</a>)
<a name="l04849"></a>04849     origin = <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottomLeft();
<a name="l04850"></a>04850   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ae704bf9f2c2b026f08dd4ccad79c616e">mAxisType</a> == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aadf5509f7d29199ef2f263b1dd224b345" title="Axis is vertical and on the right side of the axis rect of the parent QCustomPlot.">atRight</a>)
<a name="l04851"></a>04851     origin = <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottomRight();
<a name="l04852"></a>04852   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ae704bf9f2c2b026f08dd4ccad79c616e">mAxisType</a> == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977" title="Axis is horizontal and on the top side of the axis rect of the parent QCustomPlot.">atTop</a>)
<a name="l04853"></a>04853     origin = <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.topLeft();
<a name="l04854"></a>04854   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ae704bf9f2c2b026f08dd4ccad79c616e">mAxisType</a> == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f" title="Axis is horizontal and on the bottom side of the axis rect of the parent QCustomPlot.">atBottom</a>)
<a name="l04855"></a>04855     origin = <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottomLeft();
<a name="l04856"></a>04856   
<a name="l04857"></a>04857   <span class="keywordtype">double</span> xCor = 0, yCor = 0; <span class="comment">// paint system correction, for pixel exact matches (affects baselines and ticks of top/right axes)</span>
<a name="l04858"></a>04858   <span class="keywordflow">switch</span> (<a class="code" href="class_q_c_p_axis.html#ae704bf9f2c2b026f08dd4ccad79c616e">mAxisType</a>)
<a name="l04859"></a>04859   {
<a name="l04860"></a>04860     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977" title="Axis is horizontal and on the top side of the axis rect of the parent QCustomPlot.">atTop</a>: yCor = -1; <span class="keywordflow">break</span>;
<a name="l04861"></a>04861     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aadf5509f7d29199ef2f263b1dd224b345" title="Axis is vertical and on the right side of the axis rect of the parent QCustomPlot.">atRight</a>: xCor = 1; <span class="keywordflow">break</span>;
<a name="l04862"></a>04862     <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;
<a name="l04863"></a>04863   }
<a name="l04864"></a>04864   
<a name="l04865"></a>04865   <span class="keywordtype">int</span> margin = 0;
<a name="l04866"></a>04866   <span class="keywordtype">int</span> lowTick = <a class="code" href="class_q_c_p_axis.html#aebb24ba8734b7e054efc6e1ecc5414c7">mLowestVisibleTick</a>;
<a name="l04867"></a>04867   <span class="keywordtype">int</span> highTick = <a class="code" href="class_q_c_p_axis.html#abb3b3ccce7e9779fef2be91ce1a46ef0">mHighestVisibleTick</a>;
<a name="l04868"></a>04868   <span class="keywordtype">double</span> t; <span class="comment">// helper variable, result of coordinate-to-pixel transforms</span>
<a name="l04869"></a>04869 
<a name="l04870"></a>04870   <span class="comment">// draw baseline:</span>
<a name="l04871"></a>04871   painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_axis.html#a3eb0681d31baf579bb73b86a0153cb02">getBasePen</a>());
<a name="l04872"></a>04872   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Horizontal)
<a name="l04873"></a>04873     painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(origin+QPointF(xCor, yCor), origin+QPointF(<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.width()+xCor, yCor)));
<a name="l04874"></a>04874   <span class="keywordflow">else</span>
<a name="l04875"></a>04875     painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(origin+QPointF(xCor, yCor), origin+QPointF(xCor, -<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.height()+yCor)));
<a name="l04876"></a>04876   
<a name="l04877"></a>04877   <span class="comment">// draw ticks:</span>
<a name="l04878"></a>04878   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ab111e74bba22e06848897c932fc549fe">mTicks</a>)
<a name="l04879"></a>04879   {
<a name="l04880"></a>04880     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_axis.html#a7f503910be40fb1717e1635be3ef17e1">getTickPen</a>());
<a name="l04881"></a>04881     <span class="comment">// direction of ticks (&quot;inward&quot; is right for left axis and left for right axis)</span>
<a name="l04882"></a>04882     <span class="keywordtype">int</span> tickDir = (<a class="code" href="class_q_c_p_axis.html#ae704bf9f2c2b026f08dd4ccad79c616e">mAxisType</a> == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f" title="Axis is horizontal and on the bottom side of the axis rect of the parent QCustomPlot.">atBottom</a> || <a class="code" href="class_q_c_p_axis.html#ae704bf9f2c2b026f08dd4ccad79c616e">mAxisType</a> == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aadf5509f7d29199ef2f263b1dd224b345" title="Axis is vertical and on the right side of the axis rect of the parent QCustomPlot.">atRight</a>) ? -1 : 1;
<a name="l04883"></a>04883     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Horizontal)
<a name="l04884"></a>04884     {
<a name="l04885"></a>04885       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=lowTick; i &lt;= highTick; ++i)
<a name="l04886"></a>04886       {
<a name="l04887"></a>04887         t = <a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(<a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.at(i)); <span class="comment">// x</span>
<a name="l04888"></a>04888         painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(t+xCor, origin.y()-<a class="code" href="class_q_c_p_axis.html#a2951f26d8a504d330157e05063513809">mTickLengthOut</a>*tickDir+yCor, t+xCor, origin.y()+<a class="code" href="class_q_c_p_axis.html#aea36f29c70d611b4486ebb3a8897c7cd">mTickLengthIn</a>*tickDir+yCor));
<a name="l04889"></a>04889       }
<a name="l04890"></a>04890     } <span class="keywordflow">else</span>
<a name="l04891"></a>04891     {
<a name="l04892"></a>04892       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=lowTick; i &lt;= highTick; ++i)
<a name="l04893"></a>04893       {
<a name="l04894"></a>04894         t = <a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(<a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.at(i)); <span class="comment">// y</span>
<a name="l04895"></a>04895         painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(origin.x()-<a class="code" href="class_q_c_p_axis.html#a2951f26d8a504d330157e05063513809">mTickLengthOut</a>*tickDir+xCor, t+yCor, origin.x()+<a class="code" href="class_q_c_p_axis.html#aea36f29c70d611b4486ebb3a8897c7cd">mTickLengthIn</a>*tickDir+xCor, t+yCor));
<a name="l04896"></a>04896       }
<a name="l04897"></a>04897     }
<a name="l04898"></a>04898   }
<a name="l04899"></a>04899   
<a name="l04900"></a>04900   <span class="comment">// draw subticks:</span>
<a name="l04901"></a>04901   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ab111e74bba22e06848897c932fc549fe">mTicks</a> &amp;&amp; <a class="code" href="class_q_c_p_axis.html#ad70198e6ae2801fc409bc3caec707da9">mSubTickCount</a> &gt; 0)
<a name="l04902"></a>04902   {
<a name="l04903"></a>04903     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_axis.html#ab4f7e60a40eb051c775afcaeab895c85">getSubTickPen</a>());
<a name="l04904"></a>04904     <span class="comment">// direction of ticks (&quot;inward&quot; is right for left axis and left for right axis)</span>
<a name="l04905"></a>04905     <span class="keywordtype">int</span> tickDir = (<a class="code" href="class_q_c_p_axis.html#ae704bf9f2c2b026f08dd4ccad79c616e">mAxisType</a> == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f" title="Axis is horizontal and on the bottom side of the axis rect of the parent QCustomPlot.">atBottom</a> || <a class="code" href="class_q_c_p_axis.html#ae704bf9f2c2b026f08dd4ccad79c616e">mAxisType</a> == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aadf5509f7d29199ef2f263b1dd224b345" title="Axis is vertical and on the right side of the axis rect of the parent QCustomPlot.">atRight</a>) ? -1 : 1;
<a name="l04906"></a>04906     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Horizontal)
<a name="l04907"></a>04907     {
<a name="l04908"></a>04908       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_c_p_axis.html#a28353081e0ff35c3fe5ced923a287faa">mSubTickVector</a>.size(); ++i) <span class="comment">// no need to check bounds because subticks are always only created inside current mRange</span>
<a name="l04909"></a>04909       {
<a name="l04910"></a>04910         t = <a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(<a class="code" href="class_q_c_p_axis.html#a28353081e0ff35c3fe5ced923a287faa">mSubTickVector</a>.at(i));
<a name="l04911"></a>04911         painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(t+xCor, origin.y()-<a class="code" href="class_q_c_p_axis.html#ae0342609ad543c2667673d75b43d9dbb">mSubTickLengthOut</a>*tickDir+yCor, t+xCor, origin.y()+<a class="code" href="class_q_c_p_axis.html#a6c1400cfa6fb129a6686797fb5ca0307">mSubTickLengthIn</a>*tickDir+yCor));
<a name="l04912"></a>04912       }
<a name="l04913"></a>04913     } <span class="keywordflow">else</span>
<a name="l04914"></a>04914     {
<a name="l04915"></a>04915       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_c_p_axis.html#a28353081e0ff35c3fe5ced923a287faa">mSubTickVector</a>.size(); ++i)
<a name="l04916"></a>04916       {
<a name="l04917"></a>04917         t = <a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(<a class="code" href="class_q_c_p_axis.html#a28353081e0ff35c3fe5ced923a287faa">mSubTickVector</a>.at(i));
<a name="l04918"></a>04918         painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(origin.x()-<a class="code" href="class_q_c_p_axis.html#ae0342609ad543c2667673d75b43d9dbb">mSubTickLengthOut</a>*tickDir+xCor, t+yCor, origin.x()+<a class="code" href="class_q_c_p_axis.html#a6c1400cfa6fb129a6686797fb5ca0307">mSubTickLengthIn</a>*tickDir+xCor, t+yCor));
<a name="l04919"></a>04919       }
<a name="l04920"></a>04920     }
<a name="l04921"></a>04921   }
<a name="l04922"></a>04922   margin += qMax(0, qMax(<a class="code" href="class_q_c_p_axis.html#a2951f26d8a504d330157e05063513809">mTickLengthOut</a>, <a class="code" href="class_q_c_p_axis.html#ae0342609ad543c2667673d75b43d9dbb">mSubTickLengthOut</a>));
<a name="l04923"></a>04923   
<a name="l04924"></a>04924   <span class="comment">// tick labels:</span>
<a name="l04925"></a>04925   QSize tickLabelsSize(0, 0); <span class="comment">// size of largest tick label, for offset calculation of axis label</span>
<a name="l04926"></a>04926   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a3e4315be072026644e69009557a2fa11">mTickLabels</a>)
<a name="l04927"></a>04927   {
<a name="l04928"></a>04928     margin += <a class="code" href="class_q_c_p_axis.html#ab3f2f5d923c83d952922149d0d1e2eb1">mTickLabelPadding</a>;
<a name="l04929"></a>04929     painter-&gt;setFont(<a class="code" href="class_q_c_p_axis.html#aef30b66668986523225089a67280ec7a">getTickLabelFont</a>());
<a name="l04930"></a>04930     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(QPen(<a class="code" href="class_q_c_p_axis.html#a0f8583f7ac24ccc70d39fdd2389cad6e">getTickLabelColor</a>()));
<a name="l04931"></a>04931     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=lowTick; i &lt;= highTick; ++i)
<a name="l04932"></a>04932     {
<a name="l04933"></a>04933       t = <a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(<a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.at(i));
<a name="l04934"></a>04934       <a class="code" href="class_q_c_p_axis.html#a436ea8b8621fa3b897d3ca23b48d990a">drawTickLabel</a>(painter, t, margin, <a class="code" href="class_q_c_p_axis.html#aeee4bd0fca3f587eafe33843d1cb4f82">mTickVectorLabels</a>.at(i), &amp;tickLabelsSize);
<a name="l04935"></a>04935     }
<a name="l04936"></a>04936   }
<a name="l04937"></a>04937   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Horizontal)
<a name="l04938"></a>04938     margin += tickLabelsSize.height();
<a name="l04939"></a>04939   <span class="keywordflow">else</span>
<a name="l04940"></a>04940     margin += tickLabelsSize.width();
<a name="l04941"></a>04941 
<a name="l04942"></a>04942   <span class="comment">// axis label:</span>
<a name="l04943"></a>04943   QRect labelBounds;
<a name="l04944"></a>04944   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_axis.html#ae8001dbdfc47685c1cf7b98b044460e6">mLabel</a>.isEmpty())
<a name="l04945"></a>04945   {
<a name="l04946"></a>04946     margin += <a class="code" href="class_q_c_p_axis.html#ae392a7c1a88a58765a7ed899642d248a">mLabelPadding</a>;
<a name="l04947"></a>04947     painter-&gt;setFont(<a class="code" href="class_q_c_p_axis.html#ab0768eb2879efb202645d19ff789e63e">getLabelFont</a>());
<a name="l04948"></a>04948     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(QPen(<a class="code" href="class_q_c_p_axis.html#a42bd69b9e9c571f13624079be18ccdc1">getLabelColor</a>()));
<a name="l04949"></a>04949     labelBounds = painter-&gt;fontMetrics().boundingRect(0, 0, 0, 0, Qt::TextDontClip, <a class="code" href="class_q_c_p_axis.html#ae8001dbdfc47685c1cf7b98b044460e6">mLabel</a>);
<a name="l04950"></a>04950     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ae704bf9f2c2b026f08dd4ccad79c616e">mAxisType</a> == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aaf84aa6cac6fb6099f54a2cbf7546b730" title="Axis is vertical and on the left side of the axis rect of the parent QCustomPlot.">atLeft</a>)
<a name="l04951"></a>04951     {
<a name="l04952"></a>04952       QTransform oldTransform = painter-&gt;transform();
<a name="l04953"></a>04953       painter-&gt;translate((origin.x()-margin-labelBounds.height()), origin.y());
<a name="l04954"></a>04954       painter-&gt;rotate(-90);
<a name="l04955"></a>04955       painter-&gt;drawText(0, 0, <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.height(), labelBounds.height(), Qt::TextDontClip | Qt::AlignCenter, <a class="code" href="class_q_c_p_axis.html#ae8001dbdfc47685c1cf7b98b044460e6">mLabel</a>);
<a name="l04956"></a>04956       painter-&gt;setTransform(oldTransform);
<a name="l04957"></a>04957     }
<a name="l04958"></a>04958     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ae704bf9f2c2b026f08dd4ccad79c616e">mAxisType</a> == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aadf5509f7d29199ef2f263b1dd224b345" title="Axis is vertical and on the right side of the axis rect of the parent QCustomPlot.">atRight</a>)
<a name="l04959"></a>04959     {
<a name="l04960"></a>04960       QTransform oldTransform = painter-&gt;transform();
<a name="l04961"></a>04961       painter-&gt;translate((origin.x()+margin+labelBounds.height()), origin.y()-<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.height());
<a name="l04962"></a>04962       painter-&gt;rotate(90);
<a name="l04963"></a>04963       painter-&gt;drawText(0, 0, <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.height(), labelBounds.height(), Qt::TextDontClip | Qt::AlignCenter, <a class="code" href="class_q_c_p_axis.html#ae8001dbdfc47685c1cf7b98b044460e6">mLabel</a>);
<a name="l04964"></a>04964       painter-&gt;setTransform(oldTransform);
<a name="l04965"></a>04965     }
<a name="l04966"></a>04966     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ae704bf9f2c2b026f08dd4ccad79c616e">mAxisType</a> == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977" title="Axis is horizontal and on the top side of the axis rect of the parent QCustomPlot.">atTop</a>)
<a name="l04967"></a>04967       painter-&gt;drawText(origin.x(), origin.y()-margin-labelBounds.height(), <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.width(), labelBounds.height(), Qt::TextDontClip | Qt::AlignCenter, <a class="code" href="class_q_c_p_axis.html#ae8001dbdfc47685c1cf7b98b044460e6">mLabel</a>);
<a name="l04968"></a>04968     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ae704bf9f2c2b026f08dd4ccad79c616e">mAxisType</a> == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f" title="Axis is horizontal and on the bottom side of the axis rect of the parent QCustomPlot.">atBottom</a>)
<a name="l04969"></a>04969       painter-&gt;drawText(origin.x(), origin.y()+margin, <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.width(), labelBounds.height(), Qt::TextDontClip | Qt::AlignCenter, <a class="code" href="class_q_c_p_axis.html#ae8001dbdfc47685c1cf7b98b044460e6">mLabel</a>);
<a name="l04970"></a>04970   }
<a name="l04971"></a>04971   
<a name="l04972"></a>04972   <span class="comment">// set selection boxes:</span>
<a name="l04973"></a>04973   <span class="keywordtype">int</span> selAxisOutSize = qMax(qMax(<a class="code" href="class_q_c_p_axis.html#a2951f26d8a504d330157e05063513809">mTickLengthOut</a>, <a class="code" href="class_q_c_p_axis.html#ae0342609ad543c2667673d75b43d9dbb">mSubTickLengthOut</a>), <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a7b738074c75e80070ef6a10263c6cd69">selectionTolerance</a>());
<a name="l04974"></a>04974   <span class="keywordtype">int</span> selAxisInSize = <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a7b738074c75e80070ef6a10263c6cd69">selectionTolerance</a>();
<a name="l04975"></a>04975   <span class="keywordtype">int</span> selTickLabelSize = (<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>()==Qt::Horizontal ? tickLabelsSize.height() : tickLabelsSize.width());
<a name="l04976"></a>04976   <span class="keywordtype">int</span> selTickLabelOffset = qMax(<a class="code" href="class_q_c_p_axis.html#a2951f26d8a504d330157e05063513809">mTickLengthOut</a>, <a class="code" href="class_q_c_p_axis.html#ae0342609ad543c2667673d75b43d9dbb">mSubTickLengthOut</a>)+<a class="code" href="class_q_c_p_axis.html#ab3f2f5d923c83d952922149d0d1e2eb1">mTickLabelPadding</a>;
<a name="l04977"></a>04977   <span class="keywordtype">int</span> selLabelSize = labelBounds.height();
<a name="l04978"></a>04978   <span class="keywordtype">int</span> selLabelOffset = selTickLabelOffset+selTickLabelSize+<a class="code" href="class_q_c_p_axis.html#ae392a7c1a88a58765a7ed899642d248a">mLabelPadding</a>;
<a name="l04979"></a>04979   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ae704bf9f2c2b026f08dd4ccad79c616e">mAxisType</a> == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aaf84aa6cac6fb6099f54a2cbf7546b730" title="Axis is vertical and on the left side of the axis rect of the parent QCustomPlot.">atLeft</a>)
<a name="l04980"></a>04980   {
<a name="l04981"></a>04981     <a class="code" href="class_q_c_p_axis.html#a6185814615059cacf09fdb74a3e539d7">mAxisSelectionBox</a>.setCoords(<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left()-selAxisOutSize, <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.top(), <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left()+selAxisInSize, <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom());
<a name="l04982"></a>04982     <a class="code" href="class_q_c_p_axis.html#acca7a38191c1f4df06b9416d43172214">mTickLabelsSelectionBox</a>.setCoords(<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left()-selTickLabelOffset-selTickLabelSize, <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.top(), <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left()-selTickLabelOffset, <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom());
<a name="l04983"></a>04983     <a class="code" href="class_q_c_p_axis.html#a14fbf65daf2c38cbb0f2c4278a7929dd">mLabelSelectionBox</a>.setCoords(<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left()-selLabelOffset-selLabelSize, <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.top(), <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left()-selLabelOffset, <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom());
<a name="l04984"></a>04984   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ae704bf9f2c2b026f08dd4ccad79c616e">mAxisType</a> == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aadf5509f7d29199ef2f263b1dd224b345" title="Axis is vertical and on the right side of the axis rect of the parent QCustomPlot.">atRight</a>)
<a name="l04985"></a>04985   {
<a name="l04986"></a>04986     <a class="code" href="class_q_c_p_axis.html#a6185814615059cacf09fdb74a3e539d7">mAxisSelectionBox</a>.setCoords(<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.right()-selAxisInSize, <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.top(), <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.right()+selAxisOutSize, <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom());
<a name="l04987"></a>04987     <a class="code" href="class_q_c_p_axis.html#acca7a38191c1f4df06b9416d43172214">mTickLabelsSelectionBox</a>.setCoords(<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.right()+selTickLabelOffset+selTickLabelSize, <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.top(), <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.right()+selTickLabelOffset, <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom());
<a name="l04988"></a>04988     <a class="code" href="class_q_c_p_axis.html#a14fbf65daf2c38cbb0f2c4278a7929dd">mLabelSelectionBox</a>.setCoords(<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.right()+selLabelOffset+selLabelSize, <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.top(), <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.right()+selLabelOffset, <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom());
<a name="l04989"></a>04989   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ae704bf9f2c2b026f08dd4ccad79c616e">mAxisType</a> == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977" title="Axis is horizontal and on the top side of the axis rect of the parent QCustomPlot.">atTop</a>)
<a name="l04990"></a>04990   {
<a name="l04991"></a>04991     <a class="code" href="class_q_c_p_axis.html#a6185814615059cacf09fdb74a3e539d7">mAxisSelectionBox</a>.setCoords(<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left(), <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.top()-selAxisOutSize, <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.right(), <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.top()+selAxisInSize);
<a name="l04992"></a>04992     <a class="code" href="class_q_c_p_axis.html#acca7a38191c1f4df06b9416d43172214">mTickLabelsSelectionBox</a>.setCoords(<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left(), <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.top()-selTickLabelOffset-selTickLabelSize, <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.right(), <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.top()-selTickLabelOffset);
<a name="l04993"></a>04993     <a class="code" href="class_q_c_p_axis.html#a14fbf65daf2c38cbb0f2c4278a7929dd">mLabelSelectionBox</a>.setCoords(<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left(), <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.top()-selLabelOffset-selLabelSize, <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.right(), <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.top()-selLabelOffset);
<a name="l04994"></a>04994   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ae704bf9f2c2b026f08dd4ccad79c616e">mAxisType</a> == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f" title="Axis is horizontal and on the bottom side of the axis rect of the parent QCustomPlot.">atBottom</a>)
<a name="l04995"></a>04995   {
<a name="l04996"></a>04996     <a class="code" href="class_q_c_p_axis.html#a6185814615059cacf09fdb74a3e539d7">mAxisSelectionBox</a>.setCoords(<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left(), <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom()-selAxisInSize, <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.right(), <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom()+selAxisOutSize);
<a name="l04997"></a>04997     <a class="code" href="class_q_c_p_axis.html#acca7a38191c1f4df06b9416d43172214">mTickLabelsSelectionBox</a>.setCoords(<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left(), <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom()+selTickLabelOffset+selTickLabelSize, <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.right(), <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom()+selTickLabelOffset);
<a name="l04998"></a>04998     <a class="code" href="class_q_c_p_axis.html#a14fbf65daf2c38cbb0f2c4278a7929dd">mLabelSelectionBox</a>.setCoords(<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left(), <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom()+selLabelOffset+selLabelSize, <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.right(), <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom()+selLabelOffset);
<a name="l04999"></a>04999   }
<a name="l05000"></a>05000   <span class="comment">// draw hitboxes for debug purposes:</span>
<a name="l05001"></a>05001   <span class="comment">//painter-&gt;drawRects(QVector&lt;QRect&gt;() &lt;&lt; mAxisSelectionBox &lt;&lt; mTickLabelsSelectionBox &lt;&lt; mLabelSelectionBox);</span>
<a name="l05002"></a>05002 }
<a name="l05003"></a>05003 
<a name="l05025"></a><a class="code" href="class_q_c_p_axis.html#a436ea8b8621fa3b897d3ca23b48d990a">05025</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a436ea8b8621fa3b897d3ca23b48d990a">QCPAxis::drawTickLabel</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter, <span class="keywordtype">double</span> position, <span class="keywordtype">int</span> distanceToAxis, <span class="keyword">const</span> QString &amp;text, QSize *tickLabelsSize)
<a name="l05026"></a>05026 {
<a name="l05027"></a>05027   <span class="comment">// warning: if you change anything here, also adapt getMaxTickLabelSize() accordingly!</span>
<a name="l05028"></a>05028   
<a name="l05029"></a>05029   <span class="comment">// determine whether beautiful decimal powers should be used</span>
<a name="l05030"></a>05030   <span class="keywordtype">bool</span> useBeautifulPowers = <span class="keyword">false</span>;
<a name="l05031"></a>05031   <span class="keywordtype">int</span> ePos = -1;
<a name="l05032"></a>05032   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a721e496b342f272078c5ff84564e472f">mAutoTickLabels</a> &amp;&amp; <a class="code" href="class_q_c_p_axis.html#af03809bee3f3e35fcc38d25b6dd5003b">mNumberBeautifulPowers</a> &amp;&amp; <a class="code" href="class_q_c_p_axis.html#a6e056c1cb1aab0eddebfebbcb78c8f90">mTickLabelType</a> == <a class="code" href="class_q_c_p_axis.html#a4a7da0166f755f5abac23b765d184cada7f1eacf3b73adaefd334bea04e094b7e" title="Tick coordinate is regarded as normal number and will be displayed as such. (see setNumberFormat)">ltNumber</a>)
<a name="l05033"></a>05033   {
<a name="l05034"></a>05034     ePos = text.indexOf(<span class="charliteral">&#39;e&#39;</span>);
<a name="l05035"></a>05035     <span class="keywordflow">if</span> (ePos &gt; -1)
<a name="l05036"></a>05036       useBeautifulPowers = <span class="keyword">true</span>;
<a name="l05037"></a>05037   }
<a name="l05038"></a>05038   
<a name="l05039"></a>05039   <span class="comment">// calculate text bounding rects and do string preparation for beautiful decimal powers:</span>
<a name="l05040"></a>05040   QRect bounds, baseBounds, expBounds;
<a name="l05041"></a>05041   QString basePart, expPart;
<a name="l05042"></a>05042   QFont bugFixFont(painter-&gt;font());
<a name="l05043"></a>05043   bugFixFont.setPointSizeF(bugFixFont.pointSizeF()+0.05); <span class="comment">// QFontMetrics.boundingRect has a bug for exact point sizes that make the results oscillate due to internal rounding </span>
<a name="l05044"></a>05044   QFont expFont;
<a name="l05045"></a>05045   <span class="keywordflow">if</span> (useBeautifulPowers)
<a name="l05046"></a>05046   {
<a name="l05047"></a>05047     <span class="comment">// split string parts for part of number/symbol that will be drawn normally and part that will be drawn as exponent:</span>
<a name="l05048"></a>05048     basePart = text.left(ePos);
<a name="l05049"></a>05049     <span class="comment">// in log scaling, we want to turn &quot;1*10^n&quot; into &quot;10^n&quot;, else add multiplication sign and decimal base:</span>
<a name="l05050"></a>05050     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ad706039549cbbbec5fcb2baf7894e04d">mScaleType</a> == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0abf5b785ad976618816dc6f79b73216d4" title="Logarithmic scaling with correspondingly transformed plots and (major) tick marks at every base power...">stLogarithmic</a> &amp;&amp; basePart == <span class="stringliteral">&quot;1&quot;</span>)
<a name="l05051"></a>05051       basePart = <span class="stringliteral">&quot;10&quot;</span>;
<a name="l05052"></a>05052     <span class="keywordflow">else</span>
<a name="l05053"></a>05053       basePart += (<a class="code" href="class_q_c_p_axis.html#aebf0367d8645d2e05b93a0952b7e805b">mNumberMultiplyCross</a> ? QString(QChar(215)) : QString(QChar(183))) + <span class="stringliteral">&quot;10&quot;</span>;
<a name="l05054"></a>05054     expPart = text.mid(ePos+1);
<a name="l05055"></a>05055     <span class="comment">// clip &quot;+&quot; and leading zeros off expPart:</span>
<a name="l05056"></a>05056     <span class="keywordflow">while</span> (expPart.at(1) == <span class="charliteral">&#39;0&#39;</span> &amp;&amp; expPart.length() &gt; 2) <span class="comment">// length &gt; 2 so we leave one zero when numberFormatChar is &#39;e&#39;</span>
<a name="l05057"></a>05057       expPart.remove(1, 1);
<a name="l05058"></a>05058     <span class="keywordflow">if</span> (expPart.at(0) == <a class="code" href="class_q_c_p_axis.html#ae99d47103ec8ba66959205b23991241b">mPositiveSignChar</a>)
<a name="l05059"></a>05059       expPart.remove(0, 1);
<a name="l05060"></a>05060     <span class="comment">// prepare smaller font for exponent:</span>
<a name="l05061"></a>05061     expFont = painter-&gt;font();
<a name="l05062"></a>05062     expFont.setPointSize(expFont.pointSize()*0.75);
<a name="l05063"></a>05063     <span class="comment">// calculate bounding rects of base part, exponent part and total one:</span>
<a name="l05064"></a>05064     QFontMetrics fontMetrics(bugFixFont);
<a name="l05065"></a>05065     baseBounds = fontMetrics.boundingRect(0, 0, 0, 0, Qt::TextDontClip, basePart);
<a name="l05066"></a>05066     QFontMetrics expFontMetrics(expFont);
<a name="l05067"></a>05067     expBounds = expFontMetrics.boundingRect(0, 0, 0, 0, Qt::TextDontClip, expPart);
<a name="l05068"></a>05068     bounds = baseBounds.adjusted(0, 0, expBounds.width(), 0);
<a name="l05069"></a>05069   } <span class="keywordflow">else</span> <span class="comment">// useBeautifulPowers == false</span>
<a name="l05070"></a>05070   {
<a name="l05071"></a>05071     QFontMetrics fontMetrics(bugFixFont);
<a name="l05072"></a>05072     bounds = fontMetrics.boundingRect(0, 0, 0, 0, Qt::TextDontClip | Qt::AlignHCenter, text);
<a name="l05073"></a>05073   }
<a name="l05074"></a>05074   
<a name="l05075"></a>05075   <span class="comment">// if using rotated tick labels, transform bounding rect, too:</span>
<a name="l05076"></a>05076   QRect rotatedBounds = bounds;
<a name="l05077"></a>05077   <span class="keywordflow">if</span> (!qFuzzyIsNull(<a class="code" href="class_q_c_p_axis.html#a47660c8694884cdb87495bf8b4c8a3b9">mTickLabelRotation</a>))
<a name="l05078"></a>05078   {
<a name="l05079"></a>05079     QTransform transform;
<a name="l05080"></a>05080     transform.rotate(<a class="code" href="class_q_c_p_axis.html#a47660c8694884cdb87495bf8b4c8a3b9">mTickLabelRotation</a>);
<a name="l05081"></a>05081     rotatedBounds = transform.mapRect(bounds);
<a name="l05082"></a>05082   }
<a name="l05083"></a>05083   <span class="comment">// expand passed tickLabelsSize if current tick label is larger:</span>
<a name="l05084"></a>05084   <span class="keywordflow">if</span> (rotatedBounds.width() &gt; tickLabelsSize-&gt;width()) 
<a name="l05085"></a>05085     tickLabelsSize-&gt;setWidth(rotatedBounds.width());
<a name="l05086"></a>05086   <span class="keywordflow">if</span> (rotatedBounds.height() &gt; tickLabelsSize-&gt;height())
<a name="l05087"></a>05087     tickLabelsSize-&gt;setHeight(rotatedBounds.height());
<a name="l05088"></a>05088   
<a name="l05089"></a>05089   <span class="comment">/*</span>
<a name="l05090"></a>05090 <span class="comment">    calculate coordinates (non-trivial, for best visual appearance): short explanation for bottom</span>
<a name="l05091"></a>05091 <span class="comment">    axis: The anchor, i.e. the point in the label that is placed horizontally under the</span>
<a name="l05092"></a>05092 <span class="comment">    corresponding tick is always on the label side that is closer to the axis (e.g. the left side</span>
<a name="l05093"></a>05093 <span class="comment">    of the text when we&#39;re rotating clockwise). On that side, the height is halved and the</span>
<a name="l05094"></a>05094 <span class="comment">    resulting point is defined the anchor. This way, a 90 degree rotated text will be centered</span>
<a name="l05095"></a>05095 <span class="comment">    under the tick (i.e. displaced horizontally by half its height). At the same time, a 45 degree</span>
<a name="l05096"></a>05096 <span class="comment">    rotated text will &quot;point toward&quot; its tick, as is typical for rotated tick labels.</span>
<a name="l05097"></a>05097 <span class="comment">  */</span>
<a name="l05098"></a>05098   <span class="keywordtype">bool</span> doRotation = !qFuzzyIsNull(<a class="code" href="class_q_c_p_axis.html#a47660c8694884cdb87495bf8b4c8a3b9">mTickLabelRotation</a>);
<a name="l05099"></a>05099   <span class="keywordtype">double</span> radians = <a class="code" href="class_q_c_p_axis.html#a47660c8694884cdb87495bf8b4c8a3b9">mTickLabelRotation</a>/180.0*M_PI;
<a name="l05100"></a>05100   <span class="keywordtype">int</span> x=0,y=0;
<a name="l05101"></a>05101   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ae704bf9f2c2b026f08dd4ccad79c616e">mAxisType</a> == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aaf84aa6cac6fb6099f54a2cbf7546b730" title="Axis is vertical and on the left side of the axis rect of the parent QCustomPlot.">atLeft</a>)
<a name="l05102"></a>05102   {
<a name="l05103"></a>05103     <span class="keywordflow">if</span> (doRotation)
<a name="l05104"></a>05104     {
<a name="l05105"></a>05105       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a47660c8694884cdb87495bf8b4c8a3b9">mTickLabelRotation</a> &gt; 0)
<a name="l05106"></a>05106       {
<a name="l05107"></a>05107         x = <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left()-qCos(radians)*bounds.width()-distanceToAxis;
<a name="l05108"></a>05108         y = position-qSin(radians)*bounds.width()-qCos(radians)*bounds.height()/2.0;
<a name="l05109"></a>05109       } <span class="keywordflow">else</span>
<a name="l05110"></a>05110       {
<a name="l05111"></a>05111         x = <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left()-qCos(-radians)*bounds.width()-qSin(-radians)*bounds.height()-distanceToAxis;
<a name="l05112"></a>05112         y = position+qSin(-radians)*bounds.width()-qCos(-radians)*bounds.height()/2.0;
<a name="l05113"></a>05113       }
<a name="l05114"></a>05114     } <span class="keywordflow">else</span>
<a name="l05115"></a>05115     {
<a name="l05116"></a>05116       x = <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left()-bounds.width()-distanceToAxis;
<a name="l05117"></a>05117       y = position-bounds.height()/2.0;
<a name="l05118"></a>05118     }
<a name="l05119"></a>05119   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ae704bf9f2c2b026f08dd4ccad79c616e">mAxisType</a> == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aadf5509f7d29199ef2f263b1dd224b345" title="Axis is vertical and on the right side of the axis rect of the parent QCustomPlot.">atRight</a>)
<a name="l05120"></a>05120   {
<a name="l05121"></a>05121     <span class="keywordflow">if</span> (doRotation)
<a name="l05122"></a>05122     {
<a name="l05123"></a>05123       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a47660c8694884cdb87495bf8b4c8a3b9">mTickLabelRotation</a> &gt; 0)
<a name="l05124"></a>05124       {
<a name="l05125"></a>05125         x = <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.right()+qSin(radians)*bounds.height()+distanceToAxis;
<a name="l05126"></a>05126         y = position-qCos(radians)*bounds.height()/2.0;
<a name="l05127"></a>05127       } <span class="keywordflow">else</span>
<a name="l05128"></a>05128       {
<a name="l05129"></a>05129         x = <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.right()+distanceToAxis;
<a name="l05130"></a>05130         y = position-qCos(-radians)*bounds.height()/2.0;
<a name="l05131"></a>05131       }
<a name="l05132"></a>05132     } <span class="keywordflow">else</span>
<a name="l05133"></a>05133     {
<a name="l05134"></a>05134       x = <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.right()+distanceToAxis;
<a name="l05135"></a>05135       y = position-bounds.height()/2.0;
<a name="l05136"></a>05136     }
<a name="l05137"></a>05137   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ae704bf9f2c2b026f08dd4ccad79c616e">mAxisType</a> == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977" title="Axis is horizontal and on the top side of the axis rect of the parent QCustomPlot.">atTop</a>)
<a name="l05138"></a>05138   {
<a name="l05139"></a>05139     <span class="keywordflow">if</span> (doRotation)
<a name="l05140"></a>05140     {
<a name="l05141"></a>05141       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a47660c8694884cdb87495bf8b4c8a3b9">mTickLabelRotation</a> &gt; 0)
<a name="l05142"></a>05142       {
<a name="l05143"></a>05143         x = position-qCos(radians)*bounds.width()+qSin(radians)*bounds.height()/2.0;
<a name="l05144"></a>05144         y = <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.top()-qSin(radians)*bounds.width()-qCos(radians)*bounds.height()-distanceToAxis;
<a name="l05145"></a>05145       } <span class="keywordflow">else</span>
<a name="l05146"></a>05146       {
<a name="l05147"></a>05147         x = position-qSin(-radians)*bounds.height()/2.0;
<a name="l05148"></a>05148         y = <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.top()-qCos(-radians)*bounds.height()-distanceToAxis;
<a name="l05149"></a>05149       }
<a name="l05150"></a>05150     } <span class="keywordflow">else</span>
<a name="l05151"></a>05151     {
<a name="l05152"></a>05152       x = position-bounds.width()/2.0;
<a name="l05153"></a>05153       y = <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.top()-bounds.height()-distanceToAxis;
<a name="l05154"></a>05154     }
<a name="l05155"></a>05155   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ae704bf9f2c2b026f08dd4ccad79c616e">mAxisType</a> == <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f" title="Axis is horizontal and on the bottom side of the axis rect of the parent QCustomPlot.">atBottom</a>)
<a name="l05156"></a>05156   {
<a name="l05157"></a>05157     <span class="keywordflow">if</span> (doRotation)
<a name="l05158"></a>05158     {
<a name="l05159"></a>05159       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a47660c8694884cdb87495bf8b4c8a3b9">mTickLabelRotation</a> &gt; 0)
<a name="l05160"></a>05160       {
<a name="l05161"></a>05161         x = position+qSin(radians)*bounds.height()/2.0;
<a name="l05162"></a>05162         y = <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom()+distanceToAxis;
<a name="l05163"></a>05163       } <span class="keywordflow">else</span>
<a name="l05164"></a>05164       {
<a name="l05165"></a>05165         x = position-qCos(-radians)*bounds.width()-qSin(-radians)*bounds.height()/2.0;
<a name="l05166"></a>05166         y = <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom()+qSin(-radians)*bounds.width()+distanceToAxis;
<a name="l05167"></a>05167       }
<a name="l05168"></a>05168     } <span class="keywordflow">else</span>
<a name="l05169"></a>05169     {
<a name="l05170"></a>05170       x = position-bounds.width()/2.0;
<a name="l05171"></a>05171       y = <a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom()+distanceToAxis;
<a name="l05172"></a>05172     }
<a name="l05173"></a>05173   }
<a name="l05174"></a>05174   
<a name="l05175"></a>05175   <span class="comment">// if label would be partly clipped by widget border on sides, don&#39;t draw it:</span>
<a name="l05176"></a>05176   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Horizontal)
<a name="l05177"></a>05177   {
<a name="l05178"></a>05178     <span class="keywordflow">if</span> (x+bounds.width() &gt; <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#ac0a7c38a715526c257cff95774f83ab6">mViewport</a>.right() ||
<a name="l05179"></a>05179         x &lt; <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#ac0a7c38a715526c257cff95774f83ab6">mViewport</a>.left())
<a name="l05180"></a>05180       <span class="keywordflow">return</span>;
<a name="l05181"></a>05181   } <span class="keywordflow">else</span>
<a name="l05182"></a>05182   {
<a name="l05183"></a>05183     <span class="keywordflow">if</span> (y+bounds.height() &gt; <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#ac0a7c38a715526c257cff95774f83ab6">mViewport</a>.bottom() ||
<a name="l05184"></a>05184         y &lt; <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#ac0a7c38a715526c257cff95774f83ab6">mViewport</a>.top())
<a name="l05185"></a>05185       <span class="keywordflow">return</span>;
<a name="l05186"></a>05186   }
<a name="l05187"></a>05187   
<a name="l05188"></a>05188   <span class="comment">// transform painter to position/rotation:</span>
<a name="l05189"></a>05189   QTransform oldTransform = painter-&gt;transform();
<a name="l05190"></a>05190   painter-&gt;translate(x, y);
<a name="l05191"></a>05191   <span class="keywordflow">if</span> (doRotation)
<a name="l05192"></a>05192     painter-&gt;rotate(<a class="code" href="class_q_c_p_axis.html#a47660c8694884cdb87495bf8b4c8a3b9">mTickLabelRotation</a>);
<a name="l05193"></a>05193   <span class="comment">// draw text:</span>
<a name="l05194"></a>05194   <span class="keywordflow">if</span> (useBeautifulPowers)
<a name="l05195"></a>05195   {
<a name="l05196"></a>05196     <span class="comment">// draw base:</span>
<a name="l05197"></a>05197     painter-&gt;drawText(0, 0, 0, 0, Qt::TextDontClip, basePart);
<a name="l05198"></a>05198     <span class="comment">// draw exponent:</span>
<a name="l05199"></a>05199     QFont normalFont = painter-&gt;font();
<a name="l05200"></a>05200     painter-&gt;setFont(expFont);
<a name="l05201"></a>05201     painter-&gt;drawText(baseBounds.width()+1, 0, expBounds.width(), expBounds.height(), Qt::TextDontClip,  expPart);
<a name="l05202"></a>05202     painter-&gt;setFont(normalFont);
<a name="l05203"></a>05203   } <span class="keywordflow">else</span> <span class="comment">// useBeautifulPowers == false</span>
<a name="l05204"></a>05204   {
<a name="l05205"></a>05205     painter-&gt;drawText(0, 0, bounds.width(), bounds.height(), Qt::TextDontClip | Qt::AlignHCenter, text);
<a name="l05206"></a>05206   }
<a name="l05207"></a>05207   
<a name="l05208"></a>05208   <span class="comment">// reset rotation/translation transform to what it was before:</span>
<a name="l05209"></a>05209   painter-&gt;setTransform(oldTransform);
<a name="l05210"></a>05210 }
<a name="l05211"></a>05211 
<a name="l05219"></a><a class="code" href="class_q_c_p_axis.html#aca8025b82a43a4627eb87db9026a69c0">05219</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#aca8025b82a43a4627eb87db9026a69c0">QCPAxis::getMaxTickLabelSize</a>(<span class="keyword">const</span> QFont &amp;font, <span class="keyword">const</span> QString &amp;text,  QSize *tickLabelsSize)<span class="keyword"> const</span>
<a name="l05220"></a>05220 <span class="keyword"></span>{
<a name="l05221"></a>05221   <span class="comment">// This function does the same as drawTickLabel but omits the actual drawing</span>
<a name="l05222"></a>05222   <span class="comment">// changes involve creating extra QFontMetrics instances for font, since painter-&gt;fontMetrics() isn&#39;t available</span>
<a name="l05223"></a>05223   
<a name="l05224"></a>05224   <span class="comment">// determine whether beautiful powers should be used</span>
<a name="l05225"></a>05225   <span class="keywordtype">bool</span> useBeautifulPowers = <span class="keyword">false</span>;
<a name="l05226"></a>05226   <span class="keywordtype">int</span> ePos=-1;
<a name="l05227"></a>05227   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a721e496b342f272078c5ff84564e472f">mAutoTickLabels</a> &amp;&amp; <a class="code" href="class_q_c_p_axis.html#af03809bee3f3e35fcc38d25b6dd5003b">mNumberBeautifulPowers</a> &amp;&amp; <a class="code" href="class_q_c_p_axis.html#a6e056c1cb1aab0eddebfebbcb78c8f90">mTickLabelType</a> == <a class="code" href="class_q_c_p_axis.html#a4a7da0166f755f5abac23b765d184cada7f1eacf3b73adaefd334bea04e094b7e" title="Tick coordinate is regarded as normal number and will be displayed as such. (see setNumberFormat)">ltNumber</a>)
<a name="l05228"></a>05228   {
<a name="l05229"></a>05229     ePos = text.indexOf(<a class="code" href="class_q_c_p_axis.html#a0ec9dbb79704be01f780d34c6f57a08e">mExponentialChar</a>);
<a name="l05230"></a>05230     <span class="keywordflow">if</span> (ePos &gt; -1)
<a name="l05231"></a>05231       useBeautifulPowers = <span class="keyword">true</span>;
<a name="l05232"></a>05232   }
<a name="l05233"></a>05233   
<a name="l05234"></a>05234   <span class="comment">// calculate and draw text, depending on whether beautiful powers are applicable or not:</span>
<a name="l05235"></a>05235   QRect bounds, baseBounds, expBounds;
<a name="l05236"></a>05236   QString basePart, expPart;
<a name="l05237"></a>05237   QFont bugFixFont(font);
<a name="l05238"></a>05238   bugFixFont.setPointSizeF(bugFixFont.pointSizeF()+0.05); <span class="comment">// QFontMetrics.boundingRect has a bug for exact point sizes that make the results oscillate due to internal rounding </span>
<a name="l05239"></a>05239   QFont expFont;
<a name="l05240"></a>05240   <span class="keywordflow">if</span> (useBeautifulPowers)
<a name="l05241"></a>05241   {
<a name="l05242"></a>05242     <span class="comment">// split string parts for part of number/symbol that will be drawn normally and part that will be drawn as exponent:</span>
<a name="l05243"></a>05243     basePart = text.left(ePos);
<a name="l05244"></a>05244     <span class="comment">// in log scaling, we want to turn &quot;1*10^n&quot; into &quot;10^n&quot;, else add multiplication sign and decimal base:</span>
<a name="l05245"></a>05245     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#ad706039549cbbbec5fcb2baf7894e04d">mScaleType</a> == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0abf5b785ad976618816dc6f79b73216d4" title="Logarithmic scaling with correspondingly transformed plots and (major) tick marks at every base power...">stLogarithmic</a> &amp;&amp; basePart == <span class="stringliteral">&quot;1&quot;</span>)
<a name="l05246"></a>05246       basePart = <span class="stringliteral">&quot;10&quot;</span>;
<a name="l05247"></a>05247     <span class="keywordflow">else</span>
<a name="l05248"></a>05248       basePart += (<a class="code" href="class_q_c_p_axis.html#aebf0367d8645d2e05b93a0952b7e805b">mNumberMultiplyCross</a> ? QString(QChar(215)) : QString(QChar(183))) + <span class="stringliteral">&quot;10&quot;</span>;
<a name="l05249"></a>05249     expPart = text.mid(ePos+1);
<a name="l05250"></a>05250     <span class="comment">// clip &quot;+&quot; and leading zeros off expPart:</span>
<a name="l05251"></a>05251     <span class="keywordflow">while</span> (expPart.at(1) == <span class="charliteral">&#39;0&#39;</span> &amp;&amp; expPart.length() &gt; 2) <span class="comment">// length &gt; 2 so we leave one zero when numberFormatChar is &#39;e&#39;</span>
<a name="l05252"></a>05252       expPart.remove(1, 1);
<a name="l05253"></a>05253     <span class="keywordflow">if</span> (expPart.at(0) == <a class="code" href="class_q_c_p_axis.html#ae99d47103ec8ba66959205b23991241b">mPositiveSignChar</a>)
<a name="l05254"></a>05254       expPart.remove(0, 1);
<a name="l05255"></a>05255     <span class="comment">// prepare smaller font for exponent:</span>
<a name="l05256"></a>05256     expFont = font;
<a name="l05257"></a>05257     expFont.setPointSize(expFont.pointSize()*0.75);
<a name="l05258"></a>05258     <span class="comment">// calculate bounding rects of base part, exponent part and total one:</span>
<a name="l05259"></a>05259     QFontMetrics baseFontMetrics(bugFixFont);
<a name="l05260"></a>05260     baseBounds = baseFontMetrics.boundingRect(0, 0, 0, 0, Qt::TextDontClip, basePart);
<a name="l05261"></a>05261     QFontMetrics expFontMetrics(expFont);
<a name="l05262"></a>05262     expBounds = expFontMetrics.boundingRect(0, 0, 0, 0, Qt::TextDontClip, expPart);
<a name="l05263"></a>05263     bounds = baseBounds.adjusted(0, 0, expBounds.width(), 0); 
<a name="l05264"></a>05264   } <span class="keywordflow">else</span> <span class="comment">// useBeautifulPowers == false</span>
<a name="l05265"></a>05265   {
<a name="l05266"></a>05266     QFontMetrics fontMetrics(bugFixFont);
<a name="l05267"></a>05267     bounds = fontMetrics.boundingRect(0, 0, 0, 0, Qt::TextDontClip | Qt::AlignHCenter, text);
<a name="l05268"></a>05268   }
<a name="l05269"></a>05269   
<a name="l05270"></a>05270   <span class="comment">// if rotated tick labels, transform bounding rect, too:</span>
<a name="l05271"></a>05271   QRect rotatedBounds = bounds;
<a name="l05272"></a>05272   <span class="keywordflow">if</span> (!qFuzzyIsNull(<a class="code" href="class_q_c_p_axis.html#a47660c8694884cdb87495bf8b4c8a3b9">mTickLabelRotation</a>))
<a name="l05273"></a>05273   {
<a name="l05274"></a>05274     QTransform transform;
<a name="l05275"></a>05275     transform.rotate(<a class="code" href="class_q_c_p_axis.html#a47660c8694884cdb87495bf8b4c8a3b9">mTickLabelRotation</a>);
<a name="l05276"></a>05276     rotatedBounds = transform.mapRect(bounds);
<a name="l05277"></a>05277   }
<a name="l05278"></a>05278   
<a name="l05279"></a>05279   <span class="comment">// expand passed tickLabelsSize if current tick label is larger:</span>
<a name="l05280"></a>05280   <span class="keywordflow">if</span> (rotatedBounds.width() &gt; tickLabelsSize-&gt;width()) 
<a name="l05281"></a>05281     tickLabelsSize-&gt;setWidth(rotatedBounds.width());
<a name="l05282"></a>05282   <span class="keywordflow">if</span> (rotatedBounds.height() &gt; tickLabelsSize-&gt;height())
<a name="l05283"></a>05283     tickLabelsSize-&gt;setHeight(rotatedBounds.height());
<a name="l05284"></a>05284 }
<a name="l05285"></a>05285 
<a name="l05299"></a><a class="code" href="class_q_c_p_axis.html#ac68d1c81004fded1f3c4ca95879a445d">05299</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_c_p_axis.html#ac68d1c81004fded1f3c4ca95879a445d">QCPAxis::handleAxisSelection</a>(QMouseEvent *event, <span class="keywordtype">bool</span> additiveSelection, <span class="keywordtype">bool</span> &amp;modified)
<a name="l05300"></a>05300 {
<a name="l05301"></a>05301   <span class="keywordtype">bool</span> selectionFound = <span class="keyword">false</span>;
<a name="l05302"></a>05302   <span class="keywordflow">if</span> (event)
<a name="l05303"></a>05303   {
<a name="l05304"></a>05304     <a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115f">SelectablePart</a> selectedAxisPart = <a class="code" href="class_q_c_p_axis.html#a940be5ef61f4fa0dc21e4f4c7a5875c2">selectTest</a>(event-&gt;pos());
<a name="l05305"></a>05305     <span class="keywordflow">if</span> (selectedAxisPart == <a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115fae0df8123a5528d5ccf87cb7794f971ea" title="None of the selectable parts.">spNone</a> || !<a class="code" href="class_q_c_p_axis.html#a4e83e383fb5fbd9cf3759fab68f79aa6">selectable</a>().testFlag(selectedAxisPart))
<a name="l05306"></a>05306     {
<a name="l05307"></a>05307       <span class="comment">// deselect parts that are changeable (selectable):</span>
<a name="l05308"></a>05308       SelectableParts newState = <a class="code" href="class_q_c_p_axis.html#a534509949b91a6aa08e38cca48b62c9e">selected</a>() &amp; ~<a class="code" href="class_q_c_p_axis.html#a4e83e383fb5fbd9cf3759fab68f79aa6">selectable</a>();
<a name="l05309"></a>05309       <span class="keywordflow">if</span> (newState != <a class="code" href="class_q_c_p_axis.html#a534509949b91a6aa08e38cca48b62c9e">selected</a>() &amp;&amp; !additiveSelection)
<a name="l05310"></a>05310       {
<a name="l05311"></a>05311         modified = <span class="keyword">true</span>;
<a name="l05312"></a>05312         <a class="code" href="class_q_c_p_axis.html#a24c13908da2f8d629b1bbbe9cbd63e39">setSelected</a>(newState);
<a name="l05313"></a>05313       }
<a name="l05314"></a>05314     } <span class="keywordflow">else</span>
<a name="l05315"></a>05315     {
<a name="l05316"></a>05316       selectionFound = <span class="keyword">true</span>;
<a name="l05317"></a>05317       <span class="keywordflow">if</span> (additiveSelection)
<a name="l05318"></a>05318       {
<a name="l05319"></a>05319         <span class="comment">// additive selection, so toggle selected part:</span>
<a name="l05320"></a>05320         <a class="code" href="class_q_c_p_axis.html#a24c13908da2f8d629b1bbbe9cbd63e39">setSelected</a>(<a class="code" href="class_q_c_p_axis.html#a534509949b91a6aa08e38cca48b62c9e">selected</a>() ^ selectedAxisPart);
<a name="l05321"></a>05321         modified = <span class="keyword">true</span>;
<a name="l05322"></a>05322       } <span class="keywordflow">else</span>
<a name="l05323"></a>05323       {
<a name="l05324"></a>05324         <span class="comment">// not additive selection, so select part and deselect all others that are changeable (selectable):</span>
<a name="l05325"></a>05325         SelectableParts newState = (<a class="code" href="class_q_c_p_axis.html#a534509949b91a6aa08e38cca48b62c9e">selected</a>() &amp; ~<a class="code" href="class_q_c_p_axis.html#a4e83e383fb5fbd9cf3759fab68f79aa6">selectable</a>()) | selectedAxisPart;
<a name="l05326"></a>05326         <span class="keywordflow">if</span> (newState != <a class="code" href="class_q_c_p_axis.html#a534509949b91a6aa08e38cca48b62c9e">selected</a>())
<a name="l05327"></a>05327         {
<a name="l05328"></a>05328           modified = <span class="keyword">true</span>;
<a name="l05329"></a>05329           <a class="code" href="class_q_c_p_axis.html#a24c13908da2f8d629b1bbbe9cbd63e39">setSelected</a>(newState);
<a name="l05330"></a>05330         }
<a name="l05331"></a>05331       }
<a name="l05332"></a>05332     }
<a name="l05333"></a>05333   } <span class="keywordflow">else</span> <span class="comment">// event == 0, so deselect all changeable parts</span>
<a name="l05334"></a>05334   {
<a name="l05335"></a>05335     SelectableParts newState = <a class="code" href="class_q_c_p_axis.html#a534509949b91a6aa08e38cca48b62c9e">selected</a>() &amp; ~<a class="code" href="class_q_c_p_axis.html#a4e83e383fb5fbd9cf3759fab68f79aa6">selectable</a>();
<a name="l05336"></a>05336     <span class="keywordflow">if</span> (newState != <a class="code" href="class_q_c_p_axis.html#a534509949b91a6aa08e38cca48b62c9e">selected</a>())
<a name="l05337"></a>05337     {
<a name="l05338"></a>05338       modified = <span class="keyword">true</span>;
<a name="l05339"></a>05339       <a class="code" href="class_q_c_p_axis.html#a24c13908da2f8d629b1bbbe9cbd63e39">setSelected</a>(newState);
<a name="l05340"></a>05340     }
<a name="l05341"></a>05341   }
<a name="l05342"></a>05342   <span class="keywordflow">return</span> selectionFound;
<a name="l05343"></a>05343 }
<a name="l05344"></a>05344 
<a name="l05357"></a><a class="code" href="class_q_c_p_axis.html#a13bde39eb1e0b7c14a02935689be8aba">05357</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a13bde39eb1e0b7c14a02935689be8aba">QCPAxis::applyDefaultAntialiasingHint</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)<span class="keyword"> const</span>
<a name="l05358"></a>05358 <span class="keyword"></span>{
<a name="l05359"></a>05359   <a class="code" href="class_q_c_p_layerable.html#a62bd552d1a45aa9accb24b310542279e">applyAntialiasingHint</a>(painter, <a class="code" href="class_q_c_p_layerable.html#a3ab45a4c76a3333ce42eb217a81733ec">mAntialiased</a>, <a class="code" href="namespace_q_c_p.html#ae55dbe315d41fe80f29ba88100843a0caefa92e89cd37f8a081fd2075aa1af73f" title="0x0001 Axis base line and tick marks">QCP::aeAxes</a>);
<a name="l05360"></a>05360 }
<a name="l05361"></a>05361 
<a name="l05372"></a><a class="code" href="class_q_c_p_axis.html#a06320a944d1120732cc0d72fe1306d8b">05372</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_axis.html#a06320a944d1120732cc0d72fe1306d8b">QCPAxis::visibleTickBounds</a>(<span class="keywordtype">int</span> &amp;lowIndex, <span class="keywordtype">int</span> &amp;highIndex)<span class="keyword"> const</span>
<a name="l05373"></a>05373 <span class="keyword"></span>{
<a name="l05374"></a>05374   lowIndex = 0;
<a name="l05375"></a>05375   highIndex = -1;
<a name="l05376"></a>05376   <span class="comment">// make sure only ticks that are in visible range are returned</span>
<a name="l05377"></a>05377   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; <a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.size(); ++i)
<a name="l05378"></a>05378   {
<a name="l05379"></a>05379     lowIndex = i;
<a name="l05380"></a>05380     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.at(i) &gt;= <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>) <span class="keywordflow">break</span>;
<a name="l05381"></a>05381   }
<a name="l05382"></a>05382   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=<a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.size()-1; i &gt;= 0; --i)
<a name="l05383"></a>05383   {
<a name="l05384"></a>05384     highIndex = i;
<a name="l05385"></a>05385     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.at(i) &lt;= <a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>) <span class="keywordflow">break</span>;
<a name="l05386"></a>05386   }
<a name="l05387"></a>05387 }
<a name="l05388"></a>05388 
<a name="l05397"></a><a class="code" href="class_q_c_p_axis.html#a1385765db2419ee5fb5505a6cf9130fb">05397</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_axis.html#a1385765db2419ee5fb5505a6cf9130fb">QCPAxis::baseLog</a>(<span class="keywordtype">double</span> value)<span class="keyword"> const</span>
<a name="l05398"></a>05398 <span class="keyword"></span>{
<a name="l05399"></a>05399   <span class="keywordflow">return</span> qLn(value)*<a class="code" href="class_q_c_p_axis.html#a93e068984b475467929e7f6768754227">mScaleLogBaseLogInv</a>;
<a name="l05400"></a>05400 }
<a name="l05401"></a>05401 
<a name="l05409"></a><a class="code" href="class_q_c_p_axis.html#a97d69f021a05126fcb978d0aefea47b8">05409</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_axis.html#a97d69f021a05126fcb978d0aefea47b8">QCPAxis::basePow</a>(<span class="keywordtype">double</span> value)<span class="keyword"> const</span>
<a name="l05410"></a>05410 <span class="keyword"></span>{
<a name="l05411"></a>05411   <span class="keywordflow">return</span> qPow(<a class="code" href="class_q_c_p_axis.html#abc727ddb4af745151755d1b5e60d03c3">mScaleLogBase</a>, value);
<a name="l05412"></a>05412 }
<a name="l05413"></a>05413 
<a name="l05419"></a><a class="code" href="class_q_c_p_axis.html#a3eb0681d31baf579bb73b86a0153cb02">05419</a> QPen <a class="code" href="class_q_c_p_axis.html#a3eb0681d31baf579bb73b86a0153cb02">QCPAxis::getBasePen</a>()<span class="keyword"> const</span>
<a name="l05420"></a>05420 <span class="keyword"></span>{
<a name="l05421"></a>05421   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_axis.html#a08e1b62c634d80157f585206ebc30e37">mSelected</a>.testFlag(<a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115fa8949d2c1a31eccae9be7ed32e7a1ae38" title="The axis backbone and tick marks.">spAxis</a>) ? <a class="code" href="class_q_c_p_axis.html#a80baa4e3c16f9b6edf3eccacd2a50fde">mSelectedBasePen</a> : <a class="code" href="class_q_c_p_axis.html#ad6b4a0aee9558fb35529e960b8fef72d">mBasePen</a>;
<a name="l05422"></a>05422 }
<a name="l05423"></a>05423 
<a name="l05429"></a><a class="code" href="class_q_c_p_axis.html#a7f503910be40fb1717e1635be3ef17e1">05429</a> QPen <a class="code" href="class_q_c_p_axis.html#a7f503910be40fb1717e1635be3ef17e1">QCPAxis::getTickPen</a>()<span class="keyword"> const</span>
<a name="l05430"></a>05430 <span class="keyword"></span>{
<a name="l05431"></a>05431   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_axis.html#a08e1b62c634d80157f585206ebc30e37">mSelected</a>.testFlag(<a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115fa8949d2c1a31eccae9be7ed32e7a1ae38" title="The axis backbone and tick marks.">spAxis</a>) ? <a class="code" href="class_q_c_p_axis.html#a9524593dbc75a5c5b29dbd1cb4b37df5">mSelectedTickPen</a> : <a class="code" href="class_q_c_p_axis.html#a1d52c78c856d8bd1f331d4ec4e63d944">mTickPen</a>;
<a name="l05432"></a>05432 }
<a name="l05433"></a>05433 
<a name="l05439"></a><a class="code" href="class_q_c_p_axis.html#ab4f7e60a40eb051c775afcaeab895c85">05439</a> QPen <a class="code" href="class_q_c_p_axis.html#ab4f7e60a40eb051c775afcaeab895c85">QCPAxis::getSubTickPen</a>()<span class="keyword"> const</span>
<a name="l05440"></a>05440 <span class="keyword"></span>{
<a name="l05441"></a>05441   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_axis.html#a08e1b62c634d80157f585206ebc30e37">mSelected</a>.testFlag(<a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115fa8949d2c1a31eccae9be7ed32e7a1ae38" title="The axis backbone and tick marks.">spAxis</a>) ? <a class="code" href="class_q_c_p_axis.html#aa5cc6afc5dc2a365f5abbd36eb04a1dc">mSelectedSubTickPen</a> : <a class="code" href="class_q_c_p_axis.html#a32ef56d3a417866720eb12667d27dbd1">mSubTickPen</a>;
<a name="l05442"></a>05442 }
<a name="l05443"></a>05443 
<a name="l05449"></a><a class="code" href="class_q_c_p_axis.html#aef30b66668986523225089a67280ec7a">05449</a> QFont <a class="code" href="class_q_c_p_axis.html#aef30b66668986523225089a67280ec7a">QCPAxis::getTickLabelFont</a>()<span class="keyword"> const</span>
<a name="l05450"></a>05450 <span class="keyword"></span>{
<a name="l05451"></a>05451   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_axis.html#a08e1b62c634d80157f585206ebc30e37">mSelected</a>.testFlag(<a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115fa584e0a3dc4d064880647619f4bd4e771" title="Tick labels (numbers) of this axis (as a whole, not individually)">spTickLabels</a>) ? <a class="code" href="class_q_c_p_axis.html#a4f2e4919da9615dac612662c249b1119">mSelectedTickLabelFont</a> : <a class="code" href="class_q_c_p_axis.html#add79d1e39c4ed65869a1e9cc79043f3f">mTickLabelFont</a>;
<a name="l05452"></a>05452 }
<a name="l05453"></a>05453 
<a name="l05459"></a><a class="code" href="class_q_c_p_axis.html#ab0768eb2879efb202645d19ff789e63e">05459</a> QFont <a class="code" href="class_q_c_p_axis.html#ab0768eb2879efb202645d19ff789e63e">QCPAxis::getLabelFont</a>()<span class="keyword"> const</span>
<a name="l05460"></a>05460 <span class="keyword"></span>{
<a name="l05461"></a>05461   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_axis.html#a08e1b62c634d80157f585206ebc30e37">mSelected</a>.testFlag(<a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115fa851e0600e0d08b4f5fee9361e3fedabd" title="The axis label.">spAxisLabel</a>) ? <a class="code" href="class_q_c_p_axis.html#ae48fe3489afadc0b3cd003233e2bf19f">mSelectedLabelFont</a> : <a class="code" href="class_q_c_p_axis.html#a37442d470e30e19b81ecaf979a34d046">mLabelFont</a>;
<a name="l05462"></a>05462 }
<a name="l05463"></a>05463 
<a name="l05469"></a><a class="code" href="class_q_c_p_axis.html#a0f8583f7ac24ccc70d39fdd2389cad6e">05469</a> QColor <a class="code" href="class_q_c_p_axis.html#a0f8583f7ac24ccc70d39fdd2389cad6e">QCPAxis::getTickLabelColor</a>()<span class="keyword"> const</span>
<a name="l05470"></a>05470 <span class="keyword"></span>{
<a name="l05471"></a>05471   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_axis.html#a08e1b62c634d80157f585206ebc30e37">mSelected</a>.testFlag(<a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115fa584e0a3dc4d064880647619f4bd4e771" title="Tick labels (numbers) of this axis (as a whole, not individually)">spTickLabels</a>) ? <a class="code" href="class_q_c_p_axis.html#a3bcad40902f45dc4c991a2c3e4d31d70">mSelectedTickLabelColor</a> : <a class="code" href="class_q_c_p_axis.html#a6384a749b3b56a97df081d8082321ab4">mTickLabelColor</a>;
<a name="l05472"></a>05472 }
<a name="l05473"></a>05473 
<a name="l05479"></a><a class="code" href="class_q_c_p_axis.html#a42bd69b9e9c571f13624079be18ccdc1">05479</a> QColor <a class="code" href="class_q_c_p_axis.html#a42bd69b9e9c571f13624079be18ccdc1">QCPAxis::getLabelColor</a>()<span class="keyword"> const</span>
<a name="l05480"></a>05480 <span class="keyword"></span>{
<a name="l05481"></a>05481   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_axis.html#a08e1b62c634d80157f585206ebc30e37">mSelected</a>.testFlag(<a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115fa851e0600e0d08b4f5fee9361e3fedabd" title="The axis label.">spAxisLabel</a>) ? <a class="code" href="class_q_c_p_axis.html#a94f57de3ba024471ca206d83cf2258dd">mSelectedLabelColor</a> : <a class="code" href="class_q_c_p_axis.html#a457a003bb1c2b6ab73e5a173ba7558fd">mLabelColor</a>;
<a name="l05482"></a>05482 }
<a name="l05483"></a>05483 
<a name="l05499"></a><a class="code" href="class_q_c_p_axis.html#a10756afda0cd419fb24d09adb411dda7">05499</a> <span class="keywordtype">int</span> <a class="code" href="class_q_c_p_axis.html#a10756afda0cd419fb24d09adb411dda7">QCPAxis::calculateMargin</a>()<span class="keyword"> const</span>
<a name="l05500"></a>05500 <span class="keyword"></span>{
<a name="l05501"></a>05501   <span class="comment">// run through similar steps as QCPAxis::draw, and caluclate margin needed to fit axis and its labels</span>
<a name="l05502"></a>05502   <span class="keywordtype">int</span> margin = 0;
<a name="l05503"></a>05503   
<a name="l05504"></a>05504   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_layerable.html#a62e3aed8427d6ce3ccf716f285106cb3">mVisible</a>)
<a name="l05505"></a>05505   {
<a name="l05506"></a>05506     <span class="keywordtype">int</span> lowTick, highTick;
<a name="l05507"></a>05507     <a class="code" href="class_q_c_p_axis.html#a06320a944d1120732cc0d72fe1306d8b">visibleTickBounds</a>(lowTick, highTick);
<a name="l05508"></a>05508     <span class="comment">// get length of tick marks reaching outside axis rect:</span>
<a name="l05509"></a>05509     margin += qMax(0, qMax(<a class="code" href="class_q_c_p_axis.html#a2951f26d8a504d330157e05063513809">mTickLengthOut</a>, <a class="code" href="class_q_c_p_axis.html#ae0342609ad543c2667673d75b43d9dbb">mSubTickLengthOut</a>));
<a name="l05510"></a>05510     <span class="comment">// calculate size of tick labels:</span>
<a name="l05511"></a>05511     QSize tickLabelsSize(0, 0);
<a name="l05512"></a>05512     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a3e4315be072026644e69009557a2fa11">mTickLabels</a>)
<a name="l05513"></a>05513     {
<a name="l05514"></a>05514       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=lowTick; i &lt;= highTick; ++i)
<a name="l05515"></a>05515       {
<a name="l05516"></a>05516         <a class="code" href="class_q_c_p_axis.html#aca8025b82a43a4627eb87db9026a69c0">getMaxTickLabelSize</a>(<a class="code" href="class_q_c_p_axis.html#add79d1e39c4ed65869a1e9cc79043f3f">mTickLabelFont</a>, <a class="code" href="class_q_c_p_axis.html#aeee4bd0fca3f587eafe33843d1cb4f82">mTickVectorLabels</a>.at(i), &amp;tickLabelsSize); <span class="comment">// don&#39;t use getTickLabelFont() because we don&#39;t want margin to possibly change on selection</span>
<a name="l05517"></a>05517       }
<a name="l05518"></a>05518       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Horizontal)
<a name="l05519"></a>05519         margin += tickLabelsSize.height() + <a class="code" href="class_q_c_p_axis.html#ab3f2f5d923c83d952922149d0d1e2eb1">mTickLabelPadding</a>;
<a name="l05520"></a>05520       <span class="keywordflow">else</span>
<a name="l05521"></a>05521         margin += tickLabelsSize.width() + <a class="code" href="class_q_c_p_axis.html#ab3f2f5d923c83d952922149d0d1e2eb1">mTickLabelPadding</a>;
<a name="l05522"></a>05522     }
<a name="l05523"></a>05523     <span class="comment">// calculate size of axis label (only height needed, because left/right labels are rotated by 90 degrees):</span>
<a name="l05524"></a>05524     <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_axis.html#ae8001dbdfc47685c1cf7b98b044460e6">mLabel</a>.isEmpty())
<a name="l05525"></a>05525     {
<a name="l05526"></a>05526       QFontMetrics fontMetrics(<a class="code" href="class_q_c_p_axis.html#a37442d470e30e19b81ecaf979a34d046">mLabelFont</a>); <span class="comment">// don&#39;t use getLabelFont() because we don&#39;t want margin to possibly change on selection</span>
<a name="l05527"></a>05527       QRect bounds;
<a name="l05528"></a>05528       bounds = fontMetrics.boundingRect(0, 0, 0, 0, Qt::TextDontClip | Qt::AlignHCenter | Qt::AlignVCenter, <a class="code" href="class_q_c_p_axis.html#ae8001dbdfc47685c1cf7b98b044460e6">mLabel</a>);
<a name="l05529"></a>05529       margin += bounds.height() + <a class="code" href="class_q_c_p_axis.html#ae392a7c1a88a58765a7ed899642d248a">mLabelPadding</a>;
<a name="l05530"></a>05530     }
<a name="l05531"></a>05531   }
<a name="l05532"></a>05532   margin += <a class="code" href="class_q_c_p_axis.html#a52a805a4f03231210e0880db7f77e098">mPadding</a>;
<a name="l05533"></a>05533   
<a name="l05534"></a>05534   <span class="keywordflow">if</span> (margin &lt; 15) <span class="comment">// need a bit of margin if no axis text is shown at all (i.e. only baseline and tick lines, or no axis at all)</span>
<a name="l05535"></a>05535     margin = 15;
<a name="l05536"></a>05536   <span class="keywordflow">return</span> margin;
<a name="l05537"></a>05537 }
<a name="l05538"></a>05538 
<a name="l05539"></a>05539 
<a name="l05540"></a>05540 <span class="comment">// ================================================================================</span>
<a name="l05541"></a>05541 <span class="comment">// =================== QCustomPlot</span>
<a name="l05542"></a>05542 <span class="comment">// ================================================================================</span>
<a name="l05543"></a>05543 
<a name="l05551"></a>05551 <span class="comment">/* start of documentation of inline functions */</span>
<a name="l05552"></a>05552 
<a name="l05568"></a>05568 <span class="comment">/* end of documentation of inline functions */</span>
<a name="l05569"></a>05569 <span class="comment">/* start of documentation of signals */</span>
<a name="l05570"></a>05570 
<a name="l05750"></a>05750 <span class="comment">/* end of documentation of signals */</span>
<a name="l05751"></a>05751 
<a name="l05758"></a><a class="code" href="class_q_custom_plot.html#a45b99626558651a6428b83972b0b34b8">05758</a> <a class="code" href="class_q_custom_plot.html#a45b99626558651a6428b83972b0b34b8">QCustomPlot::QCustomPlot</a>(QWidget *parent) :
<a name="l05759"></a>05759   QWidget(parent),
<a name="l05760"></a>05760   mDragging(false),
<a name="l05761"></a>05761   mReplotting(false),
<a name="l05762"></a>05762   mPlottingHints(QCP::<a class="code" href="namespace_q_c_p.html#a5400e5fcb9528d92002ddb938c1f4ef4ab7283c5bfc1ba9e597015389880bda42" title="0x000 No hints are set">phNone</a>)
<a name="l05763"></a>05763 {
<a name="l05764"></a>05764   setAttribute(Qt::WA_NoMousePropagation);
<a name="l05765"></a>05765   setAttribute(Qt::WA_OpaquePaintEvent);
<a name="l05766"></a>05766   setMouseTracking(<span class="keyword">true</span>);
<a name="l05767"></a>05767   QLocale currentLocale = locale();
<a name="l05768"></a>05768   currentLocale.setNumberOptions(QLocale::OmitGroupSeparator);
<a name="l05769"></a>05769   setLocale(currentLocale);
<a name="l05770"></a>05770   
<a name="l05771"></a>05771   <span class="comment">// create very first layers:</span>
<a name="l05772"></a>05772   <a class="code" href="class_q_c_p_layer.html" title="A layer that may contain objects, to control the rendering order.">QCPLayer</a> *gridLayer = <span class="keyword">new</span> <a class="code" href="class_q_custom_plot.html#a5dbf96bf7664c1b6fce49063eeea6eef">QCPLayer</a>(<span class="keyword">this</span>, <span class="stringliteral">&quot;grid&quot;</span>);
<a name="l05773"></a>05773   <a class="code" href="class_q_c_p_layer.html" title="A layer that may contain objects, to control the rendering order.">QCPLayer</a> *mainLayer = <span class="keyword">new</span> <a class="code" href="class_q_custom_plot.html#a5dbf96bf7664c1b6fce49063eeea6eef">QCPLayer</a>(<span class="keyword">this</span>, <span class="stringliteral">&quot;main&quot;</span>);
<a name="l05774"></a>05774   <a class="code" href="class_q_c_p_layer.html" title="A layer that may contain objects, to control the rendering order.">QCPLayer</a> *axesLayer = <span class="keyword">new</span> <a class="code" href="class_q_custom_plot.html#a5dbf96bf7664c1b6fce49063eeea6eef">QCPLayer</a>(<span class="keyword">this</span>, <span class="stringliteral">&quot;axes&quot;</span>);
<a name="l05775"></a>05775   <a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.append(gridLayer);
<a name="l05776"></a>05776   <a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.append(mainLayer);
<a name="l05777"></a>05777   <a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.append(axesLayer);
<a name="l05778"></a>05778   <a class="code" href="class_q_custom_plot.html#a73a6dc47c653bb6f8f030abca5a11852">setCurrentLayer</a>(mainLayer);
<a name="l05779"></a>05779 
<a name="l05780"></a>05780   <a class="code" href="class_q_custom_plot.html#a753630df96e0672098d9e88bd41d1913">mPaintBuffer</a> = QPixmap(size());
<a name="l05781"></a>05781   <a class="code" href="class_q_custom_plot.html#a73da53368aa4c2db3d874cf0db50d140">legend</a> = <span class="keyword">new</span> <a class="code" href="class_q_custom_plot.html#a8429035e7adfbd7f05805a6530ad5e3b">QCPLegend</a>(<span class="keyword">this</span>);
<a name="l05782"></a>05782   <a class="code" href="class_q_custom_plot.html#a73da53368aa4c2db3d874cf0db50d140">legend</a>-&gt;<a class="code" href="class_q_c_p_layerable.html#a3bed99ddc396b48ce3ebfdc0418744f8">setVisible</a>(<span class="keyword">false</span>);
<a name="l05783"></a>05783   <a class="code" href="class_q_custom_plot.html#a73da53368aa4c2db3d874cf0db50d140">legend</a>-&gt;<a class="code" href="class_q_c_p_layerable.html#ab0d0da6d2de45a118886d2c8e16d5a54">setLayer</a>(axesLayer);
<a name="l05784"></a>05784   <a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a> = <span class="keyword">new</span> <a class="code" href="class_q_custom_plot.html#af123edeca169ec7a31958a1d714e1a8a">QCPAxis</a>(<span class="keyword">this</span>, <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f" title="Axis is horizontal and on the bottom side of the axis rect of the parent QCustomPlot.">QCPAxis::atBottom</a>);
<a name="l05785"></a>05785   <a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a> = <span class="keyword">new</span> <a class="code" href="class_q_custom_plot.html#af123edeca169ec7a31958a1d714e1a8a">QCPAxis</a>(<span class="keyword">this</span>, <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aaf84aa6cac6fb6099f54a2cbf7546b730" title="Axis is vertical and on the left side of the axis rect of the parent QCustomPlot.">QCPAxis::atLeft</a>);
<a name="l05786"></a>05786   <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a> = <span class="keyword">new</span> <a class="code" href="class_q_custom_plot.html#af123edeca169ec7a31958a1d714e1a8a">QCPAxis</a>(<span class="keyword">this</span>, <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977" title="Axis is horizontal and on the top side of the axis rect of the parent QCustomPlot.">QCPAxis::atTop</a>);
<a name="l05787"></a>05787   <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a> = <span class="keyword">new</span> <a class="code" href="class_q_custom_plot.html#af123edeca169ec7a31958a1d714e1a8a">QCPAxis</a>(<span class="keyword">this</span>, <a class="code" href="class_q_c_p_axis.html#ae2bcc1728b382f10f064612b368bc18aadf5509f7d29199ef2f263b1dd224b345" title="Axis is vertical and on the right side of the axis rect of the parent QCustomPlot.">QCPAxis::atRight</a>);
<a name="l05788"></a>05788   <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a8d6d2bec40205fd3ca07cb1394663521">setGrid</a>(<span class="keyword">false</span>);
<a name="l05789"></a>05789   <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a8d6d2bec40205fd3ca07cb1394663521">setGrid</a>(<span class="keyword">false</span>);
<a name="l05790"></a>05790   <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a533e5aa7fb4981ebc3db761d1e0e38d1">setZeroLinePen</a>(Qt::NoPen);
<a name="l05791"></a>05791   <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a533e5aa7fb4981ebc3db761d1e0e38d1">setZeroLinePen</a>(Qt::NoPen);
<a name="l05792"></a>05792   <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a>-&gt;<a class="code" href="class_q_c_p_layerable.html#a3bed99ddc396b48ce3ebfdc0418744f8">setVisible</a>(<span class="keyword">false</span>);
<a name="l05793"></a>05793   <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>-&gt;<a class="code" href="class_q_c_p_layerable.html#a3bed99ddc396b48ce3ebfdc0418744f8">setVisible</a>(<span class="keyword">false</span>);
<a name="l05794"></a>05794   <a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a>-&gt;<a class="code" href="class_q_c_p_layerable.html#ab0d0da6d2de45a118886d2c8e16d5a54">setLayer</a>(axesLayer);
<a name="l05795"></a>05795   <a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a>-&gt;<a class="code" href="class_q_c_p_layerable.html#ab0d0da6d2de45a118886d2c8e16d5a54">setLayer</a>(axesLayer);
<a name="l05796"></a>05796   <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a>-&gt;<a class="code" href="class_q_c_p_layerable.html#ab0d0da6d2de45a118886d2c8e16d5a54">setLayer</a>(axesLayer);
<a name="l05797"></a>05797   <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>-&gt;<a class="code" href="class_q_c_p_layerable.html#ab0d0da6d2de45a118886d2c8e16d5a54">setLayer</a>(axesLayer);
<a name="l05798"></a>05798   <a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a17bffb94aaa40311f259c6ac7bcb5d5f">mGrid</a>-&gt;<a class="code" href="class_q_c_p_layerable.html#ab0d0da6d2de45a118886d2c8e16d5a54">setLayer</a>(gridLayer);
<a name="l05799"></a>05799   <a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a17bffb94aaa40311f259c6ac7bcb5d5f">mGrid</a>-&gt;<a class="code" href="class_q_c_p_layerable.html#ab0d0da6d2de45a118886d2c8e16d5a54">setLayer</a>(gridLayer);
<a name="l05800"></a>05800   <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a17bffb94aaa40311f259c6ac7bcb5d5f">mGrid</a>-&gt;<a class="code" href="class_q_c_p_layerable.html#ab0d0da6d2de45a118886d2c8e16d5a54">setLayer</a>(gridLayer);
<a name="l05801"></a>05801   <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a17bffb94aaa40311f259c6ac7bcb5d5f">mGrid</a>-&gt;<a class="code" href="class_q_c_p_layerable.html#ab0d0da6d2de45a118886d2c8e16d5a54">setLayer</a>(gridLayer);
<a name="l05802"></a>05802   <a class="code" href="class_q_custom_plot.html#ac0a7c38a715526c257cff95774f83ab6">mViewport</a> = rect();
<a name="l05803"></a>05803   
<a name="l05804"></a>05804   <a class="code" href="class_q_custom_plot.html#a775bdcb6329d44701aeaa6135b0e5265">setNoAntialiasingOnDrag</a>(<span class="keyword">false</span>);
<a name="l05805"></a>05805   <a class="code" href="class_q_custom_plot.html#ad8858410c2db47b7104040a3aa61c3fc">setAutoAddPlottableToLegend</a>(<span class="keyword">true</span>);
<a name="l05806"></a>05806   <a class="code" href="class_q_custom_plot.html#a55ad8c13d7db8b5c2f15d694773a43a3">setAxisBackgroundScaled</a>(<span class="keyword">true</span>);
<a name="l05807"></a>05807   <a class="code" href="class_q_custom_plot.html#a82920d0db6cc36214dc4a9dfe386d1a1">setAxisBackgroundScaledMode</a>(Qt::KeepAspectRatioByExpanding);
<a name="l05808"></a>05808   <a class="code" href="class_q_custom_plot.html#ae104d89b683a6ec6831c4b7b02530f15">setTitleFont</a>(QFont(font().family(), 14, QFont::Bold));
<a name="l05809"></a>05809   <a class="code" href="class_q_custom_plot.html#a57693e1334130e47dae06f8bd226328b">setTitleColor</a>(Qt::black);
<a name="l05810"></a>05810   <a class="code" href="class_q_custom_plot.html#a2face1cc6d467f27aa1a6f3ba5ba112d">setSelectedTitleFont</a>(QFont(font().family(), 14, QFont::Bold));
<a name="l05811"></a>05811   <a class="code" href="class_q_custom_plot.html#ad0897d7ba31a3994d7323f568cdcd2d8">setSelectedTitleColor</a>(Qt::blue);
<a name="l05812"></a>05812   <a class="code" href="class_q_custom_plot.html#aa89e06c04804ff2a0994ccb1aa80d131">setTitleSelected</a>(<span class="keyword">false</span>);
<a name="l05813"></a>05813   <a class="code" href="class_q_custom_plot.html#a84257c1e1f984b3932245069428f3176">setTitle</a>(<span class="stringliteral">&quot;&quot;</span>);
<a name="l05814"></a>05814   <a class="code" href="class_q_custom_plot.html#a900feeb82a58f3594b8bb367571c17c8">setColor</a>(Qt::white);
<a name="l05815"></a>05815   
<a name="l05816"></a>05816 <span class="preprocessor">#ifdef Q_WS_WIN</span>
<a name="l05817"></a>05817 <span class="preprocessor"></span>  <a class="code" href="class_q_custom_plot.html#a3b7c97bb6c16464e9e15190c07abe9a9">setPlottingHint</a>(<a class="code" href="namespace_q_c_p.html#a5400e5fcb9528d92002ddb938c1f4ef4aa3090dafa0e0f9a28c579c79d6c2d283">QCP::phForceRepaint</a>);
<a name="l05818"></a>05818 <span class="preprocessor">#endif</span>
<a name="l05819"></a>05819 <span class="preprocessor"></span>  <a class="code" href="class_q_custom_plot.html#af6f91e5eab1be85f67c556e98c3745e8">setAntialiasedElements</a>(<a class="code" href="namespace_q_c_p.html#ae55dbe315d41fe80f29ba88100843a0caa9e90d81896358757d94275aeaa58f6a" title="0x0000 No elements">QCP::aeNone</a>);
<a name="l05820"></a>05820   <a class="code" href="class_q_custom_plot.html#ae10d685b5eabea2999fb8775ca173c24">setNotAntialiasedElements</a>(<a class="code" href="namespace_q_c_p.html#ae55dbe315d41fe80f29ba88100843a0caa9e90d81896358757d94275aeaa58f6a" title="0x0000 No elements">QCP::aeNone</a>);
<a name="l05821"></a>05821   <a class="code" href="class_q_custom_plot.html#add9cc886ff5257f64fb4117cf6c135fe">setInteractions</a>(<a class="code" href="class_q_custom_plot.html#acc82d021129b61e550e36747d2e76d3aae5128b3d5d45736c7f109f80beacb8bb" title="0x001 Axis ranges are draggable (see setRangeDrag, setRangeDragAxes)">iRangeDrag</a>|<a class="code" href="class_q_custom_plot.html#acc82d021129b61e550e36747d2e76d3aa9a4261d5fa24a11bdbdecdc58efcab2f" title="0x002 Axis ranges are zoomable with the mouse wheel (see setRangeZoom, setRangeZoomAxes)">iRangeZoom</a>);
<a name="l05822"></a>05822   <a class="code" href="class_q_custom_plot.html#a8fc96e3b5138a06759a2a90c166df516">setMultiSelectModifier</a>(Qt::ControlModifier);
<a name="l05823"></a>05823   <a class="code" href="class_q_custom_plot.html#a9fa10e826a174884391c1c839d52c0a3">setRangeDragAxes</a>(<a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a>, <a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a>);
<a name="l05824"></a>05824   <a class="code" href="class_q_custom_plot.html#a9808f1736b8116c116bcccb53cdb210a">setRangeZoomAxes</a>(<a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a>, <a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a>);
<a name="l05825"></a>05825   <a class="code" href="class_q_custom_plot.html#aa0e1c44295da2706d0f12ad48f64b806">setRangeDrag</a>(0);
<a name="l05826"></a>05826   <a class="code" href="class_q_custom_plot.html#ad4a0919e471549a2daea517ce6538ad8">setRangeZoom</a>(0);
<a name="l05827"></a>05827   <a class="code" href="class_q_custom_plot.html#ab0589ec79b1081b13ffb7cf5791a8735">setRangeZoomFactor</a>(0.85);
<a name="l05828"></a>05828   <a class="code" href="class_q_custom_plot.html#a4dc31241d7b09680950e19e5f971ed93">setSelectionTolerance</a>(8);
<a name="l05829"></a>05829   
<a name="l05830"></a>05830   <a class="code" href="class_q_custom_plot.html#a990cbcb1da0cc93ebb06ceea7366c129">setMargin</a>(0, 0, 0, 0); <span class="comment">// also initializes the mAxisRect</span>
<a name="l05831"></a>05831   <a class="code" href="class_q_custom_plot.html#aed5bb30c9b04c1d0103ab8ef7190f23a">setAutoMargin</a>(<span class="keyword">true</span>);
<a name="l05832"></a>05832   <a class="code" href="class_q_custom_plot.html#a563540b54b2a09c8ef092d42e9621f42">replot</a>();
<a name="l05833"></a>05833 }
<a name="l05834"></a>05834 
<a name="l05835"></a><a class="code" href="class_q_custom_plot.html#a75d9b6f599dcae706e45efd425c5499e">05835</a> <a class="code" href="class_q_custom_plot.html#a75d9b6f599dcae706e45efd425c5499e">QCustomPlot::~QCustomPlot</a>()
<a name="l05836"></a>05836 {
<a name="l05837"></a>05837   <a class="code" href="class_q_custom_plot.html#a9a409bb3201878adb7ffba1c89c4e004">clearPlottables</a>();
<a name="l05838"></a>05838   <a class="code" href="class_q_custom_plot.html#abdfd07d4f0591d0cf967f85013fd3645">clearItems</a>();
<a name="l05839"></a>05839   <span class="keyword">delete</span> <a class="code" href="class_q_custom_plot.html#a73da53368aa4c2db3d874cf0db50d140">legend</a>;
<a name="l05840"></a>05840   <span class="keyword">delete</span> <a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a>;
<a name="l05841"></a>05841   <span class="keyword">delete</span> <a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a>;
<a name="l05842"></a>05842   <span class="keyword">delete</span> <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a>;
<a name="l05843"></a>05843   <span class="keyword">delete</span> <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>;
<a name="l05844"></a>05844   qDeleteAll(<a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>);
<a name="l05845"></a>05845   <a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.clear();
<a name="l05846"></a>05846 }
<a name="l05847"></a>05847 
<a name="l05852"></a><a class="code" href="class_q_custom_plot.html#a0e0923c32c4b71509afc26062d3e625d">05852</a> <a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *<a class="code" href="class_q_custom_plot.html#a0e0923c32c4b71509afc26062d3e625d">QCustomPlot::rangeDragAxis</a>(Qt::Orientation orientation)
<a name="l05853"></a>05853 {
<a name="l05854"></a>05854   <span class="keywordflow">return</span> (orientation == Qt::Horizontal ? <a class="code" href="class_q_custom_plot.html#a8cddba04d1a164b3c3ffd9c1799bef23">mRangeDragHorzAxis</a> : <a class="code" href="class_q_custom_plot.html#aa1daa353f95fd85d148c20e27901ff88">mRangeDragVertAxis</a>);
<a name="l05855"></a>05855 }
<a name="l05856"></a>05856 
<a name="l05861"></a><a class="code" href="class_q_custom_plot.html#a81c0f9cdb32b2afc1fc07440c9f3fa7b">05861</a> <a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *<a class="code" href="class_q_custom_plot.html#a81c0f9cdb32b2afc1fc07440c9f3fa7b">QCustomPlot::rangeZoomAxis</a>(Qt::Orientation orientation)
<a name="l05862"></a>05862 {
<a name="l05863"></a>05863   <span class="keywordflow">return</span> (orientation == Qt::Horizontal ? <a class="code" href="class_q_custom_plot.html#a8f5d4dcb682e1d579603661a93901552">mRangeZoomHorzAxis</a> : <a class="code" href="class_q_custom_plot.html#ae10772213af61244b48b741268bd060f">mRangeZoomVertAxis</a>);
<a name="l05864"></a>05864 }
<a name="l05865"></a>05865 
<a name="l05870"></a><a class="code" href="class_q_custom_plot.html#ad833d4bd16c7b27621abd373db72d33a">05870</a> <span class="keywordtype">double</span> <a class="code" href="class_q_custom_plot.html#ad833d4bd16c7b27621abd373db72d33a">QCustomPlot::rangeZoomFactor</a>(Qt::Orientation orientation)
<a name="l05871"></a>05871 {
<a name="l05872"></a>05872   <span class="keywordflow">return</span> (orientation == Qt::Horizontal ? <a class="code" href="class_q_custom_plot.html#a23a57c59cfbb46e9d1c6e9a51bfa6daf">mRangeZoomFactorHorz</a> : <a class="code" href="class_q_custom_plot.html#a58ec881b605d7ea63cfc8480956739a1">mRangeZoomFactorVert</a>);
<a name="l05873"></a>05873 }
<a name="l05874"></a>05874 
<a name="l05883"></a><a class="code" href="class_q_custom_plot.html#a84257c1e1f984b3932245069428f3176">05883</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a84257c1e1f984b3932245069428f3176">QCustomPlot::setTitle</a>(<span class="keyword">const</span> QString &amp;title)
<a name="l05884"></a>05884 {
<a name="l05885"></a>05885   <a class="code" href="class_q_custom_plot.html#a7ff92cd30a25ecc4db923b535910c7be">mTitle</a> = <a class="code" href="class_q_custom_plot.html#ac493fc4c0eec2bbcbd9876f9792411dd">title</a>;
<a name="l05886"></a>05886 }
<a name="l05887"></a>05887 
<a name="l05892"></a><a class="code" href="class_q_custom_plot.html#ae104d89b683a6ec6831c4b7b02530f15">05892</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#ae104d89b683a6ec6831c4b7b02530f15">QCustomPlot::setTitleFont</a>(<span class="keyword">const</span> QFont &amp;font)
<a name="l05893"></a>05893 {
<a name="l05894"></a>05894   <a class="code" href="class_q_custom_plot.html#a127950967ada049b61eea4c2bed3f4ee">mTitleFont</a> = font;
<a name="l05895"></a>05895 }
<a name="l05896"></a>05896 
<a name="l05901"></a><a class="code" href="class_q_custom_plot.html#a57693e1334130e47dae06f8bd226328b">05901</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a57693e1334130e47dae06f8bd226328b">QCustomPlot::setTitleColor</a>(<span class="keyword">const</span> QColor &amp;color)
<a name="l05902"></a>05902 {
<a name="l05903"></a>05903   <a class="code" href="class_q_custom_plot.html#a94b15b3356760d19487c0d1baeb37d4a">mTitleColor</a> = <a class="code" href="class_q_custom_plot.html#a42220030a6a0bd382051335a42bcd151">color</a>;
<a name="l05904"></a>05904 }
<a name="l05905"></a>05905 
<a name="l05917"></a><a class="code" href="class_q_custom_plot.html#af3aa7b8716f40aa6103a40ff39d4f4c7">05917</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#af3aa7b8716f40aa6103a40ff39d4f4c7">QCustomPlot::setAxisRect</a>(<span class="keyword">const</span> QRect &amp;arect)
<a name="l05918"></a>05918 {
<a name="l05919"></a>05919   <a class="code" href="class_q_custom_plot.html#a21ca75784f7c026f7fbd5ecb1859e53a">mMarginLeft</a> = arect.left()-<a class="code" href="class_q_custom_plot.html#ac0a7c38a715526c257cff95774f83ab6">mViewport</a>.left();
<a name="l05920"></a>05920   <a class="code" href="class_q_custom_plot.html#a11ab3751e41bd84f80d39cd402d33b44">mMarginRight</a> = <a class="code" href="class_q_custom_plot.html#ac0a7c38a715526c257cff95774f83ab6">mViewport</a>.right()-arect.right();
<a name="l05921"></a>05921   <a class="code" href="class_q_custom_plot.html#a8cbdb4fd979850a172d41816be8575a0">mMarginTop</a> = arect.top()-<a class="code" href="class_q_custom_plot.html#ac0a7c38a715526c257cff95774f83ab6">mViewport</a>.top();
<a name="l05922"></a>05922   <a class="code" href="class_q_custom_plot.html#a2b11299cca5bd848821cafac1d8544a9">mMarginBottom</a> = <a class="code" href="class_q_custom_plot.html#ac0a7c38a715526c257cff95774f83ab6">mViewport</a>.bottom()-arect.bottom();
<a name="l05923"></a>05923   <a class="code" href="class_q_custom_plot.html#a428242419d3a1b63f2cbff637986c35c">updateAxisRect</a>();
<a name="l05924"></a>05924 }
<a name="l05925"></a>05925 
<a name="l05930"></a><a class="code" href="class_q_custom_plot.html#aea4504b33a3d8942cdda8f9d5b09e740">05930</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#aea4504b33a3d8942cdda8f9d5b09e740">QCustomPlot::setMarginLeft</a>(<span class="keywordtype">int</span> margin)
<a name="l05931"></a>05931 {
<a name="l05932"></a>05932   <a class="code" href="class_q_custom_plot.html#a21ca75784f7c026f7fbd5ecb1859e53a">mMarginLeft</a> = margin;
<a name="l05933"></a>05933   <a class="code" href="class_q_custom_plot.html#a428242419d3a1b63f2cbff637986c35c">updateAxisRect</a>();
<a name="l05934"></a>05934 }
<a name="l05935"></a>05935 
<a name="l05940"></a><a class="code" href="class_q_custom_plot.html#ae9e626fab11ba17b8f41d95e08c94bc6">05940</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#ae9e626fab11ba17b8f41d95e08c94bc6">QCustomPlot::setMarginRight</a>(<span class="keywordtype">int</span> margin)
<a name="l05941"></a>05941 {
<a name="l05942"></a>05942   <a class="code" href="class_q_custom_plot.html#a11ab3751e41bd84f80d39cd402d33b44">mMarginRight</a> = margin;
<a name="l05943"></a>05943   <a class="code" href="class_q_custom_plot.html#a428242419d3a1b63f2cbff637986c35c">updateAxisRect</a>();
<a name="l05944"></a>05944 }
<a name="l05945"></a>05945 
<a name="l05950"></a><a class="code" href="class_q_custom_plot.html#a215cbdd970d1ccda039418c6742f93b3">05950</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a215cbdd970d1ccda039418c6742f93b3">QCustomPlot::setMarginTop</a>(<span class="keywordtype">int</span> margin)
<a name="l05951"></a>05951 {
<a name="l05952"></a>05952   <a class="code" href="class_q_custom_plot.html#a8cbdb4fd979850a172d41816be8575a0">mMarginTop</a> = margin;
<a name="l05953"></a>05953   <a class="code" href="class_q_custom_plot.html#a428242419d3a1b63f2cbff637986c35c">updateAxisRect</a>();
<a name="l05954"></a>05954 }
<a name="l05955"></a>05955 
<a name="l05960"></a><a class="code" href="class_q_custom_plot.html#a3f6c9663a3bc1e5b3d99ff237fde4662">05960</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a3f6c9663a3bc1e5b3d99ff237fde4662">QCustomPlot::setMarginBottom</a>(<span class="keywordtype">int</span> margin)
<a name="l05961"></a>05961 {
<a name="l05962"></a>05962   <a class="code" href="class_q_custom_plot.html#a2b11299cca5bd848821cafac1d8544a9">mMarginBottom</a> = margin;
<a name="l05963"></a>05963   <a class="code" href="class_q_custom_plot.html#a428242419d3a1b63f2cbff637986c35c">updateAxisRect</a>();
<a name="l05964"></a>05964 }
<a name="l05965"></a>05965 
<a name="l05973"></a><a class="code" href="class_q_custom_plot.html#a990cbcb1da0cc93ebb06ceea7366c129">05973</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a990cbcb1da0cc93ebb06ceea7366c129">QCustomPlot::setMargin</a>(<span class="keywordtype">int</span> left, <span class="keywordtype">int</span> right, <span class="keywordtype">int</span> top, <span class="keywordtype">int</span> bottom)
<a name="l05974"></a>05974 {
<a name="l05975"></a>05975   <a class="code" href="class_q_custom_plot.html#a21ca75784f7c026f7fbd5ecb1859e53a">mMarginLeft</a> = left;
<a name="l05976"></a>05976   <a class="code" href="class_q_custom_plot.html#a11ab3751e41bd84f80d39cd402d33b44">mMarginRight</a> = right;
<a name="l05977"></a>05977   <a class="code" href="class_q_custom_plot.html#a8cbdb4fd979850a172d41816be8575a0">mMarginTop</a> = top;
<a name="l05978"></a>05978   <a class="code" href="class_q_custom_plot.html#a2b11299cca5bd848821cafac1d8544a9">mMarginBottom</a> = bottom;
<a name="l05979"></a>05979   <a class="code" href="class_q_custom_plot.html#a428242419d3a1b63f2cbff637986c35c">updateAxisRect</a>();
<a name="l05980"></a>05980 }
<a name="l05981"></a>05981 
<a name="l05988"></a><a class="code" href="class_q_custom_plot.html#aed5bb30c9b04c1d0103ab8ef7190f23a">05988</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#aed5bb30c9b04c1d0103ab8ef7190f23a">QCustomPlot::setAutoMargin</a>(<span class="keywordtype">bool</span> enabled)
<a name="l05989"></a>05989 {
<a name="l05990"></a>05990   <a class="code" href="class_q_custom_plot.html#a062250ee271589efcc4e501e676c1d74">mAutoMargin</a> = enabled;
<a name="l05991"></a>05991 }
<a name="l05992"></a>05992 
<a name="l05996"></a><a class="code" href="class_q_custom_plot.html#a900feeb82a58f3594b8bb367571c17c8">05996</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a900feeb82a58f3594b8bb367571c17c8">QCustomPlot::setColor</a>(<span class="keyword">const</span> QColor &amp;color)
<a name="l05997"></a>05997 {
<a name="l05998"></a>05998   <a class="code" href="class_q_custom_plot.html#a653335b5475ede92ae8c9215606a573a">mColor</a> = <a class="code" href="class_q_custom_plot.html#a42220030a6a0bd382051335a42bcd151">color</a>;
<a name="l05999"></a>05999 }
<a name="l06000"></a>06000 
<a name="l06017"></a><a class="code" href="class_q_custom_plot.html#aa0e1c44295da2706d0f12ad48f64b806">06017</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#aa0e1c44295da2706d0f12ad48f64b806">QCustomPlot::setRangeDrag</a>(Qt::Orientations orientations)
<a name="l06018"></a>06018 {
<a name="l06019"></a>06019   <a class="code" href="class_q_custom_plot.html#af22d256e06e90adf0952ea3315ba808c">mRangeDrag</a> = orientations;
<a name="l06020"></a>06020 }
<a name="l06021"></a>06021 
<a name="l06037"></a><a class="code" href="class_q_custom_plot.html#ad4a0919e471549a2daea517ce6538ad8">06037</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#ad4a0919e471549a2daea517ce6538ad8">QCustomPlot::setRangeZoom</a>(Qt::Orientations orientations)
<a name="l06038"></a>06038 {
<a name="l06039"></a>06039   <a class="code" href="class_q_custom_plot.html#aaa5301107982716d6e72dbd24c7be172">mRangeZoom</a> = orientations;
<a name="l06040"></a>06040 }
<a name="l06041"></a>06041 
<a name="l06048"></a><a class="code" href="class_q_custom_plot.html#a9fa10e826a174884391c1c839d52c0a3">06048</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a9fa10e826a174884391c1c839d52c0a3">QCustomPlot::setRangeDragAxes</a>(<a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *horizontal, <a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *vertical)
<a name="l06049"></a>06049 {
<a name="l06050"></a>06050   <span class="keywordflow">if</span> (horizontal)
<a name="l06051"></a>06051     <a class="code" href="class_q_custom_plot.html#a8cddba04d1a164b3c3ffd9c1799bef23">mRangeDragHorzAxis</a> = horizontal;
<a name="l06052"></a>06052   <span class="keywordflow">if</span> (vertical)
<a name="l06053"></a>06053     <a class="code" href="class_q_custom_plot.html#aa1daa353f95fd85d148c20e27901ff88">mRangeDragVertAxis</a> = vertical;
<a name="l06054"></a>06054 }
<a name="l06055"></a>06055 
<a name="l06063"></a><a class="code" href="class_q_custom_plot.html#a9808f1736b8116c116bcccb53cdb210a">06063</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a9808f1736b8116c116bcccb53cdb210a">QCustomPlot::setRangeZoomAxes</a>(<a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *horizontal, <a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *vertical)
<a name="l06064"></a>06064 {
<a name="l06065"></a>06065   <span class="keywordflow">if</span> (horizontal)
<a name="l06066"></a>06066     <a class="code" href="class_q_custom_plot.html#a8f5d4dcb682e1d579603661a93901552">mRangeZoomHorzAxis</a> = horizontal;
<a name="l06067"></a>06067   <span class="keywordflow">if</span> (vertical)
<a name="l06068"></a>06068     <a class="code" href="class_q_custom_plot.html#ae10772213af61244b48b741268bd060f">mRangeZoomVertAxis</a> = vertical;
<a name="l06069"></a>06069 }
<a name="l06070"></a>06070 
<a name="l06081"></a><a class="code" href="class_q_custom_plot.html#ab0589ec79b1081b13ffb7cf5791a8735">06081</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#ab0589ec79b1081b13ffb7cf5791a8735">QCustomPlot::setRangeZoomFactor</a>(<span class="keywordtype">double</span> horizontalFactor, <span class="keywordtype">double</span> verticalFactor)
<a name="l06082"></a>06082 {
<a name="l06083"></a>06083   <a class="code" href="class_q_custom_plot.html#a23a57c59cfbb46e9d1c6e9a51bfa6daf">mRangeZoomFactorHorz</a> = horizontalFactor;
<a name="l06084"></a>06084   <a class="code" href="class_q_custom_plot.html#a58ec881b605d7ea63cfc8480956739a1">mRangeZoomFactorVert</a> = verticalFactor;
<a name="l06085"></a>06085 }
<a name="l06086"></a>06086 
<a name="l06091"></a><a class="code" href="class_q_custom_plot.html#abc0e662d15d41f7262a440818c6885d1">06091</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#ab0589ec79b1081b13ffb7cf5791a8735">QCustomPlot::setRangeZoomFactor</a>(<span class="keywordtype">double</span> factor)
<a name="l06092"></a>06092 {
<a name="l06093"></a>06093   <a class="code" href="class_q_custom_plot.html#a23a57c59cfbb46e9d1c6e9a51bfa6daf">mRangeZoomFactorHorz</a> = factor;
<a name="l06094"></a>06094   <a class="code" href="class_q_custom_plot.html#a58ec881b605d7ea63cfc8480956739a1">mRangeZoomFactorVert</a> = factor;
<a name="l06095"></a>06095 }
<a name="l06096"></a>06096 
<a name="l06111"></a><a class="code" href="class_q_custom_plot.html#af6f91e5eab1be85f67c556e98c3745e8">06111</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#af6f91e5eab1be85f67c556e98c3745e8">QCustomPlot::setAntialiasedElements</a>(<span class="keyword">const</span> QCP::AntialiasedElements &amp;antialiasedElements)
<a name="l06112"></a>06112 {
<a name="l06113"></a>06113   <a class="code" href="class_q_custom_plot.html#aa333200629256830e273873b582a5524">mAntialiasedElements</a> = <a class="code" href="class_q_custom_plot.html#a81e954fbb485bb44c609e5707f0067b3">antialiasedElements</a>;
<a name="l06114"></a>06114   
<a name="l06115"></a>06115   <span class="comment">// make sure elements aren&#39;t in mNotAntialiasedElements and mAntialiasedElements simultaneously:</span>
<a name="l06116"></a>06116   <span class="keywordflow">if</span> ((<a class="code" href="class_q_custom_plot.html#a2b6ebcad00a90ba07f146cefcd4293da">mNotAntialiasedElements</a> &amp; <a class="code" href="class_q_custom_plot.html#aa333200629256830e273873b582a5524">mAntialiasedElements</a>) != 0)
<a name="l06117"></a>06117     <a class="code" href="class_q_custom_plot.html#a2b6ebcad00a90ba07f146cefcd4293da">mNotAntialiasedElements</a> |= ~mAntialiasedElements;
<a name="l06118"></a>06118 }
<a name="l06119"></a>06119 
<a name="l06134"></a><a class="code" href="class_q_custom_plot.html#aeef813bcf7efab8e765f9f87ec454691">06134</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#aeef813bcf7efab8e765f9f87ec454691">QCustomPlot::setAntialiasedElement</a>(<a class="code" href="namespace_q_c_p.html#ae55dbe315d41fe80f29ba88100843a0c">QCP::AntialiasedElement</a> antialiasedElement, <span class="keywordtype">bool</span> enabled)
<a name="l06135"></a>06135 {
<a name="l06136"></a>06136   <span class="keywordflow">if</span> (!enabled &amp;&amp; <a class="code" href="class_q_custom_plot.html#aa333200629256830e273873b582a5524">mAntialiasedElements</a>.testFlag(antialiasedElement))
<a name="l06137"></a>06137     <a class="code" href="class_q_custom_plot.html#aa333200629256830e273873b582a5524">mAntialiasedElements</a> &amp;= ~antialiasedElement;
<a name="l06138"></a>06138   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (enabled &amp;&amp; !<a class="code" href="class_q_custom_plot.html#aa333200629256830e273873b582a5524">mAntialiasedElements</a>.testFlag(antialiasedElement))
<a name="l06139"></a>06139     <a class="code" href="class_q_custom_plot.html#aa333200629256830e273873b582a5524">mAntialiasedElements</a> |= antialiasedElement;
<a name="l06140"></a>06140   
<a name="l06141"></a>06141   <span class="comment">// make sure elements aren&#39;t in mNotAntialiasedElements and mAntialiasedElements simultaneously:</span>
<a name="l06142"></a>06142   <span class="keywordflow">if</span> ((<a class="code" href="class_q_custom_plot.html#a2b6ebcad00a90ba07f146cefcd4293da">mNotAntialiasedElements</a> &amp; <a class="code" href="class_q_custom_plot.html#aa333200629256830e273873b582a5524">mAntialiasedElements</a>) != 0)
<a name="l06143"></a>06143     <a class="code" href="class_q_custom_plot.html#a2b6ebcad00a90ba07f146cefcd4293da">mNotAntialiasedElements</a> |= ~mAntialiasedElements;
<a name="l06144"></a>06144 }
<a name="l06145"></a>06145 
<a name="l06164"></a><a class="code" href="class_q_custom_plot.html#ae10d685b5eabea2999fb8775ca173c24">06164</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#ae10d685b5eabea2999fb8775ca173c24">QCustomPlot::setNotAntialiasedElements</a>(<span class="keyword">const</span> QCP::AntialiasedElements &amp;notAntialiasedElements)
<a name="l06165"></a>06165 {
<a name="l06166"></a>06166   <a class="code" href="class_q_custom_plot.html#a2b6ebcad00a90ba07f146cefcd4293da">mNotAntialiasedElements</a> = <a class="code" href="class_q_custom_plot.html#a8060cee59757213764382a78d3196189">notAntialiasedElements</a>;
<a name="l06167"></a>06167   
<a name="l06168"></a>06168   <span class="comment">// make sure elements aren&#39;t in mNotAntialiasedElements and mAntialiasedElements simultaneously:</span>
<a name="l06169"></a>06169   <span class="keywordflow">if</span> ((<a class="code" href="class_q_custom_plot.html#a2b6ebcad00a90ba07f146cefcd4293da">mNotAntialiasedElements</a> &amp; <a class="code" href="class_q_custom_plot.html#aa333200629256830e273873b582a5524">mAntialiasedElements</a>) != 0)
<a name="l06170"></a>06170     mAntialiasedElements |= ~<a class="code" href="class_q_custom_plot.html#a2b6ebcad00a90ba07f146cefcd4293da">mNotAntialiasedElements</a>;
<a name="l06171"></a>06171 }
<a name="l06172"></a>06172 
<a name="l06190"></a><a class="code" href="class_q_custom_plot.html#afc657938a707c890e449ae89203a076d">06190</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#afc657938a707c890e449ae89203a076d">QCustomPlot::setNotAntialiasedElement</a>(<a class="code" href="namespace_q_c_p.html#ae55dbe315d41fe80f29ba88100843a0c">QCP::AntialiasedElement</a> notAntialiasedElement, <span class="keywordtype">bool</span> enabled)
<a name="l06191"></a>06191 {
<a name="l06192"></a>06192   <span class="keywordflow">if</span> (!enabled &amp;&amp; <a class="code" href="class_q_custom_plot.html#a2b6ebcad00a90ba07f146cefcd4293da">mNotAntialiasedElements</a>.testFlag(notAntialiasedElement))
<a name="l06193"></a>06193     <a class="code" href="class_q_custom_plot.html#a2b6ebcad00a90ba07f146cefcd4293da">mNotAntialiasedElements</a> &amp;= ~notAntialiasedElement;
<a name="l06194"></a>06194   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (enabled &amp;&amp; !<a class="code" href="class_q_custom_plot.html#a2b6ebcad00a90ba07f146cefcd4293da">mNotAntialiasedElements</a>.testFlag(notAntialiasedElement))
<a name="l06195"></a>06195     <a class="code" href="class_q_custom_plot.html#a2b6ebcad00a90ba07f146cefcd4293da">mNotAntialiasedElements</a> |= notAntialiasedElement;
<a name="l06196"></a>06196   
<a name="l06197"></a>06197   <span class="comment">// make sure elements aren&#39;t in mNotAntialiasedElements and mAntialiasedElements simultaneously:</span>
<a name="l06198"></a>06198   <span class="keywordflow">if</span> ((<a class="code" href="class_q_custom_plot.html#a2b6ebcad00a90ba07f146cefcd4293da">mNotAntialiasedElements</a> &amp; <a class="code" href="class_q_custom_plot.html#aa333200629256830e273873b582a5524">mAntialiasedElements</a>) != 0)
<a name="l06199"></a>06199     mAntialiasedElements |= ~<a class="code" href="class_q_custom_plot.html#a2b6ebcad00a90ba07f146cefcd4293da">mNotAntialiasedElements</a>;
<a name="l06200"></a>06200 }
<a name="l06201"></a>06201 
<a name="l06208"></a><a class="code" href="class_q_custom_plot.html#ad8858410c2db47b7104040a3aa61c3fc">06208</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#ad8858410c2db47b7104040a3aa61c3fc">QCustomPlot::setAutoAddPlottableToLegend</a>(<span class="keywordtype">bool</span> on)
<a name="l06209"></a>06209 {
<a name="l06210"></a>06210   <a class="code" href="class_q_custom_plot.html#aaf3ea6a4cb04d35a149cc9a0cdac3394">mAutoAddPlottableToLegend</a> = on;
<a name="l06211"></a>06211 }
<a name="l06212"></a>06212 
<a name="l06221"></a><a class="code" href="class_q_custom_plot.html#a6e61739de7485e99171c0fd5a57e27aa">06221</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a6e61739de7485e99171c0fd5a57e27aa">QCustomPlot::setAxisBackground</a>(<span class="keyword">const</span> QPixmap &amp;pm)
<a name="l06222"></a>06222 {
<a name="l06223"></a>06223   <a class="code" href="class_q_custom_plot.html#a89818035f469822c7efa0bf1b4a0af92">mAxisBackground</a> = pm;
<a name="l06224"></a>06224   <a class="code" href="class_q_custom_plot.html#adce9d9f098c64cb88613186c03ee8489">mScaledAxisBackground</a> = QPixmap();
<a name="l06225"></a>06225 }
<a name="l06226"></a>06226 
<a name="l06232"></a><a class="code" href="class_q_custom_plot.html#a010330bf3686716b9f7d643b3f5205db">06232</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a6e61739de7485e99171c0fd5a57e27aa">QCustomPlot::setAxisBackground</a>(<span class="keyword">const</span> QPixmap &amp;pm, <span class="keywordtype">bool</span> scaled, Qt::AspectRatioMode mode)
<a name="l06233"></a>06233 {
<a name="l06234"></a>06234   <a class="code" href="class_q_custom_plot.html#a89818035f469822c7efa0bf1b4a0af92">mAxisBackground</a> = pm;
<a name="l06235"></a>06235   <a class="code" href="class_q_custom_plot.html#adce9d9f098c64cb88613186c03ee8489">mScaledAxisBackground</a> = QPixmap();
<a name="l06236"></a>06236   <a class="code" href="class_q_custom_plot.html#a9f90d0ef937c05f9ec0266d10ab3645a">mAxisBackgroundScaled</a> = scaled;
<a name="l06237"></a>06237   <a class="code" href="class_q_custom_plot.html#a6fe1c87e0c2c9038bb9c0e75afe81920">mAxisBackgroundScaledMode</a> = mode;
<a name="l06238"></a>06238 }
<a name="l06239"></a>06239 
<a name="l06251"></a><a class="code" href="class_q_custom_plot.html#a55ad8c13d7db8b5c2f15d694773a43a3">06251</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a55ad8c13d7db8b5c2f15d694773a43a3">QCustomPlot::setAxisBackgroundScaled</a>(<span class="keywordtype">bool</span> scaled)
<a name="l06252"></a>06252 {
<a name="l06253"></a>06253   <a class="code" href="class_q_custom_plot.html#a9f90d0ef937c05f9ec0266d10ab3645a">mAxisBackgroundScaled</a> = scaled;
<a name="l06254"></a>06254 }
<a name="l06255"></a>06255 
<a name="l06261"></a><a class="code" href="class_q_custom_plot.html#a82920d0db6cc36214dc4a9dfe386d1a1">06261</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a82920d0db6cc36214dc4a9dfe386d1a1">QCustomPlot::setAxisBackgroundScaledMode</a>(Qt::AspectRatioMode mode)
<a name="l06262"></a>06262 {
<a name="l06263"></a>06263   <a class="code" href="class_q_custom_plot.html#a6fe1c87e0c2c9038bb9c0e75afe81920">mAxisBackgroundScaledMode</a> = mode;
<a name="l06264"></a>06264 }
<a name="l06265"></a>06265 
<a name="l06318"></a><a class="code" href="class_q_custom_plot.html#add9cc886ff5257f64fb4117cf6c135fe">06318</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#add9cc886ff5257f64fb4117cf6c135fe">QCustomPlot::setInteractions</a>(<span class="keyword">const</span> Interactions &amp;interactions)
<a name="l06319"></a>06319 {
<a name="l06320"></a>06320   <a class="code" href="class_q_custom_plot.html#a24daf819733de795fb13971405c68e07">mInteractions</a> = <a class="code" href="class_q_custom_plot.html#aafa69792f314035ef07b8d652db9e503">interactions</a>;
<a name="l06321"></a>06321 }
<a name="l06322"></a>06322 
<a name="l06330"></a><a class="code" href="class_q_custom_plot.html#a14963a1683cfd7621e266f047f40bd8f">06330</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a14963a1683cfd7621e266f047f40bd8f">QCustomPlot::setInteraction</a>(<span class="keyword">const</span> <a class="code" href="class_q_custom_plot.html#acc82d021129b61e550e36747d2e76d3a">QCustomPlot::Interaction</a> &amp;interaction, <span class="keywordtype">bool</span> enabled)
<a name="l06331"></a>06331 {
<a name="l06332"></a>06332   <span class="keywordflow">if</span> (!enabled &amp;&amp; <a class="code" href="class_q_custom_plot.html#a24daf819733de795fb13971405c68e07">mInteractions</a>.testFlag(interaction))
<a name="l06333"></a>06333     <a class="code" href="class_q_custom_plot.html#a24daf819733de795fb13971405c68e07">mInteractions</a> &amp;= ~interaction;
<a name="l06334"></a>06334   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (enabled &amp;&amp; !<a class="code" href="class_q_custom_plot.html#a24daf819733de795fb13971405c68e07">mInteractions</a>.testFlag(interaction))
<a name="l06335"></a>06335     <a class="code" href="class_q_custom_plot.html#a24daf819733de795fb13971405c68e07">mInteractions</a> |= interaction;
<a name="l06336"></a>06336 }
<a name="l06337"></a>06337 
<a name="l06351"></a><a class="code" href="class_q_custom_plot.html#a4dc31241d7b09680950e19e5f971ed93">06351</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a4dc31241d7b09680950e19e5f971ed93">QCustomPlot::setSelectionTolerance</a>(<span class="keywordtype">int</span> pixels)
<a name="l06352"></a>06352 {
<a name="l06353"></a>06353   <a class="code" href="class_q_custom_plot.html#abc36e12dd0482117ad810a800c847722">mSelectionTolerance</a> = pixels;
<a name="l06354"></a>06354 }
<a name="l06355"></a>06355 
<a name="l06361"></a><a class="code" href="class_q_custom_plot.html#a2face1cc6d467f27aa1a6f3ba5ba112d">06361</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a2face1cc6d467f27aa1a6f3ba5ba112d">QCustomPlot::setSelectedTitleFont</a>(<span class="keyword">const</span> QFont &amp;font)
<a name="l06362"></a>06362 {
<a name="l06363"></a>06363   <a class="code" href="class_q_custom_plot.html#a43f7478911c74a3788b6c8f02f1eb4bc">mSelectedTitleFont</a> = font;
<a name="l06364"></a>06364 }
<a name="l06365"></a>06365 
<a name="l06371"></a><a class="code" href="class_q_custom_plot.html#ad0897d7ba31a3994d7323f568cdcd2d8">06371</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#ad0897d7ba31a3994d7323f568cdcd2d8">QCustomPlot::setSelectedTitleColor</a>(<span class="keyword">const</span> QColor &amp;color)
<a name="l06372"></a>06372 {
<a name="l06373"></a>06373   <a class="code" href="class_q_custom_plot.html#a62488fc0f570567eb7b0633a46fe4e80">mSelectedTitleColor</a> = <a class="code" href="class_q_custom_plot.html#a42220030a6a0bd382051335a42bcd151">color</a>;
<a name="l06374"></a>06374 }
<a name="l06375"></a>06375 
<a name="l06381"></a><a class="code" href="class_q_custom_plot.html#aa89e06c04804ff2a0994ccb1aa80d131">06381</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#aa89e06c04804ff2a0994ccb1aa80d131">QCustomPlot::setTitleSelected</a>(<span class="keywordtype">bool</span> selected)
<a name="l06382"></a>06382 {
<a name="l06383"></a>06383   <a class="code" href="class_q_custom_plot.html#a6fac28ce7c2ec193ec4cf28a597d74c1">mTitleSelected</a> = selected;
<a name="l06384"></a>06384 }
<a name="l06385"></a>06385 
<a name="l06395"></a><a class="code" href="class_q_custom_plot.html#a775bdcb6329d44701aeaa6135b0e5265">06395</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a775bdcb6329d44701aeaa6135b0e5265">QCustomPlot::setNoAntialiasingOnDrag</a>(<span class="keywordtype">bool</span> enabled)
<a name="l06396"></a>06396 {
<a name="l06397"></a>06397   <a class="code" href="class_q_custom_plot.html#ac83df968435f6b8ec79f2993ab9124e8">mNoAntialiasingOnDrag</a> = enabled;
<a name="l06398"></a>06398 }
<a name="l06399"></a>06399 
<a name="l06404"></a><a class="code" href="class_q_custom_plot.html#a94a33cbdadbbac5934843508bcfc210d">06404</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a94a33cbdadbbac5934843508bcfc210d">QCustomPlot::setPlottingHints</a>(<span class="keyword">const</span> QCP::PlottingHints &amp;hints)
<a name="l06405"></a>06405 {
<a name="l06406"></a>06406   <a class="code" href="class_q_custom_plot.html#aa184197a6101a9cc5807469e1d006c9e">mPlottingHints</a> = hints;
<a name="l06407"></a>06407 }
<a name="l06408"></a>06408 
<a name="l06413"></a><a class="code" href="class_q_custom_plot.html#a3b7c97bb6c16464e9e15190c07abe9a9">06413</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a3b7c97bb6c16464e9e15190c07abe9a9">QCustomPlot::setPlottingHint</a>(<a class="code" href="namespace_q_c_p.html#a5400e5fcb9528d92002ddb938c1f4ef4">QCP::PlottingHint</a> hint, <span class="keywordtype">bool</span> enabled)
<a name="l06414"></a>06414 {
<a name="l06415"></a>06415   QCP::PlottingHints newHints = <a class="code" href="class_q_custom_plot.html#aa184197a6101a9cc5807469e1d006c9e">mPlottingHints</a>;
<a name="l06416"></a>06416   <span class="keywordflow">if</span> (!enabled)
<a name="l06417"></a>06417     newHints &amp;= ~hint;
<a name="l06418"></a>06418   <span class="keywordflow">else</span>
<a name="l06419"></a>06419     newHints |= hint;
<a name="l06420"></a>06420   
<a name="l06421"></a>06421   <span class="keywordflow">if</span> (newHints != <a class="code" href="class_q_custom_plot.html#aa184197a6101a9cc5807469e1d006c9e">mPlottingHints</a>)
<a name="l06422"></a>06422     <a class="code" href="class_q_custom_plot.html#a94a33cbdadbbac5934843508bcfc210d">setPlottingHints</a>(newHints);
<a name="l06423"></a>06423 }
<a name="l06424"></a>06424 
<a name="l06435"></a><a class="code" href="class_q_custom_plot.html#a8fc96e3b5138a06759a2a90c166df516">06435</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a8fc96e3b5138a06759a2a90c166df516">QCustomPlot::setMultiSelectModifier</a>(Qt::KeyboardModifier modifier)
<a name="l06436"></a>06436 {
<a name="l06437"></a>06437   <a class="code" href="class_q_custom_plot.html#a0e97e701c5671e7e463d2ce0211d0f8a">mMultiSelectModifier</a> = modifier;
<a name="l06438"></a>06438 }
<a name="l06439"></a>06439 
<a name="l06448"></a><a class="code" href="class_q_custom_plot.html#a32de81ff53e263e785b83b52ecd99d6f">06448</a> <a class="code" href="class_q_c_p_abstract_plottable.html" title="The abstract base class for all data representing objects in a plot.">QCPAbstractPlottable</a> *<a class="code" href="class_q_custom_plot.html#adea38bdc660da9412ba69fb939031567">QCustomPlot::plottable</a>(<span class="keywordtype">int</span> index)
<a name="l06449"></a>06449 {
<a name="l06450"></a>06450   <span class="keywordflow">if</span> (index &gt;= 0 &amp;&amp; index &lt; <a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.size())
<a name="l06451"></a>06451   {
<a name="l06452"></a>06452     <span class="keywordflow">return</span> <a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.at(index);
<a name="l06453"></a>06453   } <span class="keywordflow">else</span>
<a name="l06454"></a>06454   {
<a name="l06455"></a>06455     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;index out of bounds:&quot;</span> &lt;&lt; index;
<a name="l06456"></a>06456     <span class="keywordflow">return</span> 0;
<a name="l06457"></a>06457   }
<a name="l06458"></a>06458 }
<a name="l06459"></a>06459 
<a name="l06467"></a><a class="code" href="class_q_custom_plot.html#adea38bdc660da9412ba69fb939031567">06467</a> <a class="code" href="class_q_c_p_abstract_plottable.html" title="The abstract base class for all data representing objects in a plot.">QCPAbstractPlottable</a> *<a class="code" href="class_q_custom_plot.html#adea38bdc660da9412ba69fb939031567">QCustomPlot::plottable</a>()
<a name="l06468"></a>06468 {
<a name="l06469"></a>06469   <span class="keywordflow">if</span> (!<a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.isEmpty())
<a name="l06470"></a>06470   {
<a name="l06471"></a>06471     <span class="keywordflow">return</span> <a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.last();
<a name="l06472"></a>06472   } <span class="keywordflow">else</span>
<a name="l06473"></a>06473     <span class="keywordflow">return</span> 0;
<a name="l06474"></a>06474 }
<a name="l06475"></a>06475 
<a name="l06486"></a><a class="code" href="class_q_custom_plot.html#ab7ad9174f701f9c6f64e378df77927a6">06486</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#ab7ad9174f701f9c6f64e378df77927a6">QCustomPlot::addPlottable</a>(<a class="code" href="class_q_c_p_abstract_plottable.html" title="The abstract base class for all data representing objects in a plot.">QCPAbstractPlottable</a> *plottable)
<a name="l06487"></a>06487 {
<a name="l06488"></a>06488   <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.contains(plottable))
<a name="l06489"></a>06489   {
<a name="l06490"></a>06490     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;plottable already added to this QCustomPlot:&quot;</span> &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span>quintptr<span class="keyword">&gt;</span>(<a class="code" href="class_q_custom_plot.html#adea38bdc660da9412ba69fb939031567">plottable</a>);
<a name="l06491"></a>06491     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l06492"></a>06492   }
<a name="l06493"></a>06493   <span class="keywordflow">if</span> (plottable-&gt;<a class="code" href="class_q_c_p_layerable.html#ab7e0e94461566093d36ffc0f5312b109">parentPlot</a>() != <span class="keyword">this</span>)
<a name="l06494"></a>06494   {
<a name="l06495"></a>06495     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;plottable not created with this QCustomPlot as parent:&quot;</span> &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span>quintptr<span class="keyword">&gt;</span>(<a class="code" href="class_q_custom_plot.html#adea38bdc660da9412ba69fb939031567">plottable</a>);
<a name="l06496"></a>06496     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l06497"></a>06497   }
<a name="l06498"></a>06498   
<a name="l06499"></a>06499   <a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.append(plottable);
<a name="l06500"></a>06500   <span class="comment">// possibly add plottable to legend:</span>
<a name="l06501"></a>06501   <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#aaf3ea6a4cb04d35a149cc9a0cdac3394">mAutoAddPlottableToLegend</a>)
<a name="l06502"></a>06502     plottable-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#a70f8cabfd808f7d5204b9f18c45c13f5">addToLegend</a>();
<a name="l06503"></a>06503   <span class="comment">// special handling for QCPGraphs to maintain the simple graph interface:</span>
<a name="l06504"></a>06504   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html" title="A plottable representing a graph in a plot.">QCPGraph</a> *<a class="code" href="class_q_custom_plot.html#a80c40ced2a74eefe9e92de1e82ba2274">graph</a> = qobject_cast&lt;QCPGraph*&gt;(plottable))
<a name="l06505"></a>06505     <a class="code" href="class_q_custom_plot.html#adaf8d407d72a725169d7dbed2ee386bb">mGraphs</a>.append(<a class="code" href="class_q_custom_plot.html#a80c40ced2a74eefe9e92de1e82ba2274">graph</a>);
<a name="l06506"></a>06506   <span class="keywordflow">if</span> (!plottable-&gt;<a class="code" href="class_q_c_p_layerable.html#aea67e8c19145e70d68c286a36f6b8300">layer</a>()) <span class="comment">// usually the layer is already set in the constructor of the plottable (via QCPLayerable constructor)</span>
<a name="l06507"></a>06507     plottable-&gt;<a class="code" href="class_q_c_p_layerable.html#ab0d0da6d2de45a118886d2c8e16d5a54">setLayer</a>(<a class="code" href="class_q_custom_plot.html#af73057345656cbd1463454982d808b00">currentLayer</a>());
<a name="l06508"></a>06508   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l06509"></a>06509 }
<a name="l06510"></a>06510 
<a name="l06518"></a><a class="code" href="class_q_custom_plot.html#af3dafd56884208474f311d6226513ab2">06518</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#af3dafd56884208474f311d6226513ab2">QCustomPlot::removePlottable</a>(<a class="code" href="class_q_c_p_abstract_plottable.html" title="The abstract base class for all data representing objects in a plot.">QCPAbstractPlottable</a> *plottable)
<a name="l06519"></a>06519 {
<a name="l06520"></a>06520   <span class="keywordflow">if</span> (!<a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.contains(plottable))
<a name="l06521"></a>06521   {
<a name="l06522"></a>06522     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;plottable not in list:&quot;</span> &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span>quintptr<span class="keyword">&gt;</span>(<a class="code" href="class_q_custom_plot.html#adea38bdc660da9412ba69fb939031567">plottable</a>);
<a name="l06523"></a>06523     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l06524"></a>06524   }
<a name="l06525"></a>06525   
<a name="l06526"></a>06526   <span class="comment">// remove plottable from legend:</span>
<a name="l06527"></a>06527   plottable-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#aa1f350e510326d012b9a9c9249736c83">removeFromLegend</a>();
<a name="l06528"></a>06528   <span class="comment">// special handling for QCPGraphs to maintain the simple graph interface:</span>
<a name="l06529"></a>06529   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_graph.html" title="A plottable representing a graph in a plot.">QCPGraph</a> *<a class="code" href="class_q_custom_plot.html#a80c40ced2a74eefe9e92de1e82ba2274">graph</a> = qobject_cast&lt;QCPGraph*&gt;(plottable))
<a name="l06530"></a>06530     <a class="code" href="class_q_custom_plot.html#adaf8d407d72a725169d7dbed2ee386bb">mGraphs</a>.removeOne(<a class="code" href="class_q_custom_plot.html#a80c40ced2a74eefe9e92de1e82ba2274">graph</a>);
<a name="l06531"></a>06531   <span class="comment">// remove plottable:</span>
<a name="l06532"></a>06532   <span class="keyword">delete</span> <a class="code" href="class_q_custom_plot.html#adea38bdc660da9412ba69fb939031567">plottable</a>;
<a name="l06533"></a>06533   <a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.removeOne(plottable);
<a name="l06534"></a>06534   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l06535"></a>06535 }
<a name="l06536"></a>06536 
<a name="l06541"></a><a class="code" href="class_q_custom_plot.html#afc210e0021480f8119bccf37839dbcc8">06541</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#af3dafd56884208474f311d6226513ab2">QCustomPlot::removePlottable</a>(<span class="keywordtype">int</span> index)
<a name="l06542"></a>06542 {
<a name="l06543"></a>06543   <span class="keywordflow">if</span> (index &gt;= 0 &amp;&amp; index &lt; <a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.size())
<a name="l06544"></a>06544     <span class="keywordflow">return</span> <a class="code" href="class_q_custom_plot.html#af3dafd56884208474f311d6226513ab2">removePlottable</a>(<a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>[index]);
<a name="l06545"></a>06545   <span class="keywordflow">else</span>
<a name="l06546"></a>06546   {
<a name="l06547"></a>06547     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;index out of bounds:&quot;</span> &lt;&lt; index;
<a name="l06548"></a>06548     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l06549"></a>06549   }
<a name="l06550"></a>06550 }
<a name="l06551"></a>06551 
<a name="l06559"></a><a class="code" href="class_q_custom_plot.html#a9a409bb3201878adb7ffba1c89c4e004">06559</a> <span class="keywordtype">int</span> <a class="code" href="class_q_custom_plot.html#a9a409bb3201878adb7ffba1c89c4e004">QCustomPlot::clearPlottables</a>()
<a name="l06560"></a>06560 {
<a name="l06561"></a>06561   <span class="keywordtype">int</span> c = <a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.size();
<a name="l06562"></a>06562   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=c-1; i &gt;= 0; --i)
<a name="l06563"></a>06563     <a class="code" href="class_q_custom_plot.html#af3dafd56884208474f311d6226513ab2">removePlottable</a>(<a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>[i]);
<a name="l06564"></a>06564   <span class="keywordflow">return</span> c;
<a name="l06565"></a>06565 }
<a name="l06566"></a>06566 
<a name="l06572"></a><a class="code" href="class_q_custom_plot.html#a2dbfbf15dc38713f9a1c445a3dd2e989">06572</a> <span class="keywordtype">int</span> <a class="code" href="class_q_custom_plot.html#a2dbfbf15dc38713f9a1c445a3dd2e989">QCustomPlot::plottableCount</a>()<span class="keyword"> const</span>
<a name="l06573"></a>06573 <span class="keyword"></span>{
<a name="l06574"></a>06574   <span class="keywordflow">return</span> <a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.size();
<a name="l06575"></a>06575 }
<a name="l06576"></a>06576 
<a name="l06584"></a><a class="code" href="class_q_custom_plot.html#a6721b8c689bb7f2f400987e580508fe8">06584</a> QList&lt;QCPAbstractPlottable*&gt; <a class="code" href="class_q_custom_plot.html#a6721b8c689bb7f2f400987e580508fe8">QCustomPlot::selectedPlottables</a>()<span class="keyword"> const</span>
<a name="l06585"></a>06585 <span class="keyword"></span>{
<a name="l06586"></a>06586   QList&lt;QCPAbstractPlottable*&gt; result;
<a name="l06587"></a>06587   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.size(); ++i)
<a name="l06588"></a>06588   {
<a name="l06589"></a>06589     <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.at(i)-&gt;selected())
<a name="l06590"></a>06590       result.append(<a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.at(i));
<a name="l06591"></a>06591   }
<a name="l06592"></a>06592   <span class="keywordflow">return</span> result;
<a name="l06593"></a>06593 }
<a name="l06594"></a>06594 
<a name="l06605"></a><a class="code" href="class_q_custom_plot.html#ac1d1bc6ae4e13616fb02cef6d9e2188e">06605</a> <a class="code" href="class_q_c_p_abstract_plottable.html" title="The abstract base class for all data representing objects in a plot.">QCPAbstractPlottable</a> *<a class="code" href="class_q_custom_plot.html#ac1d1bc6ae4e13616fb02cef6d9e2188e">QCustomPlot::plottableAt</a>(<span class="keyword">const</span> QPointF &amp;pos, <span class="keywordtype">bool</span> onlySelectable)<span class="keyword"> const</span>
<a name="l06606"></a>06606 <span class="keyword"></span>{
<a name="l06607"></a>06607   <a class="code" href="class_q_c_p_abstract_plottable.html" title="The abstract base class for all data representing objects in a plot.">QCPAbstractPlottable</a> *resultPlottable = 0;
<a name="l06608"></a>06608   <span class="keywordtype">double</span> resultDistance = <a class="code" href="class_q_custom_plot.html#abc36e12dd0482117ad810a800c847722">mSelectionTolerance</a>; <span class="comment">// only regard clicks with distances smaller than mSelectionTolerance as selections, so initialize with that value</span>
<a name="l06609"></a>06609   
<a name="l06610"></a>06610   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.size(); ++i)
<a name="l06611"></a>06611   {
<a name="l06612"></a>06612     <a class="code" href="class_q_c_p_abstract_plottable.html" title="The abstract base class for all data representing objects in a plot.">QCPAbstractPlottable</a> *currentPlottable = <a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>[i];
<a name="l06613"></a>06613     <span class="keywordflow">if</span> (onlySelectable &amp;&amp; !currentPlottable-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#af895574da1ec0d050711b6c9deda296a">selectable</a>())
<a name="l06614"></a>06614       <span class="keywordflow">continue</span>;
<a name="l06615"></a>06615     <span class="keywordflow">if</span> ((currentPlottable-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#a72c7a09c22963f2c943f07112b311103">keyAxis</a>()-&gt;<a class="code" href="class_q_c_p_axis.html#a7fe5b84f4891838b63ed5181f5811dc5">axisRect</a>() | currentPlottable-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#a3106f9d34d330a6097a8ec5905e5b519">valueAxis</a>()-&gt;<a class="code" href="class_q_c_p_axis.html#a7fe5b84f4891838b63ed5181f5811dc5">axisRect</a>()).contains(pos.toPoint())) <span class="comment">// only consider clicks inside the rect that is spanned by the plottable&#39;s key/value axes</span>
<a name="l06616"></a>06616     {
<a name="l06617"></a>06617       <span class="keywordtype">double</span> currentDistance = currentPlottable-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#a0fd218d6c4974b6ab05bd2f688818556">selectTest</a>(pos);
<a name="l06618"></a>06618       <span class="keywordflow">if</span> (currentDistance &gt;= 0 &amp;&amp; currentDistance &lt; resultDistance)
<a name="l06619"></a>06619       {
<a name="l06620"></a>06620         resultPlottable = currentPlottable;
<a name="l06621"></a>06621         resultDistance = currentDistance;
<a name="l06622"></a>06622       }
<a name="l06623"></a>06623     }
<a name="l06624"></a>06624   }
<a name="l06625"></a>06625   
<a name="l06626"></a>06626   <span class="keywordflow">return</span> resultPlottable;
<a name="l06627"></a>06627 }
<a name="l06628"></a>06628 
<a name="l06634"></a><a class="code" href="class_q_custom_plot.html#a4fc28914e2ee91aab424b7ce46b6bdf1">06634</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#a4fc28914e2ee91aab424b7ce46b6bdf1">QCustomPlot::hasPlottable</a>(<a class="code" href="class_q_c_p_abstract_plottable.html" title="The abstract base class for all data representing objects in a plot.">QCPAbstractPlottable</a> *plottable)<span class="keyword"> const</span>
<a name="l06635"></a>06635 <span class="keyword"></span>{
<a name="l06636"></a>06636   <span class="keywordflow">return</span> <a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.contains(plottable);
<a name="l06637"></a>06637 }
<a name="l06638"></a>06638 
<a name="l06647"></a><a class="code" href="class_q_custom_plot.html#a6d3ed93c2bf46ab7fa670d66be4cddaf">06647</a> <a class="code" href="class_q_c_p_graph.html" title="A plottable representing a graph in a plot.">QCPGraph</a> *<a class="code" href="class_q_custom_plot.html#a80c40ced2a74eefe9e92de1e82ba2274">QCustomPlot::graph</a>(<span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l06648"></a>06648 <span class="keyword"></span>{
<a name="l06649"></a>06649   <span class="keywordflow">if</span> (index &gt;= 0 &amp;&amp; index &lt; <a class="code" href="class_q_custom_plot.html#adaf8d407d72a725169d7dbed2ee386bb">mGraphs</a>.size())
<a name="l06650"></a>06650   {
<a name="l06651"></a>06651     <span class="keywordflow">return</span> <a class="code" href="class_q_custom_plot.html#adaf8d407d72a725169d7dbed2ee386bb">mGraphs</a>.at(index);
<a name="l06652"></a>06652   } <span class="keywordflow">else</span>
<a name="l06653"></a>06653   {
<a name="l06654"></a>06654     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;index out of bounds:&quot;</span> &lt;&lt; index;
<a name="l06655"></a>06655     <span class="keywordflow">return</span> 0;
<a name="l06656"></a>06656   }
<a name="l06657"></a>06657 }
<a name="l06658"></a>06658 
<a name="l06666"></a><a class="code" href="class_q_custom_plot.html#a80c40ced2a74eefe9e92de1e82ba2274">06666</a> <a class="code" href="class_q_c_p_graph.html" title="A plottable representing a graph in a plot.">QCPGraph</a> *<a class="code" href="class_q_custom_plot.html#a80c40ced2a74eefe9e92de1e82ba2274">QCustomPlot::graph</a>()<span class="keyword"> const</span>
<a name="l06667"></a>06667 <span class="keyword"></span>{
<a name="l06668"></a>06668   <span class="keywordflow">if</span> (!<a class="code" href="class_q_custom_plot.html#adaf8d407d72a725169d7dbed2ee386bb">mGraphs</a>.isEmpty())
<a name="l06669"></a>06669   {
<a name="l06670"></a>06670     <span class="keywordflow">return</span> <a class="code" href="class_q_custom_plot.html#adaf8d407d72a725169d7dbed2ee386bb">mGraphs</a>.last();
<a name="l06671"></a>06671   } <span class="keywordflow">else</span>
<a name="l06672"></a>06672     <span class="keywordflow">return</span> 0;
<a name="l06673"></a>06673 }
<a name="l06674"></a>06674 
<a name="l06687"></a><a class="code" href="class_q_custom_plot.html#a6fb2873d35a8a8089842d81a70a54167">06687</a> <a class="code" href="class_q_c_p_graph.html" title="A plottable representing a graph in a plot.">QCPGraph</a> *<a class="code" href="class_q_custom_plot.html#a6fb2873d35a8a8089842d81a70a54167">QCustomPlot::addGraph</a>(<a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *keyAxis, <a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *valueAxis)
<a name="l06688"></a>06688 {
<a name="l06689"></a>06689   <span class="keywordflow">if</span> (!keyAxis) keyAxis = <a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a>;
<a name="l06690"></a>06690   <span class="keywordflow">if</span> (!valueAxis) valueAxis = <a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a>;
<a name="l06691"></a>06691   <span class="keywordflow">if</span> (keyAxis-&gt;<a class="code" href="class_q_c_p_layerable.html#ab7e0e94461566093d36ffc0f5312b109">parentPlot</a>() != <span class="keyword">this</span> || valueAxis-&gt;<a class="code" href="class_q_c_p_layerable.html#ab7e0e94461566093d36ffc0f5312b109">parentPlot</a>() != <span class="keyword">this</span>)
<a name="l06692"></a>06692   {
<a name="l06693"></a>06693     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;passed keyAxis or valueAxis doesn&#39;t have this QCustomPlot as parent&quot;</span>;
<a name="l06694"></a>06694     <span class="keywordflow">return</span> 0;
<a name="l06695"></a>06695   }
<a name="l06696"></a>06696   
<a name="l06697"></a>06697   <a class="code" href="class_q_c_p_graph.html" title="A plottable representing a graph in a plot.">QCPGraph</a> *newGraph = <span class="keyword">new</span> <a class="code" href="class_q_c_p_graph.html" title="A plottable representing a graph in a plot.">QCPGraph</a>(keyAxis, valueAxis);
<a name="l06698"></a>06698   <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#ab7ad9174f701f9c6f64e378df77927a6">addPlottable</a>(newGraph))
<a name="l06699"></a>06699   {
<a name="l06700"></a>06700     newGraph-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#ab79c7ba76bc7fa89a4b3580e12149f1f">setName</a>(<span class="stringliteral">&quot;Graph &quot;</span>+QString::number(<a class="code" href="class_q_custom_plot.html#adaf8d407d72a725169d7dbed2ee386bb">mGraphs</a>.size()));
<a name="l06701"></a>06701     <span class="keywordflow">return</span> newGraph;
<a name="l06702"></a>06702   } <span class="keywordflow">else</span>
<a name="l06703"></a>06703   {
<a name="l06704"></a>06704     <span class="keyword">delete</span> newGraph;
<a name="l06705"></a>06705     <span class="keywordflow">return</span> 0;
<a name="l06706"></a>06706   }
<a name="l06707"></a>06707 }
<a name="l06708"></a>06708 
<a name="l06718"></a><a class="code" href="class_q_custom_plot.html#a903561be895fb6528a770d66ac5e6713">06718</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#a903561be895fb6528a770d66ac5e6713">QCustomPlot::removeGraph</a>(<a class="code" href="class_q_c_p_graph.html" title="A plottable representing a graph in a plot.">QCPGraph</a> *graph)
<a name="l06719"></a>06719 {
<a name="l06720"></a>06720   <span class="keywordflow">return</span> <a class="code" href="class_q_custom_plot.html#af3dafd56884208474f311d6226513ab2">removePlottable</a>(graph);
<a name="l06721"></a>06721 }
<a name="l06722"></a>06722 
<a name="l06727"></a><a class="code" href="class_q_custom_plot.html#a9554b3d2d5b10c0f884bd4010b6c192c">06727</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#a903561be895fb6528a770d66ac5e6713">QCustomPlot::removeGraph</a>(<span class="keywordtype">int</span> index)
<a name="l06728"></a>06728 {
<a name="l06729"></a>06729   <span class="keywordflow">if</span> (index &gt;= 0 &amp;&amp; index &lt; <a class="code" href="class_q_custom_plot.html#adaf8d407d72a725169d7dbed2ee386bb">mGraphs</a>.size())
<a name="l06730"></a>06730     <span class="keywordflow">return</span> <a class="code" href="class_q_custom_plot.html#a903561be895fb6528a770d66ac5e6713">removeGraph</a>(<a class="code" href="class_q_custom_plot.html#adaf8d407d72a725169d7dbed2ee386bb">mGraphs</a>[index]);
<a name="l06731"></a>06731   <span class="keywordflow">else</span>
<a name="l06732"></a>06732     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l06733"></a>06733 }
<a name="l06734"></a>06734 
<a name="l06740"></a><a class="code" href="class_q_custom_plot.html#ab0f3abff2d2f7df3668b5836f39207fa">06740</a> <span class="keywordtype">int</span> <a class="code" href="class_q_custom_plot.html#ab0f3abff2d2f7df3668b5836f39207fa">QCustomPlot::clearGraphs</a>()
<a name="l06741"></a>06741 {
<a name="l06742"></a>06742   <span class="keywordtype">int</span> c = <a class="code" href="class_q_custom_plot.html#adaf8d407d72a725169d7dbed2ee386bb">mGraphs</a>.size();
<a name="l06743"></a>06743   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=c-1; i &gt;= 0; --i)
<a name="l06744"></a>06744     <a class="code" href="class_q_custom_plot.html#a903561be895fb6528a770d66ac5e6713">removeGraph</a>(<a class="code" href="class_q_custom_plot.html#adaf8d407d72a725169d7dbed2ee386bb">mGraphs</a>[i]);
<a name="l06745"></a>06745   <span class="keywordflow">return</span> c;
<a name="l06746"></a>06746 }
<a name="l06747"></a>06747 
<a name="l06753"></a><a class="code" href="class_q_custom_plot.html#a7d9b4d19114b2fde60f0233eeb0aa682">06753</a> <span class="keywordtype">int</span> <a class="code" href="class_q_custom_plot.html#a7d9b4d19114b2fde60f0233eeb0aa682">QCustomPlot::graphCount</a>()<span class="keyword"> const</span>
<a name="l06754"></a>06754 <span class="keyword"></span>{
<a name="l06755"></a>06755   <span class="keywordflow">return</span> <a class="code" href="class_q_custom_plot.html#adaf8d407d72a725169d7dbed2ee386bb">mGraphs</a>.size();
<a name="l06756"></a>06756 }
<a name="l06757"></a>06757 
<a name="l06767"></a><a class="code" href="class_q_custom_plot.html#ad2a0493bdd01e7aa99a4209ae3a5b67b">06767</a> QList&lt;QCPGraph*&gt; <a class="code" href="class_q_custom_plot.html#ad2a0493bdd01e7aa99a4209ae3a5b67b">QCustomPlot::selectedGraphs</a>()<span class="keyword"> const</span>
<a name="l06768"></a>06768 <span class="keyword"></span>{
<a name="l06769"></a>06769   QList&lt;QCPGraph*&gt; result;
<a name="l06770"></a>06770   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_custom_plot.html#adaf8d407d72a725169d7dbed2ee386bb">mGraphs</a>.size(); ++i)
<a name="l06771"></a>06771   {
<a name="l06772"></a>06772     <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#adaf8d407d72a725169d7dbed2ee386bb">mGraphs</a>.at(i)-&gt;selected())
<a name="l06773"></a>06773       result.append(<a class="code" href="class_q_custom_plot.html#adaf8d407d72a725169d7dbed2ee386bb">mGraphs</a>.at(i));
<a name="l06774"></a>06774   }
<a name="l06775"></a>06775   <span class="keywordflow">return</span> result;
<a name="l06776"></a>06776 }
<a name="l06777"></a>06777 
<a name="l06786"></a><a class="code" href="class_q_custom_plot.html#a3e842b5a65b1d17fbb96cfb1fa1314d1">06786</a> <a class="code" href="class_q_c_p_abstract_item.html" title="The abstract base class for all items in a plot.">QCPAbstractItem</a> *<a class="code" href="class_q_custom_plot.html#a700399eae539798c5baf64a37c7f2135">QCustomPlot::item</a>(<span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l06787"></a>06787 <span class="keyword"></span>{
<a name="l06788"></a>06788   <span class="keywordflow">if</span> (index &gt;= 0 &amp;&amp; index &lt; <a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.size())
<a name="l06789"></a>06789   {
<a name="l06790"></a>06790     <span class="keywordflow">return</span> <a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.at(index);
<a name="l06791"></a>06791   } <span class="keywordflow">else</span>
<a name="l06792"></a>06792   {
<a name="l06793"></a>06793     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;index out of bounds:&quot;</span> &lt;&lt; index;
<a name="l06794"></a>06794     <span class="keywordflow">return</span> 0;
<a name="l06795"></a>06795   }
<a name="l06796"></a>06796 }
<a name="l06797"></a>06797 
<a name="l06805"></a><a class="code" href="class_q_custom_plot.html#a700399eae539798c5baf64a37c7f2135">06805</a> <a class="code" href="class_q_c_p_abstract_item.html" title="The abstract base class for all items in a plot.">QCPAbstractItem</a> *<a class="code" href="class_q_custom_plot.html#a700399eae539798c5baf64a37c7f2135">QCustomPlot::item</a>()<span class="keyword"> const</span>
<a name="l06806"></a>06806 <span class="keyword"></span>{
<a name="l06807"></a>06807   <span class="keywordflow">if</span> (!<a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.isEmpty())
<a name="l06808"></a>06808   {
<a name="l06809"></a>06809     <span class="keywordflow">return</span> <a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.last();
<a name="l06810"></a>06810   } <span class="keywordflow">else</span>
<a name="l06811"></a>06811     <span class="keywordflow">return</span> 0;
<a name="l06812"></a>06812 }
<a name="l06813"></a>06813 
<a name="l06822"></a><a class="code" href="class_q_custom_plot.html#aa500620379262321685cb7a7674cbd2a">06822</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#aa500620379262321685cb7a7674cbd2a">QCustomPlot::addItem</a>(<a class="code" href="class_q_c_p_abstract_item.html" title="The abstract base class for all items in a plot.">QCPAbstractItem</a> *item)
<a name="l06823"></a>06823 {
<a name="l06824"></a>06824   <span class="keywordflow">if</span> (!<a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.contains(item) &amp;&amp; item-&gt;<a class="code" href="class_q_c_p_layerable.html#ab7e0e94461566093d36ffc0f5312b109">parentPlot</a>() == <span class="keyword">this</span>)
<a name="l06825"></a>06825   {
<a name="l06826"></a>06826     <a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.append(item);
<a name="l06827"></a>06827     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l06828"></a>06828   } <span class="keywordflow">else</span>
<a name="l06829"></a>06829   {
<a name="l06830"></a>06830     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;item either already in list or not created with this QCustomPlot as parent:&quot;</span> &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span>quintptr<span class="keyword">&gt;</span>(<a class="code" href="class_q_custom_plot.html#a700399eae539798c5baf64a37c7f2135">item</a>);
<a name="l06831"></a>06831     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l06832"></a>06832   }
<a name="l06833"></a>06833 }
<a name="l06834"></a>06834 
<a name="l06842"></a><a class="code" href="class_q_custom_plot.html#ae04446557292551e8fb6e2c106e1848d">06842</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#ae04446557292551e8fb6e2c106e1848d">QCustomPlot::removeItem</a>(<a class="code" href="class_q_c_p_abstract_item.html" title="The abstract base class for all items in a plot.">QCPAbstractItem</a> *item)
<a name="l06843"></a>06843 {
<a name="l06844"></a>06844   <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.contains(item))
<a name="l06845"></a>06845   {
<a name="l06846"></a>06846     <span class="keyword">delete</span> <a class="code" href="class_q_custom_plot.html#a700399eae539798c5baf64a37c7f2135">item</a>;
<a name="l06847"></a>06847     <a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.removeOne(item);
<a name="l06848"></a>06848     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l06849"></a>06849   } <span class="keywordflow">else</span>
<a name="l06850"></a>06850   {
<a name="l06851"></a>06851     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;item not in list:&quot;</span> &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span>quintptr<span class="keyword">&gt;</span>(<a class="code" href="class_q_custom_plot.html#a700399eae539798c5baf64a37c7f2135">item</a>);
<a name="l06852"></a>06852     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l06853"></a>06853   }
<a name="l06854"></a>06854 }
<a name="l06855"></a>06855 
<a name="l06860"></a><a class="code" href="class_q_custom_plot.html#abcfdda3d601c0441cab136137d715dea">06860</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#ae04446557292551e8fb6e2c106e1848d">QCustomPlot::removeItem</a>(<span class="keywordtype">int</span> index)
<a name="l06861"></a>06861 {
<a name="l06862"></a>06862   <span class="keywordflow">if</span> (index &gt;= 0 &amp;&amp; index &lt; <a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.size())
<a name="l06863"></a>06863     <span class="keywordflow">return</span> <a class="code" href="class_q_custom_plot.html#ae04446557292551e8fb6e2c106e1848d">removeItem</a>(<a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>[index]);
<a name="l06864"></a>06864   <span class="keywordflow">else</span>
<a name="l06865"></a>06865   {
<a name="l06866"></a>06866     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;index out of bounds:&quot;</span> &lt;&lt; index;
<a name="l06867"></a>06867     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l06868"></a>06868   }
<a name="l06869"></a>06869 }
<a name="l06870"></a>06870 
<a name="l06878"></a><a class="code" href="class_q_custom_plot.html#abdfd07d4f0591d0cf967f85013fd3645">06878</a> <span class="keywordtype">int</span> <a class="code" href="class_q_custom_plot.html#abdfd07d4f0591d0cf967f85013fd3645">QCustomPlot::clearItems</a>()
<a name="l06879"></a>06879 {
<a name="l06880"></a>06880   <span class="keywordtype">int</span> c = <a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.size();
<a name="l06881"></a>06881   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=c-1; i &gt;= 0; --i)
<a name="l06882"></a>06882     <a class="code" href="class_q_custom_plot.html#ae04446557292551e8fb6e2c106e1848d">removeItem</a>(<a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>[i]);
<a name="l06883"></a>06883   <span class="keywordflow">return</span> c;
<a name="l06884"></a>06884 }
<a name="l06885"></a>06885 
<a name="l06891"></a><a class="code" href="class_q_custom_plot.html#a6fc860e30df17fd5c46056bf6fe29390">06891</a> <span class="keywordtype">int</span> <a class="code" href="class_q_custom_plot.html#a6fc860e30df17fd5c46056bf6fe29390">QCustomPlot::itemCount</a>()<span class="keyword"> const</span>
<a name="l06892"></a>06892 <span class="keyword"></span>{
<a name="l06893"></a>06893   <span class="keywordflow">return</span> <a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.size();
<a name="l06894"></a>06894 }
<a name="l06895"></a>06895 
<a name="l06901"></a><a class="code" href="class_q_custom_plot.html#a1a48b13547e2d9ac5cd6927516f47a2e">06901</a> QList&lt;QCPAbstractItem*&gt; <a class="code" href="class_q_custom_plot.html#a1a48b13547e2d9ac5cd6927516f47a2e">QCustomPlot::selectedItems</a>()<span class="keyword"> const</span>
<a name="l06902"></a>06902 <span class="keyword"></span>{
<a name="l06903"></a>06903   QList&lt;QCPAbstractItem*&gt; result;
<a name="l06904"></a>06904   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.size(); ++i)
<a name="l06905"></a>06905   {
<a name="l06906"></a>06906     <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.at(i)-&gt;selected())
<a name="l06907"></a>06907       result.append(<a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.at(i));
<a name="l06908"></a>06908   }
<a name="l06909"></a>06909   <span class="keywordflow">return</span> result;
<a name="l06910"></a>06910 }
<a name="l06911"></a>06911 
<a name="l06923"></a><a class="code" href="class_q_custom_plot.html#a793e4b04e0ede11a733021907368fa83">06923</a> <a class="code" href="class_q_c_p_abstract_item.html" title="The abstract base class for all items in a plot.">QCPAbstractItem</a> *<a class="code" href="class_q_custom_plot.html#a793e4b04e0ede11a733021907368fa83">QCustomPlot::itemAt</a>(<span class="keyword">const</span> QPointF &amp;pos, <span class="keywordtype">bool</span> onlySelectable)<span class="keyword"> const</span>
<a name="l06924"></a>06924 <span class="keyword"></span>{
<a name="l06925"></a>06925   <a class="code" href="class_q_c_p_abstract_item.html" title="The abstract base class for all items in a plot.">QCPAbstractItem</a> *resultItem = 0;
<a name="l06926"></a>06926   <span class="keywordtype">double</span> resultDistance = <a class="code" href="class_q_custom_plot.html#abc36e12dd0482117ad810a800c847722">mSelectionTolerance</a>; <span class="comment">// only regard clicks with distances smaller than mSelectionTolerance as selections, so initialize with that value</span>
<a name="l06927"></a>06927   
<a name="l06928"></a>06928   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.size(); ++i)
<a name="l06929"></a>06929   {
<a name="l06930"></a>06930     <a class="code" href="class_q_c_p_abstract_item.html" title="The abstract base class for all items in a plot.">QCPAbstractItem</a> *currentItem = <a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>[i];
<a name="l06931"></a>06931     <span class="keywordflow">if</span> (onlySelectable &amp;&amp; !currentItem-&gt;<a class="code" href="class_q_c_p_abstract_item.html#a9189e752025533e1595eaade0009a3bc">selectable</a>())
<a name="l06932"></a>06932       <span class="keywordflow">continue</span>;
<a name="l06933"></a>06933     <span class="keywordflow">if</span> (!currentItem-&gt;<a class="code" href="class_q_c_p_abstract_item.html#a5b0ea171823033bcb8aee81f4a034871">clipToAxisRect</a>() || currentItem-&gt;<a class="code" href="class_q_c_p_abstract_item.html#a538e25ff8856534582f5b2b400a46405">clipRect</a>().contains(pos.toPoint())) <span class="comment">// only consider clicks inside axis cliprect of the item if actually clipped to it</span>
<a name="l06934"></a>06934     {
<a name="l06935"></a>06935       <span class="keywordtype">double</span> currentDistance = currentItem-&gt;<a class="code" href="class_q_c_p_abstract_item.html#a2e19e88f67f4ba9c13b7e33bd447c075">selectTest</a>(pos);
<a name="l06936"></a>06936       <span class="keywordflow">if</span> (currentDistance &gt;= 0 &amp;&amp; currentDistance &lt; resultDistance)
<a name="l06937"></a>06937       {
<a name="l06938"></a>06938         resultItem = currentItem;
<a name="l06939"></a>06939         resultDistance = currentDistance;
<a name="l06940"></a>06940       }
<a name="l06941"></a>06941     }
<a name="l06942"></a>06942   }
<a name="l06943"></a>06943   
<a name="l06944"></a>06944   <span class="keywordflow">return</span> resultItem;
<a name="l06945"></a>06945 }
<a name="l06946"></a>06946 
<a name="l06952"></a><a class="code" href="class_q_custom_plot.html#aac492da01782820454e9136a8db28182">06952</a> <a class="code" href="class_q_c_p_layer.html" title="A layer that may contain objects, to control the rendering order.">QCPLayer</a> *<a class="code" href="class_q_custom_plot.html#aac492da01782820454e9136a8db28182">QCustomPlot::layer</a>(<span class="keyword">const</span> QString &amp;name)<span class="keyword"> const</span>
<a name="l06953"></a>06953 <span class="keyword"></span>{
<a name="l06954"></a>06954   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.size(); ++i)
<a name="l06955"></a>06955   {
<a name="l06956"></a>06956     <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.at(i)-&gt;name() == name)
<a name="l06957"></a>06957       <span class="keywordflow">return</span> <a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.at(i);
<a name="l06958"></a>06958   }
<a name="l06959"></a>06959   <span class="keywordflow">return</span> 0;
<a name="l06960"></a>06960 }
<a name="l06961"></a>06961 
<a name="l06968"></a><a class="code" href="class_q_custom_plot.html#a1e73051e371f1815b48d8b355be0d2ab">06968</a> <a class="code" href="class_q_c_p_layer.html" title="A layer that may contain objects, to control the rendering order.">QCPLayer</a> *<a class="code" href="class_q_custom_plot.html#aac492da01782820454e9136a8db28182">QCustomPlot::layer</a>(<span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l06969"></a>06969 <span class="keyword"></span>{
<a name="l06970"></a>06970   <span class="keywordflow">if</span> (index &gt;= 0 &amp;&amp; index &lt; <a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.size())
<a name="l06971"></a>06971   {
<a name="l06972"></a>06972     <span class="keywordflow">return</span> <a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.at(index);
<a name="l06973"></a>06973   } <span class="keywordflow">else</span>
<a name="l06974"></a>06974   {
<a name="l06975"></a>06975     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;index out of bounds:&quot;</span> &lt;&lt; index;
<a name="l06976"></a>06976     <span class="keywordflow">return</span> 0;
<a name="l06977"></a>06977   }
<a name="l06978"></a>06978 }
<a name="l06979"></a>06979 
<a name="l06983"></a><a class="code" href="class_q_custom_plot.html#af73057345656cbd1463454982d808b00">06983</a> <a class="code" href="class_q_c_p_layer.html" title="A layer that may contain objects, to control the rendering order.">QCPLayer</a> *<a class="code" href="class_q_custom_plot.html#af73057345656cbd1463454982d808b00">QCustomPlot::currentLayer</a>()<span class="keyword"> const</span>
<a name="l06984"></a>06984 <span class="keyword"></span>{
<a name="l06985"></a>06985   <span class="keywordflow">return</span> <a class="code" href="class_q_custom_plot.html#aa27569c92e74395af10151357d268628">mCurrentLayer</a>; 
<a name="l06986"></a>06986 }
<a name="l06987"></a>06987 
<a name="l06997"></a><a class="code" href="class_q_custom_plot.html#a73a6dc47c653bb6f8f030abca5a11852">06997</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#a73a6dc47c653bb6f8f030abca5a11852">QCustomPlot::setCurrentLayer</a>(<span class="keyword">const</span> QString &amp;name)
<a name="l06998"></a>06998 {
<a name="l06999"></a>06999   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_layer.html" title="A layer that may contain objects, to control the rendering order.">QCPLayer</a> *newCurrentLayer = <a class="code" href="class_q_custom_plot.html#aac492da01782820454e9136a8db28182">layer</a>(name))
<a name="l07000"></a>07000   {
<a name="l07001"></a>07001     <span class="keywordflow">return</span> <a class="code" href="class_q_custom_plot.html#a73a6dc47c653bb6f8f030abca5a11852">setCurrentLayer</a>(newCurrentLayer);
<a name="l07002"></a>07002   } <span class="keywordflow">else</span>
<a name="l07003"></a>07003   {
<a name="l07004"></a>07004     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;layer with name doesn&#39;t exist:&quot;</span> &lt;&lt; name;
<a name="l07005"></a>07005     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l07006"></a>07006   }
<a name="l07007"></a>07007 }
<a name="l07008"></a>07008 
<a name="l07017"></a><a class="code" href="class_q_custom_plot.html#a23a4d3cadad1a0063c5fe19aac5659e6">07017</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#a73a6dc47c653bb6f8f030abca5a11852">QCustomPlot::setCurrentLayer</a>(<a class="code" href="class_q_c_p_layer.html" title="A layer that may contain objects, to control the rendering order.">QCPLayer</a> *layer)
<a name="l07018"></a>07018 {
<a name="l07019"></a>07019   <span class="keywordflow">if</span> (!<a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.contains(layer))
<a name="l07020"></a>07020   {
<a name="l07021"></a>07021     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;layer not a layer of this QCustomPlot:&quot;</span> &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span>quintptr<span class="keyword">&gt;</span>(<a class="code" href="class_q_custom_plot.html#aac492da01782820454e9136a8db28182">layer</a>);
<a name="l07022"></a>07022     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l07023"></a>07023   }
<a name="l07024"></a>07024   
<a name="l07025"></a>07025   <a class="code" href="class_q_custom_plot.html#aa27569c92e74395af10151357d268628">mCurrentLayer</a> = <a class="code" href="class_q_custom_plot.html#aac492da01782820454e9136a8db28182">layer</a>;
<a name="l07026"></a>07026   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l07027"></a>07027 }
<a name="l07028"></a>07028 
<a name="l07034"></a><a class="code" href="class_q_custom_plot.html#a1b3926884f5bd4bdda1495d8b3c891d0">07034</a> <span class="keywordtype">int</span> <a class="code" href="class_q_custom_plot.html#a1b3926884f5bd4bdda1495d8b3c891d0">QCustomPlot::layerCount</a>()<span class="keyword"> const</span>
<a name="l07035"></a>07035 <span class="keyword"></span>{
<a name="l07036"></a>07036   <span class="keywordflow">return</span> <a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.size();
<a name="l07037"></a>07037 }
<a name="l07038"></a>07038 
<a name="l07052"></a><a class="code" href="class_q_custom_plot.html#ad5255393df078448bb6ac83fa5db5f52">07052</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#ad5255393df078448bb6ac83fa5db5f52">QCustomPlot::addLayer</a>(<span class="keyword">const</span> QString &amp;name, <a class="code" href="class_q_c_p_layer.html" title="A layer that may contain objects, to control the rendering order.">QCPLayer</a> *otherLayer, <a class="code" href="class_q_custom_plot.html#a75a8afbe6ef333b1f3d47abb25b9add7">QCustomPlot::LayerInsertMode</a> insertMode)
<a name="l07053"></a>07053 {
<a name="l07054"></a>07054   <span class="keywordflow">if</span> (!otherLayer)
<a name="l07055"></a>07055     otherLayer = <a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.last();
<a name="l07056"></a>07056   <span class="keywordflow">if</span> (!<a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.contains(otherLayer))
<a name="l07057"></a>07057   {
<a name="l07058"></a>07058     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;otherLayer not a layer of this QCustomPlot:&quot;</span> &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span>quintptr<span class="keyword">&gt;</span>(otherLayer);
<a name="l07059"></a>07059     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l07060"></a>07060   }
<a name="l07061"></a>07061   <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#aac492da01782820454e9136a8db28182">layer</a>(name))
<a name="l07062"></a>07062   {
<a name="l07063"></a>07063     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;A layer exists already with the name&quot;</span> &lt;&lt; name;
<a name="l07064"></a>07064     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l07065"></a>07065   }
<a name="l07066"></a>07066     
<a name="l07067"></a>07067   <a class="code" href="class_q_c_p_layer.html" title="A layer that may contain objects, to control the rendering order.">QCPLayer</a> *newLayer = <span class="keyword">new</span> <a class="code" href="class_q_custom_plot.html#a5dbf96bf7664c1b6fce49063eeea6eef">QCPLayer</a>(<span class="keyword">this</span>, name);
<a name="l07068"></a>07068   <a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.insert(otherLayer-&gt;<a class="code" href="class_q_c_p_layer.html#ad5d7010829a6b99f326b07d7e37c8c99">index</a>() + (insertMode==<a class="code" href="class_q_custom_plot.html#a75a8afbe6ef333b1f3d47abb25b9add7a062b0b7825650b432a713c0df6742d41" title="Layer is inserted above other layer.">limAbove</a> ? 1:0), newLayer);
<a name="l07069"></a>07069   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l07070"></a>07070 }
<a name="l07071"></a>07071 
<a name="l07086"></a><a class="code" href="class_q_custom_plot.html#a40f75e342c5eaab6a86066a42a0e2a94">07086</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#a40f75e342c5eaab6a86066a42a0e2a94">QCustomPlot::removeLayer</a>(<a class="code" href="class_q_c_p_layer.html" title="A layer that may contain objects, to control the rendering order.">QCPLayer</a> *layer)
<a name="l07087"></a>07087 {
<a name="l07088"></a>07088   <span class="keywordflow">if</span> (!<a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.contains(layer))
<a name="l07089"></a>07089   {
<a name="l07090"></a>07090     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;layer not a layer of this QCustomPlot:&quot;</span> &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span>quintptr<span class="keyword">&gt;</span>(<a class="code" href="class_q_custom_plot.html#aac492da01782820454e9136a8db28182">layer</a>);
<a name="l07091"></a>07091     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l07092"></a>07092   }
<a name="l07093"></a>07093   <span class="keywordflow">if</span> (!<a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.size() &gt; 1)
<a name="l07094"></a>07094   {
<a name="l07095"></a>07095     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;can&#39;t remove last layer&quot;</span>;
<a name="l07096"></a>07096     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l07097"></a>07097   }
<a name="l07098"></a>07098   
<a name="l07099"></a>07099   <span class="comment">// append all children of this layer to layer below (if this is lowest layer, prepend to layer above)</span>
<a name="l07100"></a>07100   <span class="keywordtype">int</span> removedIndex = layer-&gt;<a class="code" href="class_q_c_p_layer.html#ad5d7010829a6b99f326b07d7e37c8c99">index</a>();
<a name="l07101"></a>07101   <span class="keywordtype">bool</span> isFirstLayer = removedIndex==0;
<a name="l07102"></a>07102   <a class="code" href="class_q_c_p_layer.html" title="A layer that may contain objects, to control the rendering order.">QCPLayer</a> *targetLayer = isFirstLayer ? <a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.at(removedIndex+1) : <a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.at(removedIndex-1);
<a name="l07103"></a>07103   QList&lt;QCPLayerable*&gt; children = layer-&gt;<a class="code" href="class_q_c_p_layer.html#a94c2f0100e48cefad2de8fe0fbb03c27">children</a>();
<a name="l07104"></a>07104   <span class="keywordflow">if</span> (isFirstLayer) <span class="comment">// prepend in reverse order (so order relative to each other stays the same)</span>
<a name="l07105"></a>07105   {
<a name="l07106"></a>07106     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=children.size()-1; i&gt;=0; --i)
<a name="l07107"></a>07107       children.at(i)-&gt;moveToLayer(targetLayer, <span class="keyword">true</span>);
<a name="l07108"></a>07108   } <span class="keywordflow">else</span>  <span class="comment">// append normally</span>
<a name="l07109"></a>07109   {
<a name="l07110"></a>07110     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;children.size(); ++i)
<a name="l07111"></a>07111       children.at(i)-&gt;moveToLayer(targetLayer, <span class="keyword">false</span>);
<a name="l07112"></a>07112   }
<a name="l07113"></a>07113   <span class="comment">// if removed layer is current layer, change current layer to layer below/above:</span>
<a name="l07114"></a>07114   <span class="keywordflow">if</span> (layer == <a class="code" href="class_q_custom_plot.html#aa27569c92e74395af10151357d268628">mCurrentLayer</a>)
<a name="l07115"></a>07115     <a class="code" href="class_q_custom_plot.html#a73a6dc47c653bb6f8f030abca5a11852">setCurrentLayer</a>(targetLayer);
<a name="l07116"></a>07116   <span class="comment">// remove layer:</span>
<a name="l07117"></a>07117   <span class="keyword">delete</span> <a class="code" href="class_q_custom_plot.html#aac492da01782820454e9136a8db28182">layer</a>;
<a name="l07118"></a>07118   <a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.removeOne(layer);
<a name="l07119"></a>07119   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l07120"></a>07120 }
<a name="l07121"></a>07121 
<a name="l07131"></a><a class="code" href="class_q_custom_plot.html#ae896140beff19424e9e9e02d6e331104">07131</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#ae896140beff19424e9e9e02d6e331104">QCustomPlot::moveLayer</a>(<a class="code" href="class_q_c_p_layer.html" title="A layer that may contain objects, to control the rendering order.">QCPLayer</a> *layer, <a class="code" href="class_q_c_p_layer.html" title="A layer that may contain objects, to control the rendering order.">QCPLayer</a> *otherLayer, <a class="code" href="class_q_custom_plot.html#a75a8afbe6ef333b1f3d47abb25b9add7">QCustomPlot::LayerInsertMode</a> insertMode)
<a name="l07132"></a>07132 {
<a name="l07133"></a>07133   <span class="keywordflow">if</span> (!<a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.contains(layer))
<a name="l07134"></a>07134   {
<a name="l07135"></a>07135     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;layer not a layer of this QCustomPlot:&quot;</span> &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span>quintptr<span class="keyword">&gt;</span>(<a class="code" href="class_q_custom_plot.html#aac492da01782820454e9136a8db28182">layer</a>);
<a name="l07136"></a>07136     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l07137"></a>07137   }
<a name="l07138"></a>07138   <span class="keywordflow">if</span> (!<a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.contains(otherLayer))
<a name="l07139"></a>07139   {
<a name="l07140"></a>07140     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;otherLayer not a layer of this QCustomPlot:&quot;</span> &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span>quintptr<span class="keyword">&gt;</span>(otherLayer);
<a name="l07141"></a>07141     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l07142"></a>07142   }
<a name="l07143"></a>07143   
<a name="l07144"></a>07144   <a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.move(layer-&gt;<a class="code" href="class_q_c_p_layer.html#ad5d7010829a6b99f326b07d7e37c8c99">index</a>(), otherLayer-&gt;<a class="code" href="class_q_c_p_layer.html#ad5d7010829a6b99f326b07d7e37c8c99">index</a>() + (insertMode==<a class="code" href="class_q_custom_plot.html#a75a8afbe6ef333b1f3d47abb25b9add7a062b0b7825650b432a713c0df6742d41" title="Layer is inserted above other layer.">limAbove</a> ? 1:0));
<a name="l07145"></a>07145   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l07146"></a>07146 }
<a name="l07147"></a>07147 
<a name="l07153"></a><a class="code" href="class_q_custom_plot.html#aa6baf867e8beb96ed5bd471f83ece903">07153</a> QList&lt;QCPAxis*&gt; <a class="code" href="class_q_custom_plot.html#aa6baf867e8beb96ed5bd471f83ece903">QCustomPlot::selectedAxes</a>()<span class="keyword"> const</span>
<a name="l07154"></a>07154 <span class="keyword"></span>{
<a name="l07155"></a>07155   QList&lt;QCPAxis*&gt; result = QList&lt;QCPAxis*&gt;() &lt;&lt; <a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a> &lt;&lt; <a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a> &lt;&lt; <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a> &lt;&lt; <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>;
<a name="l07156"></a>07156   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=result.size()-1; i&gt;=0; --i)
<a name="l07157"></a>07157   {
<a name="l07158"></a>07158     <span class="keywordflow">if</span> (result.at(i)-&gt;selected() == <a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115fae0df8123a5528d5ccf87cb7794f971ea" title="None of the selectable parts.">QCPAxis::spNone</a>)
<a name="l07159"></a>07159       result.removeAt(i);
<a name="l07160"></a>07160   }
<a name="l07161"></a>07161   <span class="keywordflow">return</span> result;
<a name="l07162"></a>07162 }
<a name="l07163"></a>07163 
<a name="l07170"></a><a class="code" href="class_q_custom_plot.html#a1ea6297300c3e2770e65f95836411755">07170</a> QList&lt;QCPLegend*&gt; <a class="code" href="class_q_custom_plot.html#a1ea6297300c3e2770e65f95836411755">QCustomPlot::selectedLegends</a>()<span class="keyword"> const</span>
<a name="l07171"></a>07171 <span class="keyword"></span>{
<a name="l07172"></a>07172   <span class="comment">/* for now, we only have the one legend. Maybe later, there will be a mechanism to have more. */</span>
<a name="l07173"></a>07173   QList&lt;QCPLegend*&gt; result;
<a name="l07174"></a>07174   <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a73da53368aa4c2db3d874cf0db50d140">legend</a>-&gt;<a class="code" href="class_q_c_p_legend.html#a10948e896935ad14f374e6f712afaae9">selected</a>() != <a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a378201c07d500af7126e3ec91652eed7" title="None.">QCPLegend::spNone</a>)
<a name="l07175"></a>07175     result.append(<a class="code" href="class_q_custom_plot.html#a73da53368aa4c2db3d874cf0db50d140">legend</a>);
<a name="l07176"></a>07176   <span class="keywordflow">return</span> result;
<a name="l07177"></a>07177 }
<a name="l07178"></a>07178 
<a name="l07188"></a><a class="code" href="class_q_custom_plot.html#a9d4808ab925b003054085246c92a257c">07188</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a9d4808ab925b003054085246c92a257c">QCustomPlot::deselectAll</a>()
<a name="l07189"></a>07189 {
<a name="l07190"></a>07190   <span class="comment">// deselect plottables:</span>
<a name="l07191"></a>07191   QList&lt;QCPAbstractPlottable*&gt; selPlottables = <a class="code" href="class_q_custom_plot.html#a6721b8c689bb7f2f400987e580508fe8">selectedPlottables</a>();
<a name="l07192"></a>07192   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;selPlottables.size(); ++i)
<a name="l07193"></a>07193     selPlottables.at(i)-&gt;setSelected(<span class="keyword">false</span>);
<a name="l07194"></a>07194   
<a name="l07195"></a>07195   <span class="comment">// deselect items:</span>
<a name="l07196"></a>07196   QList&lt;QCPAbstractItem*&gt; selItems = <a class="code" href="class_q_custom_plot.html#a1a48b13547e2d9ac5cd6927516f47a2e">selectedItems</a>();
<a name="l07197"></a>07197   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;selItems.size(); ++i)
<a name="l07198"></a>07198     selItems.at(i)-&gt;setSelected(<span class="keyword">false</span>);
<a name="l07199"></a>07199   
<a name="l07200"></a>07200   <span class="comment">// deselect axes:</span>
<a name="l07201"></a>07201   QList&lt;QCPAxis*&gt; selAxes = <a class="code" href="class_q_custom_plot.html#aa6baf867e8beb96ed5bd471f83ece903">selectedAxes</a>();
<a name="l07202"></a>07202   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;selAxes.size(); ++i)
<a name="l07203"></a>07203     selAxes.at(i)-&gt;setSelected(<a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115fae0df8123a5528d5ccf87cb7794f971ea" title="None of the selectable parts.">QCPAxis::spNone</a>);
<a name="l07204"></a>07204   
<a name="l07205"></a>07205   <span class="comment">// deselect legend (and legend items):</span>
<a name="l07206"></a>07206   <a class="code" href="class_q_custom_plot.html#a73da53368aa4c2db3d874cf0db50d140">legend</a>-&gt;<a class="code" href="class_q_c_p_legend.html#a752c48b30f8ba870b55e79659385f107">setSelected</a>(<a class="code" href="class_q_c_p_legend.html#a5404de8bc1e4a994ca4ae69e2c7072f1a378201c07d500af7126e3ec91652eed7" title="None.">QCPLegend::spNone</a>);
<a name="l07207"></a>07207   
<a name="l07208"></a>07208   <span class="comment">// deselect title:</span>
<a name="l07209"></a>07209   <a class="code" href="class_q_custom_plot.html#aa89e06c04804ff2a0994ccb1aa80d131">setTitleSelected</a>(<span class="keyword">false</span>);
<a name="l07210"></a>07210 }
<a name="l07211"></a>07211 
<a name="l07220"></a><a class="code" href="class_q_custom_plot.html#a563540b54b2a09c8ef092d42e9621f42">07220</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a563540b54b2a09c8ef092d42e9621f42">QCustomPlot::replot</a>()
<a name="l07221"></a>07221 {
<a name="l07222"></a>07222   <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#ab30daeca6612c3948afd368dce5f1c39">mReplotting</a>) <span class="comment">// incase signals loop back to replot slot</span>
<a name="l07223"></a>07223     <span class="keywordflow">return</span>;
<a name="l07224"></a>07224   <a class="code" href="class_q_custom_plot.html#ab30daeca6612c3948afd368dce5f1c39">mReplotting</a> = <span class="keyword">true</span>;
<a name="l07225"></a>07225   emit <a class="code" href="class_q_custom_plot.html#a0cd30e29b73efd6afe096e44bc5956f5">beforeReplot</a>();
<a name="l07226"></a>07226   <a class="code" href="class_q_custom_plot.html#a753630df96e0672098d9e88bd41d1913">mPaintBuffer</a>.fill(<a class="code" href="class_q_custom_plot.html#a653335b5475ede92ae8c9215606a573a">mColor</a>);
<a name="l07227"></a>07227   <a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> painter;
<a name="l07228"></a>07228   painter.begin(&amp;<a class="code" href="class_q_custom_plot.html#a753630df96e0672098d9e88bd41d1913">mPaintBuffer</a>);
<a name="l07229"></a>07229   <span class="keywordflow">if</span> (painter.isActive()) 
<a name="l07230"></a>07230   {
<a name="l07231"></a>07231     painter.setRenderHint(QPainter::HighQualityAntialiasing);
<a name="l07232"></a>07232     <a class="code" href="class_q_custom_plot.html#ad7a7d878bf050f101a43008e7d8fdb52">draw</a>(&amp;painter);
<a name="l07233"></a>07233     <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#aa184197a6101a9cc5807469e1d006c9e">mPlottingHints</a>.testFlag(<a class="code" href="namespace_q_c_p.html#a5400e5fcb9528d92002ddb938c1f4ef4aa3090dafa0e0f9a28c579c79d6c2d283">QCP::phForceRepaint</a>))
<a name="l07234"></a>07234       repaint();
<a name="l07235"></a>07235     <span class="keywordflow">else</span>
<a name="l07236"></a>07236       update();
<a name="l07237"></a>07237     painter.end();
<a name="l07238"></a>07238   } <span class="keywordflow">else</span> <span class="comment">// might happen if QCustomPlot has width or height zero</span>
<a name="l07239"></a>07239     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;Couldn&#39;t activate painter on buffer&quot;</span>;
<a name="l07240"></a>07240   emit <a class="code" href="class_q_custom_plot.html#a6f4fa624af060bc5919c5f266cf426a0">afterReplot</a>();
<a name="l07241"></a>07241   <a class="code" href="class_q_custom_plot.html#ab30daeca6612c3948afd368dce5f1c39">mReplotting</a> = <span class="keyword">false</span>;
<a name="l07242"></a>07242 }
<a name="l07243"></a>07243 
<a name="l07264"></a><a class="code" href="class_q_custom_plot.html#ad27d34bcc9e68b5482d128e2f1e38f55">07264</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#ad27d34bcc9e68b5482d128e2f1e38f55">QCustomPlot::setupFullAxesBox</a>()
<a name="l07265"></a>07265 {
<a name="l07266"></a>07266   <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a>-&gt;<a class="code" href="class_q_c_p_layerable.html#a3bed99ddc396b48ce3ebfdc0418744f8">setVisible</a>(<span class="keyword">true</span>);
<a name="l07267"></a>07267   <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>-&gt;<a class="code" href="class_q_c_p_layerable.html#a3bed99ddc396b48ce3ebfdc0418744f8">setVisible</a>(<span class="keyword">true</span>);
<a name="l07268"></a>07268   
<a name="l07269"></a>07269   <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a04ba16e1f6f78d70f938519576ed32c8">setTickLabels</a>(<span class="keyword">false</span>);
<a name="l07270"></a>07270   <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a04ba16e1f6f78d70f938519576ed32c8">setTickLabels</a>(<span class="keyword">false</span>);
<a name="l07271"></a>07271   
<a name="l07272"></a>07272   <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#adcbdec7a60054b88571e89599f4a45bf">setAutoSubTicks</a>(<a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab9a950e16f373fe5c4b79078bb97c171">autoSubTicks</a>());
<a name="l07273"></a>07273   <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#adcbdec7a60054b88571e89599f4a45bf">setAutoSubTicks</a>(<a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab9a950e16f373fe5c4b79078bb97c171">autoSubTicks</a>());
<a name="l07274"></a>07274   
<a name="l07275"></a>07275   <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a7c7111cbeac9ec5fcb40f93a1ef51a0b">setAutoTickCount</a>(<a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ac87454a1342f5d2939ab59e68b4d515b">autoTickCount</a>());
<a name="l07276"></a>07276   <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a7c7111cbeac9ec5fcb40f93a1ef51a0b">setAutoTickCount</a>(<a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ac87454a1342f5d2939ab59e68b4d515b">autoTickCount</a>());
<a name="l07277"></a>07277   
<a name="l07278"></a>07278   <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a99fe77b034e06f5b723995beab96e741">setAutoTickStep</a>(<a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae762920261b0c24beb56b893e5a2471d">autoTickStep</a>());
<a name="l07279"></a>07279   <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a99fe77b034e06f5b723995beab96e741">setAutoTickStep</a>(<a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae762920261b0c24beb56b893e5a2471d">autoTickStep</a>());
<a name="l07280"></a>07280   
<a name="l07281"></a>07281   <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#adb6c5c45bdf899ea221881dd3b43b406">setScaleType</a>(<a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a8563e13407bc0616da7f7c84e02de170">scaleType</a>());
<a name="l07282"></a>07282   <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#adb6c5c45bdf899ea221881dd3b43b406">setScaleType</a>(<a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a8563e13407bc0616da7f7c84e02de170">scaleType</a>());
<a name="l07283"></a>07283   
<a name="l07284"></a>07284   <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a726186054be90487885a748aa1b42188">setScaleLogBase</a>(<a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ac937d2a602f865aff2ab6c1e288739f6">scaleLogBase</a>());
<a name="l07285"></a>07285   <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a726186054be90487885a748aa1b42188">setScaleLogBase</a>(<a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ac937d2a602f865aff2ab6c1e288739f6">scaleLogBase</a>());
<a name="l07286"></a>07286   
<a name="l07287"></a>07287   <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ac891409315bc379e3b1abdb162c1a011">setTicks</a>(<a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a61c504ec7c5bed9a63edf45345995d10">ticks</a>());
<a name="l07288"></a>07288   <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ac891409315bc379e3b1abdb162c1a011">setTicks</a>(<a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a61c504ec7c5bed9a63edf45345995d10">ticks</a>());
<a name="l07289"></a>07289   
<a name="l07290"></a>07290   <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a4b1554ead9d7f9799650d51383e326dd">setSubTickCount</a>(<a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a290b4c1375476826daa10e914cb71dab">subTickCount</a>());
<a name="l07291"></a>07291   <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a4b1554ead9d7f9799650d51383e326dd">setSubTickCount</a>(<a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a290b4c1375476826daa10e914cb71dab">subTickCount</a>());
<a name="l07292"></a>07292   
<a name="l07293"></a>07293   <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#af727db0acc6492c4c774c0700e738205">setTickStep</a>(<a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a0e6120d24266544441ab691f316a1b03">tickStep</a>());
<a name="l07294"></a>07294   <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#af727db0acc6492c4c774c0700e738205">setTickStep</a>(<a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a0e6120d24266544441ab691f316a1b03">tickStep</a>());
<a name="l07295"></a>07295   
<a name="l07296"></a>07296   <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57d6ee9e9009fe88cb19db476ec70bca">setRange</a>(<a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>());
<a name="l07297"></a>07297   <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57d6ee9e9009fe88cb19db476ec70bca">setRange</a>(<a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>());
<a name="l07298"></a>07298   
<a name="l07299"></a>07299   <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a2172fdb196b1a0dc3f40992fcad8e9e1">setRangeReversed</a>(<a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ade26dc7994ccd8a11f64fd83377ee021">rangeReversed</a>());
<a name="l07300"></a>07300   <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a2172fdb196b1a0dc3f40992fcad8e9e1">setRangeReversed</a>(<a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ade26dc7994ccd8a11f64fd83377ee021">rangeReversed</a>());
<a name="l07301"></a>07301 }
<a name="l07302"></a>07302 
<a name="l07309"></a><a class="code" href="class_q_custom_plot.html#a48baf5d1dca179ac707b739abdf260ba">07309</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a48baf5d1dca179ac707b739abdf260ba">QCustomPlot::rescaleAxes</a>()
<a name="l07310"></a>07310 {
<a name="l07311"></a>07311   <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.isEmpty()) <span class="keywordflow">return</span>;
<a name="l07312"></a>07312   
<a name="l07313"></a>07313   <a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.at(0)-&gt;rescaleAxes(<span class="keyword">false</span>); <span class="comment">// onlyEnlarge disabled on first plottable</span>
<a name="l07314"></a>07314   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=1; i&lt;<a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.size(); ++i)
<a name="l07315"></a>07315     <a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.at(i)-&gt;rescaleAxes(<span class="keyword">true</span>);  <span class="comment">// onlyEnlarge enabled on all other plottables</span>
<a name="l07316"></a>07316 }
<a name="l07317"></a>07317 
<a name="l07349"></a><a class="code" href="class_q_custom_plot.html#a84e33ad7492180f20ff520e557ed102d">07349</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#a84e33ad7492180f20ff520e557ed102d">QCustomPlot::savePdf</a>(<span class="keyword">const</span> QString &amp;fileName, <span class="keywordtype">bool</span> noCosmeticPen, <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height)
<a name="l07350"></a>07350 {
<a name="l07351"></a>07351   <span class="keywordtype">bool</span> success = <span class="keyword">false</span>;
<a name="l07352"></a>07352   <span class="keywordtype">int</span> newWidth, newHeight;
<a name="l07353"></a>07353   <span class="keywordflow">if</span> (width == 0 || height == 0)
<a name="l07354"></a>07354   {
<a name="l07355"></a>07355     newWidth = this-&gt;width();
<a name="l07356"></a>07356     newHeight = this-&gt;height();
<a name="l07357"></a>07357   } <span class="keywordflow">else</span>
<a name="l07358"></a>07358   {
<a name="l07359"></a>07359     newWidth = width;
<a name="l07360"></a>07360     newHeight = height;
<a name="l07361"></a>07361   }
<a name="l07362"></a>07362   
<a name="l07363"></a>07363   QPrinter printer(QPrinter::ScreenResolution);
<a name="l07364"></a>07364   printer.setOutputFileName(fileName);
<a name="l07365"></a>07365   printer.setFullPage(<span class="keyword">true</span>);
<a name="l07366"></a>07366   QRect oldViewport = <a class="code" href="class_q_custom_plot.html#ac0a7c38a715526c257cff95774f83ab6">mViewport</a>;
<a name="l07367"></a>07367   <a class="code" href="class_q_custom_plot.html#ac0a7c38a715526c257cff95774f83ab6">mViewport</a> = QRect(0, 0, newWidth, newHeight);
<a name="l07368"></a>07368   <a class="code" href="class_q_custom_plot.html#a428242419d3a1b63f2cbff637986c35c">updateAxisRect</a>();
<a name="l07369"></a>07369   printer.setPaperSize(<a class="code" href="class_q_custom_plot.html#ac0a7c38a715526c257cff95774f83ab6">mViewport</a>.size(), QPrinter::DevicePixel);
<a name="l07370"></a>07370   <a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> printpainter;
<a name="l07371"></a>07371   <span class="keywordflow">if</span> (printpainter.begin(&amp;printer))
<a name="l07372"></a>07372   {
<a name="l07373"></a>07373     printpainter.<a class="code" href="class_q_c_p_painter.html#ae0931c24883ce8ea53103d3b80e0de56">setPdfExportMode</a>(<span class="keyword">true</span>);
<a name="l07374"></a>07374     printpainter.setWindow(<a class="code" href="class_q_custom_plot.html#ac0a7c38a715526c257cff95774f83ab6">mViewport</a>);
<a name="l07375"></a>07375     printpainter.setRenderHint(QPainter::NonCosmeticDefaultPen, noCosmeticPen);
<a name="l07376"></a>07376     <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a653335b5475ede92ae8c9215606a573a">mColor</a> != Qt::white &amp;&amp; <a class="code" href="class_q_custom_plot.html#a653335b5475ede92ae8c9215606a573a">mColor</a> != Qt::transparent &amp;&amp; <a class="code" href="class_q_custom_plot.html#a653335b5475ede92ae8c9215606a573a">mColor</a>.alpha() &gt; 0) <span class="comment">// draw pdf background color if not white/transparent</span>
<a name="l07377"></a>07377       printpainter.fillRect(<a class="code" href="class_q_custom_plot.html#ac0a7c38a715526c257cff95774f83ab6">mViewport</a>, <a class="code" href="class_q_custom_plot.html#a653335b5475ede92ae8c9215606a573a">mColor</a>);
<a name="l07378"></a>07378     <a class="code" href="class_q_custom_plot.html#ad7a7d878bf050f101a43008e7d8fdb52">draw</a>(&amp;printpainter);
<a name="l07379"></a>07379     printpainter.end();
<a name="l07380"></a>07380     success = <span class="keyword">true</span>;
<a name="l07381"></a>07381   }
<a name="l07382"></a>07382   <a class="code" href="class_q_custom_plot.html#ac0a7c38a715526c257cff95774f83ab6">mViewport</a> = oldViewport;
<a name="l07383"></a>07383   <a class="code" href="class_q_custom_plot.html#a428242419d3a1b63f2cbff637986c35c">updateAxisRect</a>();
<a name="l07384"></a>07384   <span class="keywordflow">return</span> success;
<a name="l07385"></a>07385 }
<a name="l07386"></a>07386 
<a name="l07420"></a><a class="code" href="class_q_custom_plot.html#a7636261aff1f6d25c9da749ece3fc8b8">07420</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#a7636261aff1f6d25c9da749ece3fc8b8">QCustomPlot::savePng</a>(<span class="keyword">const</span> QString &amp;fileName, <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height, <span class="keywordtype">double</span> scale, <span class="keywordtype">int</span> quality)
<a name="l07421"></a>07421 {  
<a name="l07422"></a>07422   <span class="keywordflow">return</span> <a class="code" href="class_q_custom_plot.html#ab528b84cf92baabe29b1d0ef2f77c93e">saveRastered</a>(fileName, width, height, scale, <span class="stringliteral">&quot;PNG&quot;</span>, quality);
<a name="l07423"></a>07423 }
<a name="l07424"></a>07424 
<a name="l07455"></a><a class="code" href="class_q_custom_plot.html#a490c722092d1771e8ce4a7a73dfd84ab">07455</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#a490c722092d1771e8ce4a7a73dfd84ab">QCustomPlot::saveJpg</a>(<span class="keyword">const</span> QString &amp;fileName, <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height, <span class="keywordtype">double</span> scale, <span class="keywordtype">int</span> quality)
<a name="l07456"></a>07456 {
<a name="l07457"></a>07457   <span class="keywordflow">return</span> <a class="code" href="class_q_custom_plot.html#ab528b84cf92baabe29b1d0ef2f77c93e">saveRastered</a>(fileName, width, height, scale, <span class="stringliteral">&quot;JPG&quot;</span>, quality);
<a name="l07458"></a>07458 }
<a name="l07459"></a>07459 
<a name="l07487"></a><a class="code" href="class_q_custom_plot.html#a6629d9e8e6da4bf18055ee0257fdce9a">07487</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#a6629d9e8e6da4bf18055ee0257fdce9a">QCustomPlot::saveBmp</a>(<span class="keyword">const</span> QString &amp;fileName, <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height, <span class="keywordtype">double</span> scale)
<a name="l07488"></a>07488 {
<a name="l07489"></a>07489   <span class="keywordflow">return</span> <a class="code" href="class_q_custom_plot.html#ab528b84cf92baabe29b1d0ef2f77c93e">saveRastered</a>(fileName, width, height, scale, <span class="stringliteral">&quot;BMP&quot;</span>);
<a name="l07490"></a>07490 }
<a name="l07491"></a>07491 
<a name="l07501"></a><a class="code" href="class_q_custom_plot.html#a4904f06d831afae29cd5d10e889388c3">07501</a> QSize <a class="code" href="class_q_custom_plot.html#a4904f06d831afae29cd5d10e889388c3">QCustomPlot::minimumSizeHint</a>()<span class="keyword"> const</span>
<a name="l07502"></a>07502 <span class="keyword"></span>{
<a name="l07503"></a>07503   <span class="keywordflow">return</span> QSize(50, 50);
<a name="l07504"></a>07504 }
<a name="l07505"></a>07505 
<a name="l07511"></a><a class="code" href="class_q_custom_plot.html#a2bbc3b1c24bfcc8a7cc1f3008cdd9b73">07511</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a2bbc3b1c24bfcc8a7cc1f3008cdd9b73">QCustomPlot::paintEvent</a>(QPaintEvent *event)
<a name="l07512"></a>07512 {
<a name="l07513"></a>07513   Q_UNUSED(event);
<a name="l07514"></a>07514   QPainter painter(<span class="keyword">this</span>);
<a name="l07515"></a>07515   painter.drawPixmap(0, 0, <a class="code" href="class_q_custom_plot.html#a753630df96e0672098d9e88bd41d1913">mPaintBuffer</a>);
<a name="l07516"></a>07516 }
<a name="l07517"></a>07517 
<a name="l07524"></a><a class="code" href="class_q_custom_plot.html#a13e05523a40c3f08875df5cde85cf0d9">07524</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a13e05523a40c3f08875df5cde85cf0d9">QCustomPlot::resizeEvent</a>(QResizeEvent *event)
<a name="l07525"></a>07525 {
<a name="l07526"></a>07526   <span class="comment">// resize and repaint the buffer:</span>
<a name="l07527"></a>07527   <a class="code" href="class_q_custom_plot.html#a753630df96e0672098d9e88bd41d1913">mPaintBuffer</a> = QPixmap(event-&gt;size());
<a name="l07528"></a>07528   <a class="code" href="class_q_custom_plot.html#ac0a7c38a715526c257cff95774f83ab6">mViewport</a> = rect();
<a name="l07529"></a>07529   <a class="code" href="class_q_custom_plot.html#a428242419d3a1b63f2cbff637986c35c">updateAxisRect</a>();
<a name="l07530"></a>07530   <a class="code" href="class_q_custom_plot.html#a563540b54b2a09c8ef092d42e9621f42">replot</a>();
<a name="l07531"></a>07531 }
<a name="l07532"></a>07532 
<a name="l07537"></a><a class="code" href="class_q_custom_plot.html#a77591913a5b543bdc465dd5e08325a49">07537</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a77591913a5b543bdc465dd5e08325a49">QCustomPlot::mouseDoubleClickEvent</a>(QMouseEvent *event)
<a name="l07538"></a>07538 {
<a name="l07539"></a>07539   emit <a class="code" href="class_q_custom_plot.html#a9b232142c64fcf273a953ee08e5b90e9">mouseDoubleClick</a>(event);
<a name="l07540"></a>07540   
<a name="l07541"></a>07541   <span class="comment">// emit specialized object double click signals:</span>
<a name="l07542"></a>07542   <span class="keywordtype">bool</span> foundHit = <span class="keyword">false</span>;
<a name="l07543"></a>07543   <span class="comment">// for legend:</span>
<a name="l07544"></a>07544   <span class="keywordflow">if</span> (receivers(SIGNAL(<a class="code" href="class_q_custom_plot.html#a0250f835c044521df1619b132288bca7">legendDoubleClick</a>(<a class="code" href="class_q_c_p_legend.html" title="Manages a legend inside a QCustomPlot.">QCPLegend</a>*,<a class="code" href="class_q_c_p_abstract_legend_item.html" title="The abstract base class for all items in a QCPLegend.">QCPAbstractLegendItem</a>*,QMouseEvent*))) &gt; 0)
<a name="l07545"></a>07545   {
<a name="l07546"></a>07546     <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a73da53368aa4c2db3d874cf0db50d140">legend</a>-&gt;<a class="code" href="class_q_c_p_legend.html#a6388446e0906b21ebf3a92310570e73e">selectTestLegend</a>(event-&gt;pos()))
<a name="l07547"></a>07547     {
<a name="l07548"></a>07548       emit <a class="code" href="class_q_custom_plot.html#a0250f835c044521df1619b132288bca7">legendDoubleClick</a>(<a class="code" href="class_q_custom_plot.html#a73da53368aa4c2db3d874cf0db50d140">legend</a>, <a class="code" href="class_q_custom_plot.html#a73da53368aa4c2db3d874cf0db50d140">legend</a>-&gt;<a class="code" href="class_q_c_p_legend.html#a8bbb0b003cc93f07dff1d69416b606f0">selectTestItem</a>(event-&gt;pos()), event);
<a name="l07549"></a>07549       foundHit = <span class="keyword">true</span>;
<a name="l07550"></a>07550     }
<a name="l07551"></a>07551   }
<a name="l07552"></a>07552   <span class="comment">// for plottables:</span>
<a name="l07553"></a>07553   <span class="keywordflow">if</span> (!foundHit &amp;&amp; receivers(SIGNAL(<a class="code" href="class_q_custom_plot.html#af2e6f1cea923dae437681d01ce7d0c31">plottableDoubleClick</a>(<a class="code" href="class_q_c_p_abstract_plottable.html" title="The abstract base class for all data representing objects in a plot.">QCPAbstractPlottable</a>*,QMouseEvent*))) &gt; 0)
<a name="l07554"></a>07554   {
<a name="l07555"></a>07555     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html" title="The abstract base class for all data representing objects in a plot.">QCPAbstractPlottable</a> *ap = <a class="code" href="class_q_custom_plot.html#ac1d1bc6ae4e13616fb02cef6d9e2188e">plottableAt</a>(event-&gt;pos(), <span class="keyword">false</span>))
<a name="l07556"></a>07556     {
<a name="l07557"></a>07557       emit <a class="code" href="class_q_custom_plot.html#af2e6f1cea923dae437681d01ce7d0c31">plottableDoubleClick</a>(ap, event);
<a name="l07558"></a>07558       foundHit = <span class="keyword">true</span>;
<a name="l07559"></a>07559     }
<a name="l07560"></a>07560   }
<a name="l07561"></a>07561   <span class="comment">// for items:</span>
<a name="l07562"></a>07562   <span class="keywordflow">if</span> (!foundHit &amp;&amp; receivers(SIGNAL(<a class="code" href="class_q_custom_plot.html#ac83aa9f5a3e9bb3efc9cdc763dcd42a6">itemDoubleClick</a>(<a class="code" href="class_q_c_p_abstract_item.html" title="The abstract base class for all items in a plot.">QCPAbstractItem</a>*,QMouseEvent*))) &gt; 0)
<a name="l07563"></a>07563   {
<a name="l07564"></a>07564     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_item.html" title="The abstract base class for all items in a plot.">QCPAbstractItem</a> *ai = <a class="code" href="class_q_custom_plot.html#a793e4b04e0ede11a733021907368fa83">itemAt</a>(event-&gt;pos(), <span class="keyword">false</span>))
<a name="l07565"></a>07565     {
<a name="l07566"></a>07566       emit <a class="code" href="class_q_custom_plot.html#ac83aa9f5a3e9bb3efc9cdc763dcd42a6">itemDoubleClick</a>(ai, event);
<a name="l07567"></a>07567       foundHit = <span class="keyword">true</span>;
<a name="l07568"></a>07568     }
<a name="l07569"></a>07569   }
<a name="l07570"></a>07570   <span class="comment">// for axes:</span>
<a name="l07571"></a>07571   <span class="keywordflow">if</span> (!foundHit &amp;&amp; receivers(SIGNAL(<a class="code" href="class_q_custom_plot.html#a6df35357460181a72da3e93d600f5256">axisDoubleClick</a>(<a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a>*,<a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115f">QCPAxis::SelectablePart</a>,QMouseEvent*))) &gt; 0)
<a name="l07572"></a>07572   {
<a name="l07573"></a>07573     QVector&lt;QCPAxis*&gt; axes = QVector&lt;QCPAxis*&gt;() &lt;&lt; <a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a> &lt;&lt; <a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a> &lt;&lt; <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a> &lt;&lt; <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>;
<a name="l07574"></a>07574     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;axes.size(); ++i)
<a name="l07575"></a>07575     {
<a name="l07576"></a>07576       <a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115f">QCPAxis::SelectablePart</a> part = axes.at(i)-&gt;<a class="code" href="class_q_c_p_axis.html#a940be5ef61f4fa0dc21e4f4c7a5875c2">selectTest</a>(event-&gt;pos());
<a name="l07577"></a>07577       <span class="keywordflow">if</span> (part != <a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115fae0df8123a5528d5ccf87cb7794f971ea" title="None of the selectable parts.">QCPAxis::spNone</a>)
<a name="l07578"></a>07578       {
<a name="l07579"></a>07579         foundHit = <span class="keyword">true</span>;
<a name="l07580"></a>07580         emit <a class="code" href="class_q_custom_plot.html#a6df35357460181a72da3e93d600f5256">axisDoubleClick</a>(axes.at(i), part, event);
<a name="l07581"></a>07581         <span class="keywordflow">break</span>;
<a name="l07582"></a>07582       }
<a name="l07583"></a>07583     }
<a name="l07584"></a>07584   }
<a name="l07585"></a>07585   <span class="comment">// for title:</span>
<a name="l07586"></a>07586   <span class="keywordflow">if</span> (!foundHit &amp;&amp; receivers(SIGNAL(<a class="code" href="class_q_custom_plot.html#a854db02b12e8df49b5f998f17e8ee770">titleDoubleClick</a>(QMouseEvent*))) &gt; 0)
<a name="l07587"></a>07587   {
<a name="l07588"></a>07588     <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a2a2d01a092840ac01b16104f7973f831">selectTestTitle</a>(event-&gt;pos()))
<a name="l07589"></a>07589     {
<a name="l07590"></a>07590       emit <a class="code" href="class_q_custom_plot.html#a854db02b12e8df49b5f998f17e8ee770">titleDoubleClick</a>(event);
<a name="l07591"></a>07591       foundHit = <span class="keyword">true</span>;
<a name="l07592"></a>07592     }
<a name="l07593"></a>07593   }
<a name="l07594"></a>07594 }
<a name="l07595"></a>07595 
<a name="l07607"></a><a class="code" href="class_q_custom_plot.html#abce84fa2c71e47b9295d67e8fce84bb4">07607</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#abce84fa2c71e47b9295d67e8fce84bb4">QCustomPlot::mousePressEvent</a>(QMouseEvent *event)
<a name="l07608"></a>07608 {
<a name="l07609"></a>07609   emit <a class="code" href="class_q_custom_plot.html#aca75bf9afb5dd19349c375de2a87a051">mousePress</a>(event);
<a name="l07610"></a>07610   <a class="code" href="class_q_custom_plot.html#a87a4170d25010165305766f6331c9814">mDragStart</a> = <span class="keyword">event</span>-&gt;pos(); <span class="comment">// need this even when not LeftButton is pressed, to determine in releaseEvent whether it was a full click (no position change between press and release)</span>
<a name="l07611"></a>07611   <span class="keywordflow">if</span> (event-&gt;buttons() &amp; Qt::LeftButton)
<a name="l07612"></a>07612   {
<a name="l07613"></a>07613     <a class="code" href="class_q_custom_plot.html#ab62a1f63fe3a133e8caabf1254ddaaaf">mDragging</a> = <span class="keyword">true</span>;
<a name="l07614"></a>07614     <span class="comment">// initialize antialiasing backup in case we start dragging:</span>
<a name="l07615"></a>07615     <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#ac83df968435f6b8ec79f2993ab9124e8">mNoAntialiasingOnDrag</a>)
<a name="l07616"></a>07616     {
<a name="l07617"></a>07617       <a class="code" href="class_q_custom_plot.html#a460601989033fbf1ee0c71d4ac4a3736">mAADragBackup</a> = <a class="code" href="class_q_custom_plot.html#a81e954fbb485bb44c609e5707f0067b3">antialiasedElements</a>();
<a name="l07618"></a>07618       <a class="code" href="class_q_custom_plot.html#af7c775fa10bd940b4517b04ebf2b8b9d">mNotAADragBackup</a> = <a class="code" href="class_q_custom_plot.html#a8060cee59757213764382a78d3196189">notAntialiasedElements</a>();
<a name="l07619"></a>07619     }
<a name="l07620"></a>07620     <span class="comment">// Mouse range dragging interaction:</span>
<a name="l07621"></a>07621     <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a24daf819733de795fb13971405c68e07">mInteractions</a>.testFlag(<a class="code" href="class_q_custom_plot.html#acc82d021129b61e550e36747d2e76d3aae5128b3d5d45736c7f109f80beacb8bb" title="0x001 Axis ranges are draggable (see setRangeDrag, setRangeDragAxes)">iRangeDrag</a>))
<a name="l07622"></a>07622     {
<a name="l07623"></a>07623       <a class="code" href="class_q_custom_plot.html#af66d42e3013858bdad8899d83647de36">mDragStartHorzRange</a> = <a class="code" href="class_q_custom_plot.html#a8cddba04d1a164b3c3ffd9c1799bef23">mRangeDragHorzAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>();
<a name="l07624"></a>07624       <a class="code" href="class_q_custom_plot.html#a8af623ca768e25dacee6000703ffb5ff">mDragStartVertRange</a> = <a class="code" href="class_q_custom_plot.html#aa1daa353f95fd85d148c20e27901ff88">mRangeDragVertAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>();
<a name="l07625"></a>07625     }
<a name="l07626"></a>07626   }
<a name="l07627"></a>07627   
<a name="l07628"></a>07628   <a class="code" href="class_q_custom_plot.html#abce84fa2c71e47b9295d67e8fce84bb4">QWidget::mousePressEvent</a>(event);
<a name="l07629"></a>07629 }
<a name="l07630"></a>07630 
<a name="l07638"></a><a class="code" href="class_q_custom_plot.html#ac64727a4f442770f6e5e6be2d0530843">07638</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#ac64727a4f442770f6e5e6be2d0530843">QCustomPlot::mouseMoveEvent</a>(QMouseEvent *event)
<a name="l07639"></a>07639 {
<a name="l07640"></a>07640   emit <a class="code" href="class_q_custom_plot.html#a742ca4f94688bed2a685fd8a56ce5704">mouseMove</a>(event);
<a name="l07641"></a>07641 
<a name="l07642"></a>07642   <span class="comment">// Mouse range dragging interaction:</span>
<a name="l07643"></a>07643   <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a24daf819733de795fb13971405c68e07">mInteractions</a>.testFlag(<a class="code" href="class_q_custom_plot.html#acc82d021129b61e550e36747d2e76d3aae5128b3d5d45736c7f109f80beacb8bb" title="0x001 Axis ranges are draggable (see setRangeDrag, setRangeDragAxes)">iRangeDrag</a>))
<a name="l07644"></a>07644   {
<a name="l07645"></a>07645     <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#ab62a1f63fe3a133e8caabf1254ddaaaf">mDragging</a>)
<a name="l07646"></a>07646     {
<a name="l07647"></a>07647       <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#af22d256e06e90adf0952ea3315ba808c">mRangeDrag</a>.testFlag(Qt::Horizontal))
<a name="l07648"></a>07648       {
<a name="l07649"></a>07649         <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a8cddba04d1a164b3c3ffd9c1799bef23">mRangeDragHorzAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ad706039549cbbbec5fcb2baf7894e04d">mScaleType</a> == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0aff6e30a11a828bc850caffab0ff994f6" title="Normal linear scaling.">QCPAxis::stLinear</a>)
<a name="l07650"></a>07650         {
<a name="l07651"></a>07651           <span class="keywordtype">double</span> diff = <a class="code" href="class_q_custom_plot.html#a8cddba04d1a164b3c3ffd9c1799bef23">mRangeDragHorzAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">pixelToCoord</a>(<a class="code" href="class_q_custom_plot.html#a87a4170d25010165305766f6331c9814">mDragStart</a>.x()) - <a class="code" href="class_q_custom_plot.html#a8cddba04d1a164b3c3ffd9c1799bef23">mRangeDragHorzAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">pixelToCoord</a>(event-&gt;pos().x());
<a name="l07652"></a>07652           <a class="code" href="class_q_custom_plot.html#a8cddba04d1a164b3c3ffd9c1799bef23">mRangeDragHorzAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57d6ee9e9009fe88cb19db476ec70bca">setRange</a>(<a class="code" href="class_q_custom_plot.html#af66d42e3013858bdad8899d83647de36">mDragStartHorzRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>+diff, <a class="code" href="class_q_custom_plot.html#af66d42e3013858bdad8899d83647de36">mDragStartHorzRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>+diff);
<a name="l07653"></a>07653         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a8cddba04d1a164b3c3ffd9c1799bef23">mRangeDragHorzAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ad706039549cbbbec5fcb2baf7894e04d">mScaleType</a> == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0abf5b785ad976618816dc6f79b73216d4" title="Logarithmic scaling with correspondingly transformed plots and (major) tick marks at every base power...">QCPAxis::stLogarithmic</a>)
<a name="l07654"></a>07654         {
<a name="l07655"></a>07655           <span class="keywordtype">double</span> diff = <a class="code" href="class_q_custom_plot.html#a8cddba04d1a164b3c3ffd9c1799bef23">mRangeDragHorzAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">pixelToCoord</a>(<a class="code" href="class_q_custom_plot.html#a87a4170d25010165305766f6331c9814">mDragStart</a>.x()) / <a class="code" href="class_q_custom_plot.html#a8cddba04d1a164b3c3ffd9c1799bef23">mRangeDragHorzAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">pixelToCoord</a>(event-&gt;pos().x());
<a name="l07656"></a>07656           <a class="code" href="class_q_custom_plot.html#a8cddba04d1a164b3c3ffd9c1799bef23">mRangeDragHorzAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57d6ee9e9009fe88cb19db476ec70bca">setRange</a>(<a class="code" href="class_q_custom_plot.html#af66d42e3013858bdad8899d83647de36">mDragStartHorzRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>*diff, <a class="code" href="class_q_custom_plot.html#af66d42e3013858bdad8899d83647de36">mDragStartHorzRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>*diff);
<a name="l07657"></a>07657         }
<a name="l07658"></a>07658       }
<a name="l07659"></a>07659       <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#af22d256e06e90adf0952ea3315ba808c">mRangeDrag</a>.testFlag(Qt::Vertical))
<a name="l07660"></a>07660       {
<a name="l07661"></a>07661         <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#aa1daa353f95fd85d148c20e27901ff88">mRangeDragVertAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ad706039549cbbbec5fcb2baf7894e04d">mScaleType</a> == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0aff6e30a11a828bc850caffab0ff994f6" title="Normal linear scaling.">QCPAxis::stLinear</a>)
<a name="l07662"></a>07662         {
<a name="l07663"></a>07663           <span class="keywordtype">double</span> diff = <a class="code" href="class_q_custom_plot.html#aa1daa353f95fd85d148c20e27901ff88">mRangeDragVertAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">pixelToCoord</a>(<a class="code" href="class_q_custom_plot.html#a87a4170d25010165305766f6331c9814">mDragStart</a>.y()) - <a class="code" href="class_q_custom_plot.html#aa1daa353f95fd85d148c20e27901ff88">mRangeDragVertAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">pixelToCoord</a>(event-&gt;pos().y());
<a name="l07664"></a>07664           <a class="code" href="class_q_custom_plot.html#aa1daa353f95fd85d148c20e27901ff88">mRangeDragVertAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57d6ee9e9009fe88cb19db476ec70bca">setRange</a>(<a class="code" href="class_q_custom_plot.html#a8af623ca768e25dacee6000703ffb5ff">mDragStartVertRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>+diff, <a class="code" href="class_q_custom_plot.html#a8af623ca768e25dacee6000703ffb5ff">mDragStartVertRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>+diff);
<a name="l07665"></a>07665         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#aa1daa353f95fd85d148c20e27901ff88">mRangeDragVertAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ad706039549cbbbec5fcb2baf7894e04d">mScaleType</a> == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0abf5b785ad976618816dc6f79b73216d4" title="Logarithmic scaling with correspondingly transformed plots and (major) tick marks at every base power...">QCPAxis::stLogarithmic</a>)
<a name="l07666"></a>07666         {
<a name="l07667"></a>07667           <span class="keywordtype">double</span> diff = <a class="code" href="class_q_custom_plot.html#aa1daa353f95fd85d148c20e27901ff88">mRangeDragVertAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">pixelToCoord</a>(<a class="code" href="class_q_custom_plot.html#a87a4170d25010165305766f6331c9814">mDragStart</a>.y()) / <a class="code" href="class_q_custom_plot.html#aa1daa353f95fd85d148c20e27901ff88">mRangeDragVertAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">pixelToCoord</a>(event-&gt;pos().y());
<a name="l07668"></a>07668           <a class="code" href="class_q_custom_plot.html#aa1daa353f95fd85d148c20e27901ff88">mRangeDragVertAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57d6ee9e9009fe88cb19db476ec70bca">setRange</a>(<a class="code" href="class_q_custom_plot.html#a8af623ca768e25dacee6000703ffb5ff">mDragStartVertRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>*diff, <a class="code" href="class_q_custom_plot.html#a8af623ca768e25dacee6000703ffb5ff">mDragStartVertRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>*diff);
<a name="l07669"></a>07669         }
<a name="l07670"></a>07670       }
<a name="l07671"></a>07671       <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#af22d256e06e90adf0952ea3315ba808c">mRangeDrag</a> != 0) <span class="comment">// if either vertical or horizontal drag was enabled, do a replot</span>
<a name="l07672"></a>07672       {
<a name="l07673"></a>07673         <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#ac83df968435f6b8ec79f2993ab9124e8">mNoAntialiasingOnDrag</a>)
<a name="l07674"></a>07674           <a class="code" href="class_q_custom_plot.html#ae10d685b5eabea2999fb8775ca173c24">setNotAntialiasedElements</a>(<a class="code" href="namespace_q_c_p.html#ae55dbe315d41fe80f29ba88100843a0caa897c232a0ffc8368e7c100ffc59ef31" title="0xFFFF All elements">QCP::aeAll</a>);
<a name="l07675"></a>07675         <a class="code" href="class_q_custom_plot.html#a563540b54b2a09c8ef092d42e9621f42">replot</a>();
<a name="l07676"></a>07676       }
<a name="l07677"></a>07677     }
<a name="l07678"></a>07678   }
<a name="l07679"></a>07679   
<a name="l07680"></a>07680   <a class="code" href="class_q_custom_plot.html#ac64727a4f442770f6e5e6be2d0530843">QWidget::mouseMoveEvent</a>(event);
<a name="l07681"></a>07681 }
<a name="l07682"></a>07682 
<a name="l07690"></a><a class="code" href="class_q_custom_plot.html#a724e97d2e8c03e68adac5f4b6164a1b3">07690</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a724e97d2e8c03e68adac5f4b6164a1b3">QCustomPlot::mouseReleaseEvent</a>(QMouseEvent *event)
<a name="l07691"></a>07691 {
<a name="l07692"></a>07692   emit <a class="code" href="class_q_custom_plot.html#ac8dc0ee6bb98e923c00b4ebafbe6134d">mouseRelease</a>(event);
<a name="l07693"></a>07693   <a class="code" href="class_q_custom_plot.html#ab62a1f63fe3a133e8caabf1254ddaaaf">mDragging</a> = <span class="keyword">false</span>;
<a name="l07694"></a>07694   <span class="keywordtype">bool</span> doReplot = <span class="keyword">false</span>;
<a name="l07695"></a>07695   <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#ac83df968435f6b8ec79f2993ab9124e8">mNoAntialiasingOnDrag</a>)
<a name="l07696"></a>07696   {
<a name="l07697"></a>07697     <a class="code" href="class_q_custom_plot.html#af6f91e5eab1be85f67c556e98c3745e8">setAntialiasedElements</a>(<a class="code" href="class_q_custom_plot.html#a460601989033fbf1ee0c71d4ac4a3736">mAADragBackup</a>);
<a name="l07698"></a>07698     <a class="code" href="class_q_custom_plot.html#ae10d685b5eabea2999fb8775ca173c24">setNotAntialiasedElements</a>(<a class="code" href="class_q_custom_plot.html#af7c775fa10bd940b4517b04ebf2b8b9d">mNotAADragBackup</a>);
<a name="l07699"></a>07699     doReplot = <span class="keyword">true</span>;
<a name="l07700"></a>07700   }
<a name="l07701"></a>07701   
<a name="l07702"></a>07702   <span class="comment">// determine whether it was a drag or click operation:</span>
<a name="l07703"></a>07703   <span class="keywordflow">if</span> ((<a class="code" href="class_q_custom_plot.html#a87a4170d25010165305766f6331c9814">mDragStart</a>-event-&gt;pos()).manhattanLength() &lt; 5) <span class="comment">// was a click</span>
<a name="l07704"></a>07704   {
<a name="l07705"></a>07705     <span class="comment">// Mouse selection interaction:</span>
<a name="l07706"></a>07706     <span class="keywordflow">if</span> ((<a class="code" href="class_q_custom_plot.html#a24daf819733de795fb13971405c68e07">mInteractions</a> &amp; (<a class="code" href="class_q_custom_plot.html#acc82d021129b61e550e36747d2e76d3aacf8f7cf0b21c32a85d3a72ccd48f0313" title="0x010 Plottables are selectable">iSelectPlottables</a>|<a class="code" href="class_q_custom_plot.html#acc82d021129b61e550e36747d2e76d3aa2f1c34708a97bc30cc14684fa6cb844d" title="0x080 Items are selectable (Rectangles, Arrows, Textitems, etc. see QCPAbstractItem)">iSelectItems</a>|<a class="code" href="class_q_custom_plot.html#acc82d021129b61e550e36747d2e76d3aa2deb166692b109ab125cb2d2a5e24150" title="0x020 Axes are selectable (or parts of them, see QCPAxis::setSelectable)">iSelectAxes</a>|<a class="code" href="class_q_custom_plot.html#acc82d021129b61e550e36747d2e76d3aa9374fc5a7c88dfd92c951f22c96834f1" title="0x040 Legends are selectable (or their child items, see QCPLegend::setSelectable)">iSelectLegend</a>|<a class="code" href="class_q_custom_plot.html#acc82d021129b61e550e36747d2e76d3aab149ac43f43d9cacc86be434243acfbf" title="0x008 The plot title is selectable">iSelectTitle</a>)) &gt; 0 
<a name="l07707"></a>07707         &amp;&amp; event-&gt;button() == Qt::LeftButton)
<a name="l07708"></a>07708     {
<a name="l07709"></a>07709       <span class="keywordtype">bool</span> selectionFound = <span class="keyword">false</span>;
<a name="l07710"></a>07710       <span class="keywordtype">bool</span> emitChangedSignal = <span class="keyword">false</span>;
<a name="l07711"></a>07711       <span class="keywordtype">bool</span> additiveSelection = <a class="code" href="class_q_custom_plot.html#a24daf819733de795fb13971405c68e07">mInteractions</a>.testFlag(<a class="code" href="class_q_custom_plot.html#acc82d021129b61e550e36747d2e76d3aa53148ccd6a25acf531df229639b7eb3a" title="0x004 The user can select multiple objects by holding the modifier set by setMultiSelectModifier whil...">iMultiSelect</a>) &amp;&amp; <span class="keyword">event</span>-&gt;modifiers().testFlag(<a class="code" href="class_q_custom_plot.html#a0e97e701c5671e7e463d2ce0211d0f8a">mMultiSelectModifier</a>);
<a name="l07712"></a>07712       <span class="comment">// Mouse selection of legend:</span>
<a name="l07713"></a>07713       <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a24daf819733de795fb13971405c68e07">mInteractions</a>.testFlag(<a class="code" href="class_q_custom_plot.html#acc82d021129b61e550e36747d2e76d3aa9374fc5a7c88dfd92c951f22c96834f1" title="0x040 Legends are selectable (or their child items, see QCPLegend::setSelectable)">iSelectLegend</a>))
<a name="l07714"></a>07714         selectionFound |= <a class="code" href="class_q_custom_plot.html#a73da53368aa4c2db3d874cf0db50d140">legend</a>-&gt;<a class="code" href="class_q_c_p_legend.html#a44cdc6af6cd6e62a2bd827c3236c7261">handleLegendSelection</a>(event, additiveSelection, emitChangedSignal);
<a name="l07715"></a>07715       <span class="comment">// Mouse selection of plottables:</span>
<a name="l07716"></a>07716       <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a24daf819733de795fb13971405c68e07">mInteractions</a>.testFlag(<a class="code" href="class_q_custom_plot.html#acc82d021129b61e550e36747d2e76d3aacf8f7cf0b21c32a85d3a72ccd48f0313" title="0x010 Plottables are selectable">iSelectPlottables</a>))
<a name="l07717"></a>07717         selectionFound |= <a class="code" href="class_q_custom_plot.html#a881c8652ebb912345de27687817845cf">handlePlottableSelection</a>((!selectionFound || additiveSelection) ? <span class="keyword">event</span> : 0, additiveSelection, emitChangedSignal);
<a name="l07718"></a>07718       <span class="comment">// Mouse selection of items:</span>
<a name="l07719"></a>07719       <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a24daf819733de795fb13971405c68e07">mInteractions</a>.testFlag(<a class="code" href="class_q_custom_plot.html#acc82d021129b61e550e36747d2e76d3aa2f1c34708a97bc30cc14684fa6cb844d" title="0x080 Items are selectable (Rectangles, Arrows, Textitems, etc. see QCPAbstractItem)">iSelectItems</a>))
<a name="l07720"></a>07720         selectionFound |= <a class="code" href="class_q_custom_plot.html#aa1ad9839539b4cdf9f7da768336650f2">handleItemSelection</a>((!selectionFound || additiveSelection) ? <span class="keyword">event</span> : 0, additiveSelection, emitChangedSignal);
<a name="l07721"></a>07721       <span class="comment">// Mouse selection of axes:</span>
<a name="l07722"></a>07722       <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a24daf819733de795fb13971405c68e07">mInteractions</a>.testFlag(<a class="code" href="class_q_custom_plot.html#acc82d021129b61e550e36747d2e76d3aa2deb166692b109ab125cb2d2a5e24150" title="0x020 Axes are selectable (or parts of them, see QCPAxis::setSelectable)">iSelectAxes</a>))
<a name="l07723"></a>07723         selectionFound |= <a class="code" href="class_q_custom_plot.html#a6500e0aa6de356954b81f091e819c637">handleAxisSelection</a>((!selectionFound || additiveSelection) ? <span class="keyword">event</span> : 0, additiveSelection, emitChangedSignal);
<a name="l07724"></a>07724       <span class="comment">// Mouse selection of title:</span>
<a name="l07725"></a>07725       <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a24daf819733de795fb13971405c68e07">mInteractions</a>.testFlag(<a class="code" href="class_q_custom_plot.html#acc82d021129b61e550e36747d2e76d3aab149ac43f43d9cacc86be434243acfbf" title="0x008 The plot title is selectable">iSelectTitle</a>))
<a name="l07726"></a>07726         selectionFound |= <a class="code" href="class_q_custom_plot.html#ae688ab743e775cd0c69941a082dd32e3">handleTitleSelection</a>((!selectionFound || additiveSelection) ? <span class="keyword">event</span> : 0, additiveSelection, emitChangedSignal);
<a name="l07727"></a>07727       
<a name="l07728"></a>07728       <span class="keywordflow">if</span> (emitChangedSignal)
<a name="l07729"></a>07729         emit <a class="code" href="class_q_custom_plot.html#a500c64a109bc773c973ad274f2fa4190">selectionChangedByUser</a>();
<a name="l07730"></a>07730       doReplot = <span class="keyword">true</span>;
<a name="l07731"></a>07731     }
<a name="l07732"></a>07732     
<a name="l07733"></a>07733     <span class="comment">// emit specialized object click signals:</span>
<a name="l07734"></a>07734     <span class="keywordtype">bool</span> foundHit = <span class="keyword">false</span>;
<a name="l07735"></a>07735     <span class="comment">// for legend:</span>
<a name="l07736"></a>07736     <span class="keywordflow">if</span> (receivers(SIGNAL(<a class="code" href="class_q_custom_plot.html#a79cff0baafbca10a3aaf694d2d3b9ab3">legendClick</a>(<a class="code" href="class_q_c_p_legend.html" title="Manages a legend inside a QCustomPlot.">QCPLegend</a>*,<a class="code" href="class_q_c_p_abstract_legend_item.html" title="The abstract base class for all items in a QCPLegend.">QCPAbstractLegendItem</a>*,QMouseEvent*))) &gt; 0)
<a name="l07737"></a>07737     {
<a name="l07738"></a>07738       <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a73da53368aa4c2db3d874cf0db50d140">legend</a>-&gt;<a class="code" href="class_q_c_p_legend.html#a6388446e0906b21ebf3a92310570e73e">selectTestLegend</a>(event-&gt;pos()))
<a name="l07739"></a>07739       {
<a name="l07740"></a>07740         emit <a class="code" href="class_q_custom_plot.html#a79cff0baafbca10a3aaf694d2d3b9ab3">legendClick</a>(<a class="code" href="class_q_custom_plot.html#a73da53368aa4c2db3d874cf0db50d140">legend</a>, <a class="code" href="class_q_custom_plot.html#a73da53368aa4c2db3d874cf0db50d140">legend</a>-&gt;<a class="code" href="class_q_c_p_legend.html#a8bbb0b003cc93f07dff1d69416b606f0">selectTestItem</a>(event-&gt;pos()), event);
<a name="l07741"></a>07741         foundHit = <span class="keyword">true</span>;
<a name="l07742"></a>07742       }
<a name="l07743"></a>07743     }
<a name="l07744"></a>07744     <span class="comment">// for plottables:</span>
<a name="l07745"></a>07745     <span class="keywordflow">if</span> (!foundHit &amp;&amp; receivers(SIGNAL(<a class="code" href="class_q_custom_plot.html#a57e5efa8a854620e9bf62d31fc139f53">plottableClick</a>(<a class="code" href="class_q_c_p_abstract_plottable.html" title="The abstract base class for all data representing objects in a plot.">QCPAbstractPlottable</a>*,QMouseEvent*))) &gt; 0)
<a name="l07746"></a>07746     {
<a name="l07747"></a>07747       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html" title="The abstract base class for all data representing objects in a plot.">QCPAbstractPlottable</a> *ap = <a class="code" href="class_q_custom_plot.html#ac1d1bc6ae4e13616fb02cef6d9e2188e">plottableAt</a>(event-&gt;pos(), <span class="keyword">false</span>))
<a name="l07748"></a>07748       {
<a name="l07749"></a>07749         emit <a class="code" href="class_q_custom_plot.html#a57e5efa8a854620e9bf62d31fc139f53">plottableClick</a>(ap, event);
<a name="l07750"></a>07750         foundHit = <span class="keyword">true</span>;
<a name="l07751"></a>07751       }
<a name="l07752"></a>07752     }
<a name="l07753"></a>07753     <span class="comment">// for items:</span>
<a name="l07754"></a>07754     <span class="keywordflow">if</span> (!foundHit &amp;&amp; receivers(SIGNAL(<a class="code" href="class_q_custom_plot.html#ae16b51f52d2b7aebbc7e3e74e6ff2e4b">itemClick</a>(<a class="code" href="class_q_c_p_abstract_item.html" title="The abstract base class for all items in a plot.">QCPAbstractItem</a>*,QMouseEvent*))) &gt; 0)
<a name="l07755"></a>07755     {
<a name="l07756"></a>07756       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_item.html" title="The abstract base class for all items in a plot.">QCPAbstractItem</a> *ai = <a class="code" href="class_q_custom_plot.html#a793e4b04e0ede11a733021907368fa83">itemAt</a>(event-&gt;pos(), <span class="keyword">false</span>))
<a name="l07757"></a>07757       {
<a name="l07758"></a>07758         emit <a class="code" href="class_q_custom_plot.html#ae16b51f52d2b7aebbc7e3e74e6ff2e4b">itemClick</a>(ai, event);
<a name="l07759"></a>07759         foundHit = <span class="keyword">true</span>;
<a name="l07760"></a>07760       }
<a name="l07761"></a>07761     }
<a name="l07762"></a>07762     <span class="comment">// for axes:</span>
<a name="l07763"></a>07763     <span class="keywordflow">if</span> (!foundHit &amp;&amp; receivers(SIGNAL(<a class="code" href="class_q_custom_plot.html#abf635f8b56ab5c16d5de9f358543e82b">axisClick</a>(<a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a>*,<a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115f">QCPAxis::SelectablePart</a>,QMouseEvent*))) &gt; 0)
<a name="l07764"></a>07764     {
<a name="l07765"></a>07765       QVector&lt;QCPAxis*&gt; axes = QVector&lt;QCPAxis*&gt;() &lt;&lt; <a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a> &lt;&lt; <a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a> &lt;&lt; <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a> &lt;&lt; <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>;
<a name="l07766"></a>07766       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;axes.size(); ++i)
<a name="l07767"></a>07767       {
<a name="l07768"></a>07768         <a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115f">QCPAxis::SelectablePart</a> part = axes.at(i)-&gt;<a class="code" href="class_q_c_p_axis.html#a940be5ef61f4fa0dc21e4f4c7a5875c2">selectTest</a>(event-&gt;pos());
<a name="l07769"></a>07769         <span class="keywordflow">if</span> (part != <a class="code" href="class_q_c_p_axis.html#abee4c7a54c468b1385dfce2c898b115fae0df8123a5528d5ccf87cb7794f971ea" title="None of the selectable parts.">QCPAxis::spNone</a>)
<a name="l07770"></a>07770         {
<a name="l07771"></a>07771           foundHit = <span class="keyword">true</span>;
<a name="l07772"></a>07772           emit <a class="code" href="class_q_custom_plot.html#abf635f8b56ab5c16d5de9f358543e82b">axisClick</a>(axes.at(i), part, event);
<a name="l07773"></a>07773           <span class="keywordflow">break</span>;
<a name="l07774"></a>07774         }
<a name="l07775"></a>07775       }
<a name="l07776"></a>07776     }
<a name="l07777"></a>07777     <span class="comment">// for title:</span>
<a name="l07778"></a>07778     <span class="keywordflow">if</span> (!foundHit &amp;&amp; receivers(SIGNAL(<a class="code" href="class_q_custom_plot.html#a969beb5e4b7e8864e5e349fcda4ce45b">titleClick</a>(QMouseEvent*))) &gt; 0)
<a name="l07779"></a>07779     {
<a name="l07780"></a>07780       <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a2a2d01a092840ac01b16104f7973f831">selectTestTitle</a>(event-&gt;pos()))
<a name="l07781"></a>07781       {
<a name="l07782"></a>07782         emit <a class="code" href="class_q_custom_plot.html#a969beb5e4b7e8864e5e349fcda4ce45b">titleClick</a>(event);
<a name="l07783"></a>07783         foundHit = <span class="keyword">true</span>;
<a name="l07784"></a>07784       }
<a name="l07785"></a>07785     }
<a name="l07786"></a>07786   } <span class="comment">// was a click end</span>
<a name="l07787"></a>07787   
<a name="l07788"></a>07788   <span class="keywordflow">if</span> (doReplot)
<a name="l07789"></a>07789     <a class="code" href="class_q_custom_plot.html#a563540b54b2a09c8ef092d42e9621f42">replot</a>();
<a name="l07790"></a>07790   
<a name="l07791"></a>07791   <a class="code" href="class_q_custom_plot.html#a724e97d2e8c03e68adac5f4b6164a1b3">QWidget::mouseReleaseEvent</a>(event);
<a name="l07792"></a>07792 }
<a name="l07793"></a>07793 
<a name="l07810"></a><a class="code" href="class_q_custom_plot.html#a7b8bd7e8d3a1d23a8595e9c6a6b76ef1">07810</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a7b8bd7e8d3a1d23a8595e9c6a6b76ef1">QCustomPlot::wheelEvent</a>(QWheelEvent *event)
<a name="l07811"></a>07811 {
<a name="l07812"></a>07812   emit <a class="code" href="class_q_custom_plot.html#ac80a14206f99304a91d2aa55775ec3ff">mouseWheel</a>(event);
<a name="l07813"></a>07813   
<a name="l07814"></a>07814   <span class="comment">// Mouse range zooming interaction:</span>
<a name="l07815"></a>07815   <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a24daf819733de795fb13971405c68e07">mInteractions</a>.testFlag(<a class="code" href="class_q_custom_plot.html#acc82d021129b61e550e36747d2e76d3aa9a4261d5fa24a11bdbdecdc58efcab2f" title="0x002 Axis ranges are zoomable with the mouse wheel (see setRangeZoom, setRangeZoomAxes)">iRangeZoom</a>))
<a name="l07816"></a>07816   {
<a name="l07817"></a>07817     <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#aaa5301107982716d6e72dbd24c7be172">mRangeZoom</a> != 0)
<a name="l07818"></a>07818     {
<a name="l07819"></a>07819       <span class="keywordtype">double</span> factor;
<a name="l07820"></a>07820       <span class="keywordtype">double</span> wheelSteps = <span class="keyword">event</span>-&gt;delta()/120.0; <span class="comment">// a single step delta is +/-120 usually</span>
<a name="l07821"></a>07821       <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#aaa5301107982716d6e72dbd24c7be172">mRangeZoom</a>.testFlag(Qt::Horizontal))
<a name="l07822"></a>07822       {
<a name="l07823"></a>07823         factor = pow(<a class="code" href="class_q_custom_plot.html#a23a57c59cfbb46e9d1c6e9a51bfa6daf">mRangeZoomFactorHorz</a>, wheelSteps);
<a name="l07824"></a>07824         <a class="code" href="class_q_custom_plot.html#a8f5d4dcb682e1d579603661a93901552">mRangeZoomHorzAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a7072ff96fe690148f1bbcdb4f773ea1c">scaleRange</a>(factor, <a class="code" href="class_q_custom_plot.html#a8f5d4dcb682e1d579603661a93901552">mRangeZoomHorzAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">pixelToCoord</a>(event-&gt;pos().x()));
<a name="l07825"></a>07825       }
<a name="l07826"></a>07826       <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#aaa5301107982716d6e72dbd24c7be172">mRangeZoom</a>.testFlag(Qt::Vertical))
<a name="l07827"></a>07827       {
<a name="l07828"></a>07828         factor = pow(<a class="code" href="class_q_custom_plot.html#a58ec881b605d7ea63cfc8480956739a1">mRangeZoomFactorVert</a>, wheelSteps);
<a name="l07829"></a>07829         <a class="code" href="class_q_custom_plot.html#ae10772213af61244b48b741268bd060f">mRangeZoomVertAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a7072ff96fe690148f1bbcdb4f773ea1c">scaleRange</a>(factor, <a class="code" href="class_q_custom_plot.html#ae10772213af61244b48b741268bd060f">mRangeZoomVertAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">pixelToCoord</a>(event-&gt;pos().y()));
<a name="l07830"></a>07830       }
<a name="l07831"></a>07831       <a class="code" href="class_q_custom_plot.html#a563540b54b2a09c8ef092d42e9621f42">replot</a>();
<a name="l07832"></a>07832     }
<a name="l07833"></a>07833   }
<a name="l07834"></a>07834   
<a name="l07835"></a>07835   <a class="code" href="class_q_custom_plot.html#a7b8bd7e8d3a1d23a8595e9c6a6b76ef1">QWidget::wheelEvent</a>(event);
<a name="l07836"></a>07836 }
<a name="l07837"></a>07837 
<a name="l07855"></a><a class="code" href="class_q_custom_plot.html#a881c8652ebb912345de27687817845cf">07855</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#a881c8652ebb912345de27687817845cf">QCustomPlot::handlePlottableSelection</a>(QMouseEvent *event, <span class="keywordtype">bool</span> additiveSelection, <span class="keywordtype">bool</span> &amp;modified)
<a name="l07856"></a>07856 {
<a name="l07857"></a>07857   <span class="comment">// Note: This code is basically identical to handleItemSelection, only for plottables</span>
<a name="l07858"></a>07858   
<a name="l07859"></a>07859   <span class="keywordtype">bool</span> selectionFound = <span class="keyword">false</span>;
<a name="l07860"></a>07860   <span class="keywordflow">if</span> (event)
<a name="l07861"></a>07861   {
<a name="l07862"></a>07862     <a class="code" href="class_q_c_p_abstract_plottable.html" title="The abstract base class for all data representing objects in a plot.">QCPAbstractPlottable</a> *plottableSelection = <a class="code" href="class_q_custom_plot.html#ac1d1bc6ae4e13616fb02cef6d9e2188e">plottableAt</a>(event-&gt;pos(), <span class="keyword">true</span>);
<a name="l07863"></a>07863     <span class="comment">// handle selection of found plottable:</span>
<a name="l07864"></a>07864     <span class="keywordflow">if</span> (plottableSelection)
<a name="l07865"></a>07865     {
<a name="l07866"></a>07866       selectionFound = <span class="keyword">true</span>;
<a name="l07867"></a>07867       <span class="keywordflow">if</span> (!plottableSelection-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#ab901903adcb0e29467d63de72340ab29">selected</a>() || additiveSelection)
<a name="l07868"></a>07868       {
<a name="l07869"></a>07869         plottableSelection-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#afbd5428c2952f59d952e11ab5cd79176">setSelected</a>(!plottableSelection-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#ab901903adcb0e29467d63de72340ab29">selected</a>());
<a name="l07870"></a>07870         modified = <span class="keyword">true</span>;
<a name="l07871"></a>07871       }
<a name="l07872"></a>07872     }
<a name="l07873"></a>07873     <span class="comment">// deselect all others (if plottableSelection is 0, all plottables are deselected):</span>
<a name="l07874"></a>07874     <span class="keywordflow">if</span> (!additiveSelection)
<a name="l07875"></a>07875     {
<a name="l07876"></a>07876       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.size(); ++i)
<a name="l07877"></a>07877       {
<a name="l07878"></a>07878         <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.at(i) != plottableSelection &amp;&amp; <a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.at(i)-&gt;selected() &amp;&amp; <a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.at(i)-&gt;selectable())
<a name="l07879"></a>07879         {
<a name="l07880"></a>07880           <a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.at(i)-&gt;setSelected(<span class="keyword">false</span>);
<a name="l07881"></a>07881           modified = <span class="keyword">true</span>;
<a name="l07882"></a>07882         }
<a name="l07883"></a>07883       }
<a name="l07884"></a>07884     }
<a name="l07885"></a>07885   } <span class="keywordflow">else</span> <span class="comment">// event == 0, so deselect selectable plottables</span>
<a name="l07886"></a>07886   {
<a name="l07887"></a>07887     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.size(); ++i)
<a name="l07888"></a>07888     {
<a name="l07889"></a>07889       <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.at(i)-&gt;selected() &amp;&amp; <a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.at(i)-&gt;selectable())
<a name="l07890"></a>07890       {
<a name="l07891"></a>07891         <a class="code" href="class_q_custom_plot.html#a62bf8e4e7f8d23fc1e9301ba0148269f">mPlottables</a>.at(i)-&gt;setSelected(<span class="keyword">false</span>);
<a name="l07892"></a>07892         modified = <span class="keyword">true</span>;
<a name="l07893"></a>07893       }
<a name="l07894"></a>07894     }
<a name="l07895"></a>07895   }
<a name="l07896"></a>07896   <span class="keywordflow">return</span> selectionFound;
<a name="l07897"></a>07897 }
<a name="l07898"></a>07898 
<a name="l07916"></a><a class="code" href="class_q_custom_plot.html#aa1ad9839539b4cdf9f7da768336650f2">07916</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#aa1ad9839539b4cdf9f7da768336650f2">QCustomPlot::handleItemSelection</a>(QMouseEvent *event, <span class="keywordtype">bool</span> additiveSelection, <span class="keywordtype">bool</span> &amp;modified)
<a name="l07917"></a>07917 {
<a name="l07918"></a>07918   <span class="comment">// Note: This code is basically identical to handlePlottableSelection, only for items</span>
<a name="l07919"></a>07919   
<a name="l07920"></a>07920   <span class="keywordtype">bool</span> selectionFound = <span class="keyword">false</span>;
<a name="l07921"></a>07921   <span class="keywordflow">if</span> (event)
<a name="l07922"></a>07922   {
<a name="l07923"></a>07923     <a class="code" href="class_q_c_p_abstract_item.html" title="The abstract base class for all items in a plot.">QCPAbstractItem</a> *itemSelection = <a class="code" href="class_q_custom_plot.html#a793e4b04e0ede11a733021907368fa83">itemAt</a>(event-&gt;pos(), <span class="keyword">true</span>);
<a name="l07924"></a>07924     <span class="comment">// handle selection of found plottable:</span>
<a name="l07925"></a>07925     <span class="keywordflow">if</span> (itemSelection)
<a name="l07926"></a>07926     {
<a name="l07927"></a>07927       selectionFound = <span class="keyword">true</span>;
<a name="l07928"></a>07928       <span class="keywordflow">if</span> (!itemSelection-&gt;<a class="code" href="class_q_c_p_abstract_item.html#a225865808640d8d9a7dd19f09a2e93f2">selected</a>() || additiveSelection)
<a name="l07929"></a>07929       {
<a name="l07930"></a>07930         itemSelection-&gt;<a class="code" href="class_q_c_p_abstract_item.html#a203de94ad586cc44d16c9565f49d3378">setSelected</a>(!itemSelection-&gt;<a class="code" href="class_q_c_p_abstract_item.html#a225865808640d8d9a7dd19f09a2e93f2">selected</a>());
<a name="l07931"></a>07931         modified = <span class="keyword">true</span>;
<a name="l07932"></a>07932       }
<a name="l07933"></a>07933     }
<a name="l07934"></a>07934     <span class="comment">// deselect all others (if itemSelection is 0, all items are deselected):</span>
<a name="l07935"></a>07935     <span class="keywordflow">if</span> (!additiveSelection)
<a name="l07936"></a>07936     {
<a name="l07937"></a>07937       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.size(); ++i)
<a name="l07938"></a>07938       {
<a name="l07939"></a>07939         <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.at(i) != itemSelection &amp;&amp; <a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.at(i)-&gt;selected() &amp;&amp; <a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.at(i)-&gt;selectable())
<a name="l07940"></a>07940         {
<a name="l07941"></a>07941           <a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.at(i)-&gt;setSelected(<span class="keyword">false</span>);
<a name="l07942"></a>07942           modified = <span class="keyword">true</span>;
<a name="l07943"></a>07943         }
<a name="l07944"></a>07944       }
<a name="l07945"></a>07945     }
<a name="l07946"></a>07946   } <span class="keywordflow">else</span> <span class="comment">// event == 0, so deselect selectable items</span>
<a name="l07947"></a>07947   {
<a name="l07948"></a>07948     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.size(); ++i)
<a name="l07949"></a>07949     {
<a name="l07950"></a>07950       <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.at(i)-&gt;selected() &amp;&amp; <a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.at(i)-&gt;selectable())
<a name="l07951"></a>07951       {
<a name="l07952"></a>07952         <a class="code" href="class_q_custom_plot.html#a6a93905372326e31e98d6c3bc8953ec8">mItems</a>.at(i)-&gt;setSelected(<span class="keyword">false</span>);
<a name="l07953"></a>07953         modified = <span class="keyword">true</span>;
<a name="l07954"></a>07954       }
<a name="l07955"></a>07955     }
<a name="l07956"></a>07956   }
<a name="l07957"></a>07957   <span class="keywordflow">return</span> selectionFound;
<a name="l07958"></a>07958 }
<a name="l07959"></a>07959 
<a name="l07972"></a><a class="code" href="class_q_custom_plot.html#a6500e0aa6de356954b81f091e819c637">07972</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#a6500e0aa6de356954b81f091e819c637">QCustomPlot::handleAxisSelection</a>(QMouseEvent *event, <span class="keywordtype">bool</span> additiveSelection, <span class="keywordtype">bool</span> &amp;modified)
<a name="l07973"></a>07973 {
<a name="l07974"></a>07974   <span class="keywordtype">bool</span> selectionFound = <span class="keyword">false</span>;
<a name="l07975"></a>07975   QVector&lt;QCPAxis*&gt; axes = QVector&lt;QCPAxis*&gt;() &lt;&lt; <a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a> &lt;&lt; <a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a> &lt;&lt; <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a> &lt;&lt; <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>;
<a name="l07976"></a>07976   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;axes.size(); ++i)
<a name="l07977"></a>07977     selectionFound |= axes.at(i)-&gt;<a class="code" href="class_q_c_p_axis.html#ac68d1c81004fded1f3c4ca95879a445d">handleAxisSelection</a>((!selectionFound || additiveSelection) ? event : 0, additiveSelection, modified);
<a name="l07978"></a>07978   <span class="keywordflow">return</span> selectionFound;
<a name="l07979"></a>07979 }
<a name="l07980"></a>07980 
<a name="l07993"></a><a class="code" href="class_q_custom_plot.html#ae688ab743e775cd0c69941a082dd32e3">07993</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#ae688ab743e775cd0c69941a082dd32e3">QCustomPlot::handleTitleSelection</a>(QMouseEvent *event, <span class="keywordtype">bool</span> additiveSelection, <span class="keywordtype">bool</span> &amp;modified)
<a name="l07994"></a>07994 {
<a name="l07995"></a>07995   <span class="keywordtype">bool</span> selectionFound = <span class="keyword">false</span>;
<a name="l07996"></a>07996   <span class="keywordflow">if</span> (event &amp;&amp; <a class="code" href="class_q_custom_plot.html#a2a2d01a092840ac01b16104f7973f831">selectTestTitle</a>(event-&gt;pos())) <span class="comment">// hit, select title</span>
<a name="l07997"></a>07997   {
<a name="l07998"></a>07998     selectionFound = <span class="keyword">true</span>;
<a name="l07999"></a>07999     <span class="keywordflow">if</span> (!<a class="code" href="class_q_custom_plot.html#a587e5d3000d2167f38fea124236082e2">titleSelected</a>() || additiveSelection)
<a name="l08000"></a>08000     {
<a name="l08001"></a>08001       <a class="code" href="class_q_custom_plot.html#aa89e06c04804ff2a0994ccb1aa80d131">setTitleSelected</a>(!<a class="code" href="class_q_custom_plot.html#a587e5d3000d2167f38fea124236082e2">titleSelected</a>());
<a name="l08002"></a>08002       modified = <span class="keyword">true</span>;
<a name="l08003"></a>08003     }
<a name="l08004"></a>08004   } <span class="keywordflow">else</span> <span class="comment">// no hit or event == 0, deselect title</span>
<a name="l08005"></a>08005   {
<a name="l08006"></a>08006     <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a587e5d3000d2167f38fea124236082e2">titleSelected</a>() &amp;&amp; !additiveSelection)
<a name="l08007"></a>08007     {
<a name="l08008"></a>08008       <a class="code" href="class_q_custom_plot.html#aa89e06c04804ff2a0994ccb1aa80d131">setTitleSelected</a>(<span class="keyword">false</span>);
<a name="l08009"></a>08009       modified = <span class="keyword">true</span>;
<a name="l08010"></a>08010     }
<a name="l08011"></a>08011   }
<a name="l08012"></a>08012   <span class="keywordflow">return</span> selectionFound;
<a name="l08013"></a>08013 }
<a name="l08014"></a>08014 
<a name="l08021"></a><a class="code" href="class_q_custom_plot.html#ad7a7d878bf050f101a43008e7d8fdb52">08021</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#ad7a7d878bf050f101a43008e7d8fdb52">QCustomPlot::draw</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)
<a name="l08022"></a>08022 {
<a name="l08023"></a>08023   <span class="comment">// calculate title bounding box:</span>
<a name="l08024"></a>08024   <span class="keywordflow">if</span> (!<a class="code" href="class_q_custom_plot.html#a7ff92cd30a25ecc4db923b535910c7be">mTitle</a>.isEmpty())
<a name="l08025"></a>08025   {
<a name="l08026"></a>08026     painter-&gt;setFont(<a class="code" href="class_q_custom_plot.html#a587e5d3000d2167f38fea124236082e2">titleSelected</a>() ? <a class="code" href="class_q_custom_plot.html#a43f7478911c74a3788b6c8f02f1eb4bc">mSelectedTitleFont</a> : <a class="code" href="class_q_custom_plot.html#a127950967ada049b61eea4c2bed3f4ee">mTitleFont</a>);
<a name="l08027"></a>08027     <a class="code" href="class_q_custom_plot.html#ac2dcb916aeb80afa18b5c393c6d4145a">mTitleBoundingBox</a> = painter-&gt;fontMetrics().boundingRect(<a class="code" href="class_q_custom_plot.html#ac0a7c38a715526c257cff95774f83ab6">mViewport</a>, Qt::TextDontClip | Qt::AlignHCenter, <a class="code" href="class_q_custom_plot.html#a7ff92cd30a25ecc4db923b535910c7be">mTitle</a>);
<a name="l08028"></a>08028   } <span class="keywordflow">else</span>
<a name="l08029"></a>08029     <a class="code" href="class_q_custom_plot.html#ac2dcb916aeb80afa18b5c393c6d4145a">mTitleBoundingBox</a> = QRect();
<a name="l08030"></a>08030   
<a name="l08031"></a>08031   <span class="comment">// prepare values of ticks and tick strings:</span>
<a name="l08032"></a>08032   <a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57d9e961bae7d62f5b4e1f143e660c78">setupTickVectors</a>();
<a name="l08033"></a>08033   <a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57d9e961bae7d62f5b4e1f143e660c78">setupTickVectors</a>();
<a name="l08034"></a>08034   <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57d9e961bae7d62f5b4e1f143e660c78">setupTickVectors</a>();
<a name="l08035"></a>08035   <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57d9e961bae7d62f5b4e1f143e660c78">setupTickVectors</a>();
<a name="l08036"></a>08036   <span class="comment">// set auto margin such that tick/axis labels etc. are not clipped:</span>
<a name="l08037"></a>08037   <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a062250ee271589efcc4e501e676c1d74">mAutoMargin</a>)
<a name="l08038"></a>08038   {
<a name="l08039"></a>08039     <a class="code" href="class_q_custom_plot.html#a990cbcb1da0cc93ebb06ceea7366c129">setMargin</a>(<a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a10756afda0cd419fb24d09adb411dda7">calculateMargin</a>(),
<a name="l08040"></a>08040               <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a10756afda0cd419fb24d09adb411dda7">calculateMargin</a>(),
<a name="l08041"></a>08041               <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a10756afda0cd419fb24d09adb411dda7">calculateMargin</a>()+<a class="code" href="class_q_custom_plot.html#ac2dcb916aeb80afa18b5c393c6d4145a">mTitleBoundingBox</a>.height(),
<a name="l08042"></a>08042               <a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a10756afda0cd419fb24d09adb411dda7">calculateMargin</a>());
<a name="l08043"></a>08043   }
<a name="l08044"></a>08044   <span class="comment">// position legend:</span>
<a name="l08045"></a>08045   <a class="code" href="class_q_custom_plot.html#a73da53368aa4c2db3d874cf0db50d140">legend</a>-&gt;<a class="code" href="class_q_c_p_legend.html#ad7fd50e5478b0da477d9cc74b7204caf">reArrange</a>();
<a name="l08046"></a>08046   
<a name="l08047"></a>08047   <span class="comment">// draw axis background:</span>
<a name="l08048"></a>08048   <a class="code" href="class_q_custom_plot.html#a2ddc6669cdcd1224803f78e579858b16">drawAxisBackground</a>(painter);
<a name="l08049"></a>08049   
<a name="l08050"></a>08050   <span class="comment">// draw all layered objects (grid, axes, plottables, items, legend,...):</span>
<a name="l08051"></a>08051   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> layerIndex=0; layerIndex &lt; <a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.size(); ++layerIndex)
<a name="l08052"></a>08052   {
<a name="l08053"></a>08053     QList&lt;QCPLayerable*&gt; layerChildren = <a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.at(layerIndex)-&gt;children();
<a name="l08054"></a>08054     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=0; k &lt; layerChildren.size(); ++k)
<a name="l08055"></a>08055     {
<a name="l08056"></a>08056       <a class="code" href="class_q_c_p_layerable.html" title="Base class for all objects that can be placed on layers.">QCPLayerable</a> *child = layerChildren.at(k);
<a name="l08057"></a>08057       <span class="keywordflow">if</span> (child-&gt;<a class="code" href="class_q_c_p_layerable.html#a10a3cc92e0fa63e4a929e61d34e275a7">visible</a>())
<a name="l08058"></a>08058       {
<a name="l08059"></a>08059         painter-&gt;<a class="code" href="class_q_c_p_painter.html#a8fd6821ee6fecbfa04444c9062912abd">save</a>();
<a name="l08060"></a>08060         painter-&gt;setClipRect(child-&gt;<a class="code" href="class_q_c_p_layerable.html#a07a8f746640c3704b09910df297afcba">clipRect</a>().translated(0, -1));
<a name="l08061"></a>08061         child-&gt;<a class="code" href="class_q_c_p_layerable.html#afdf83ddc6a265cbf4c89fe99d3d93473">applyDefaultAntialiasingHint</a>(painter);
<a name="l08062"></a>08062         child-&gt;<a class="code" href="class_q_c_p_layerable.html#aecf2f7087482d4b6a78cb2770e5ed12d">draw</a>(painter);
<a name="l08063"></a>08063         painter-&gt;<a class="code" href="class_q_c_p_painter.html#a64908e6298d5bbd83457dc987cc3a022">restore</a>();
<a name="l08064"></a>08064       }
<a name="l08065"></a>08065     }
<a name="l08066"></a>08066   }
<a name="l08067"></a>08067   
<a name="l08068"></a>08068   <span class="comment">// draw title:</span>
<a name="l08069"></a>08069   <span class="keywordflow">if</span> (!<a class="code" href="class_q_custom_plot.html#a7ff92cd30a25ecc4db923b535910c7be">mTitle</a>.isEmpty())
<a name="l08070"></a>08070   {
<a name="l08071"></a>08071     painter-&gt;setFont(<a class="code" href="class_q_custom_plot.html#a587e5d3000d2167f38fea124236082e2">titleSelected</a>() ? <a class="code" href="class_q_custom_plot.html#a43f7478911c74a3788b6c8f02f1eb4bc">mSelectedTitleFont</a> : <a class="code" href="class_q_custom_plot.html#a127950967ada049b61eea4c2bed3f4ee">mTitleFont</a>);
<a name="l08072"></a>08072     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(QPen(<a class="code" href="class_q_custom_plot.html#a587e5d3000d2167f38fea124236082e2">titleSelected</a>() ? <a class="code" href="class_q_custom_plot.html#a62488fc0f570567eb7b0633a46fe4e80">mSelectedTitleColor</a> : <a class="code" href="class_q_custom_plot.html#a94b15b3356760d19487c0d1baeb37d4a">mTitleColor</a>));
<a name="l08073"></a>08073     painter-&gt;drawText(<a class="code" href="class_q_custom_plot.html#ac2dcb916aeb80afa18b5c393c6d4145a">mTitleBoundingBox</a>, Qt::TextDontClip | Qt::AlignHCenter, <a class="code" href="class_q_custom_plot.html#a7ff92cd30a25ecc4db923b535910c7be">mTitle</a>);
<a name="l08074"></a>08074   }
<a name="l08075"></a>08075 }
<a name="l08076"></a>08076 
<a name="l08089"></a><a class="code" href="class_q_custom_plot.html#a2ddc6669cdcd1224803f78e579858b16">08089</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a2ddc6669cdcd1224803f78e579858b16">QCustomPlot::drawAxisBackground</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)
<a name="l08090"></a>08090 {
<a name="l08091"></a>08091   <span class="keywordflow">if</span> (!<a class="code" href="class_q_custom_plot.html#a89818035f469822c7efa0bf1b4a0af92">mAxisBackground</a>.isNull())
<a name="l08092"></a>08092   {
<a name="l08093"></a>08093     <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#a9f90d0ef937c05f9ec0266d10ab3645a">mAxisBackgroundScaled</a>)
<a name="l08094"></a>08094     {
<a name="l08095"></a>08095       <span class="comment">// check whether mScaledAxisBackground needs to be updated:</span>
<a name="l08096"></a>08096       QSize scaledSize(<a class="code" href="class_q_custom_plot.html#a89818035f469822c7efa0bf1b4a0af92">mAxisBackground</a>.size());
<a name="l08097"></a>08097       scaledSize.scale(<a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>.size(), <a class="code" href="class_q_custom_plot.html#a6fe1c87e0c2c9038bb9c0e75afe81920">mAxisBackgroundScaledMode</a>);
<a name="l08098"></a>08098       <span class="keywordflow">if</span> (<a class="code" href="class_q_custom_plot.html#adce9d9f098c64cb88613186c03ee8489">mScaledAxisBackground</a>.size() != scaledSize)
<a name="l08099"></a>08099         <a class="code" href="class_q_custom_plot.html#adce9d9f098c64cb88613186c03ee8489">mScaledAxisBackground</a> = <a class="code" href="class_q_custom_plot.html#a89818035f469822c7efa0bf1b4a0af92">mAxisBackground</a>.scaled(<a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>.size(), <a class="code" href="class_q_custom_plot.html#a6fe1c87e0c2c9038bb9c0e75afe81920">mAxisBackgroundScaledMode</a>, Qt::SmoothTransformation);
<a name="l08100"></a>08100       painter-&gt;drawPixmap(<a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>.topLeft(), <a class="code" href="class_q_custom_plot.html#adce9d9f098c64cb88613186c03ee8489">mScaledAxisBackground</a>, QRect(0, 0, <a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>.width(), <a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>.height()) &amp; <a class="code" href="class_q_custom_plot.html#adce9d9f098c64cb88613186c03ee8489">mScaledAxisBackground</a>.rect());
<a name="l08101"></a>08101     } <span class="keywordflow">else</span>
<a name="l08102"></a>08102     {
<a name="l08103"></a>08103       painter-&gt;drawPixmap(<a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>.topLeft(), <a class="code" href="class_q_custom_plot.html#a89818035f469822c7efa0bf1b4a0af92">mAxisBackground</a>, QRect(0, 0, <a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>.width(), <a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>.height()));
<a name="l08104"></a>08104     }
<a name="l08105"></a>08105   }
<a name="l08106"></a>08106 }
<a name="l08107"></a>08107 
<a name="l08115"></a><a class="code" href="class_q_custom_plot.html#a428242419d3a1b63f2cbff637986c35c">08115</a> <span class="keywordtype">void</span> <a class="code" href="class_q_custom_plot.html#a428242419d3a1b63f2cbff637986c35c">QCustomPlot::updateAxisRect</a>()
<a name="l08116"></a>08116 {
<a name="l08117"></a>08117   <a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a> = <a class="code" href="class_q_custom_plot.html#ac0a7c38a715526c257cff95774f83ab6">mViewport</a>.adjusted(<a class="code" href="class_q_custom_plot.html#a21ca75784f7c026f7fbd5ecb1859e53a">mMarginLeft</a>, <a class="code" href="class_q_custom_plot.html#a8cbdb4fd979850a172d41816be8575a0">mMarginTop</a>, -<a class="code" href="class_q_custom_plot.html#a11ab3751e41bd84f80d39cd402d33b44">mMarginRight</a>, -<a class="code" href="class_q_custom_plot.html#a2b11299cca5bd848821cafac1d8544a9">mMarginBottom</a>);
<a name="l08118"></a>08118   <a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a0188c6248366fc9f9ff816dceee986e0">setAxisRect</a>(<a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>);
<a name="l08119"></a>08119   <a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a0188c6248366fc9f9ff816dceee986e0">setAxisRect</a>(<a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>);
<a name="l08120"></a>08120   <a class="code" href="class_q_custom_plot.html#ada41599f22cad901c030f3dcbdd82fd9">xAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a0188c6248366fc9f9ff816dceee986e0">setAxisRect</a>(<a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>);
<a name="l08121"></a>08121   <a class="code" href="class_q_custom_plot.html#af13fdc5bce7d0fabd640f13ba805c0b7">yAxis2</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a0188c6248366fc9f9ff816dceee986e0">setAxisRect</a>(<a class="code" href="class_q_custom_plot.html#a0915ab4426899b5be2e29fac8a75a41c">mAxisRect</a>);
<a name="l08122"></a>08122 }
<a name="l08123"></a>08123 
<a name="l08128"></a><a class="code" href="class_q_custom_plot.html#a2a2d01a092840ac01b16104f7973f831">08128</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#a2a2d01a092840ac01b16104f7973f831">QCustomPlot::selectTestTitle</a>(<span class="keyword">const</span> QPointF &amp;pos)<span class="keyword"> const</span>
<a name="l08129"></a>08129 <span class="keyword"></span>{
<a name="l08130"></a>08130   <span class="keywordflow">return</span> <a class="code" href="class_q_custom_plot.html#ac2dcb916aeb80afa18b5c393c6d4145a">mTitleBoundingBox</a>.contains(pos.toPoint());
<a name="l08131"></a>08131 }
<a name="l08132"></a>08132 
<a name="l08145"></a><a class="code" href="class_q_custom_plot.html#ab528b84cf92baabe29b1d0ef2f77c93e">08145</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_custom_plot.html#ab528b84cf92baabe29b1d0ef2f77c93e">QCustomPlot::saveRastered</a>(<span class="keyword">const</span> QString &amp;fileName, <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height, <span class="keywordtype">double</span> scale, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, <span class="keywordtype">int</span> quality)
<a name="l08146"></a>08146 {
<a name="l08147"></a>08147   <span class="keywordtype">int</span> newWidth, newHeight;
<a name="l08148"></a>08148   <span class="keywordflow">if</span> (width == 0 || height == 0)
<a name="l08149"></a>08149   {
<a name="l08150"></a>08150     newWidth = this-&gt;width();
<a name="l08151"></a>08151     newHeight = this-&gt;height();
<a name="l08152"></a>08152   } <span class="keywordflow">else</span>
<a name="l08153"></a>08153   {
<a name="l08154"></a>08154     newWidth = width;
<a name="l08155"></a>08155     newHeight = height;
<a name="l08156"></a>08156   }
<a name="l08157"></a>08157   <span class="keywordtype">int</span> scaledWidth = qRound(scale*newWidth);
<a name="l08158"></a>08158   <span class="keywordtype">int</span> scaledHeight = qRound(scale*newHeight);
<a name="l08159"></a>08159 
<a name="l08160"></a>08160   QPixmap pngBuffer(scaledWidth, scaledHeight); <span class="comment">// use QPixmap instead of QImage (like live painting buffer), because it supports background transparency (of mColor).</span>
<a name="l08161"></a>08161   pngBuffer.fill(<a class="code" href="class_q_custom_plot.html#a653335b5475ede92ae8c9215606a573a">mColor</a>);
<a name="l08162"></a>08162   <a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> painter(&amp;pngBuffer);
<a name="l08163"></a>08163   QRect oldViewport = <a class="code" href="class_q_custom_plot.html#ac0a7c38a715526c257cff95774f83ab6">mViewport</a>;
<a name="l08164"></a>08164   <a class="code" href="class_q_custom_plot.html#ac0a7c38a715526c257cff95774f83ab6">mViewport</a> = QRect(0, 0, newWidth, newHeight);
<a name="l08165"></a>08165   <a class="code" href="class_q_custom_plot.html#a428242419d3a1b63f2cbff637986c35c">updateAxisRect</a>();
<a name="l08166"></a>08166   <span class="keywordflow">if</span> (!qFuzzyCompare(scale, 1.0))
<a name="l08167"></a>08167   {
<a name="l08168"></a>08168     <span class="keywordflow">if</span> (scale &gt; 1.0) <span class="comment">// for scale &lt; 1 we always want cosmetic pens where possible, because else lines would disappear</span>
<a name="l08169"></a>08169     {
<a name="l08170"></a>08170       painter.<a class="code" href="class_q_c_p_painter.html#a256e886e856ae696503aeacae91535cd">setScaledExportMode</a>(<span class="keyword">true</span>);
<a name="l08171"></a>08171       painter.setRenderHint(QPainter::NonCosmeticDefaultPen);
<a name="l08172"></a>08172     }
<a name="l08173"></a>08173     painter.scale(scale, scale);
<a name="l08174"></a>08174   }
<a name="l08175"></a>08175   <a class="code" href="class_q_custom_plot.html#ad7a7d878bf050f101a43008e7d8fdb52">draw</a>(&amp;painter);
<a name="l08176"></a>08176   <a class="code" href="class_q_custom_plot.html#ac0a7c38a715526c257cff95774f83ab6">mViewport</a> = oldViewport;
<a name="l08177"></a>08177   <a class="code" href="class_q_custom_plot.html#a428242419d3a1b63f2cbff637986c35c">updateAxisRect</a>();
<a name="l08178"></a>08178   <span class="keywordflow">return</span> pngBuffer.save(fileName, format, quality);
<a name="l08179"></a>08179 }
<a name="l08180"></a>08180 
<a name="l08181"></a>08181 
<a name="l08182"></a>08182 <span class="comment">// ================================================================================</span>
<a name="l08183"></a>08183 <span class="comment">// =================== QCPAbstractPlottable</span>
<a name="l08184"></a>08184 <span class="comment">// ================================================================================</span>
<a name="l08185"></a>08185 
<a name="l08254"></a>08254 <span class="comment">/* start of documentation of pure virtual functions */</span>
<a name="l08255"></a>08255 
<a name="l08329"></a>08329 <span class="comment">/* end of documentation of pure virtual functions */</span>
<a name="l08330"></a>08330 <span class="comment">/* start of documentation of signals */</span>
<a name="l08331"></a>08331 
<a name="l08337"></a>08337 <span class="comment">/* end of documentation of signals */</span>
<a name="l08338"></a>08338 
<a name="l08352"></a><a class="code" href="class_q_c_p_abstract_plottable.html#af78a036e40db6f53a31abadc5323715a">08352</a> <a class="code" href="class_q_c_p_abstract_plottable.html#af78a036e40db6f53a31abadc5323715a">QCPAbstractPlottable::QCPAbstractPlottable</a>(<a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *keyAxis, <a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *valueAxis) :
<a name="l08353"></a>08353   <a class="code" href="class_q_c_p_layerable.html" title="Base class for all objects that can be placed on layers.">QCPLayerable</a>(keyAxis-&gt;parentPlot()),
<a name="l08354"></a>08354   mName(<span class="stringliteral">&quot;&quot;</span>),
<a name="l08355"></a>08355   mAntialiasedFill(true),
<a name="l08356"></a>08356   mAntialiasedScatters(true),
<a name="l08357"></a>08357   mAntialiasedErrorBars(false),
<a name="l08358"></a>08358   mPen(Qt::black),
<a name="l08359"></a>08359   mSelectedPen(Qt::black),
<a name="l08360"></a>08360   mBrush(Qt::NoBrush),
<a name="l08361"></a>08361   mSelectedBrush(Qt::NoBrush),
<a name="l08362"></a>08362   mKeyAxis(keyAxis),
<a name="l08363"></a>08363   mValueAxis(valueAxis),
<a name="l08364"></a>08364   mSelected(false),
<a name="l08365"></a>08365   mSelectable(true)
<a name="l08366"></a>08366 {
<a name="l08367"></a>08367   <span class="keywordflow">if</span> (keyAxis-&gt;<a class="code" href="class_q_c_p_layerable.html#ab7e0e94461566093d36ffc0f5312b109">parentPlot</a>() != valueAxis-&gt;<a class="code" href="class_q_c_p_layerable.html#ab7e0e94461566093d36ffc0f5312b109">parentPlot</a>())
<a name="l08368"></a>08368     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;Parent plot of keyAxis is not the same as that of valueAxis.&quot;</span>;
<a name="l08369"></a>08369   <span class="keywordflow">if</span> (keyAxis-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == valueAxis-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>())
<a name="l08370"></a>08370     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;keyAxis and valueAxis must be orthogonal to each other.&quot;</span>;
<a name="l08371"></a>08371 }
<a name="l08372"></a>08372 
<a name="l08377"></a><a class="code" href="class_q_c_p_abstract_plottable.html#ab79c7ba76bc7fa89a4b3580e12149f1f">08377</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_plottable.html#ab79c7ba76bc7fa89a4b3580e12149f1f">QCPAbstractPlottable::setName</a>(<span class="keyword">const</span> QString &amp;name)
<a name="l08378"></a>08378 {
<a name="l08379"></a>08379   <a class="code" href="class_q_c_p_abstract_plottable.html#ac29ffef424e2488675930de18cde612a">mName</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#a1affc1972938e4364a9325e4e4e4dcea">name</a>;
<a name="l08380"></a>08380 }
<a name="l08381"></a>08381 
<a name="l08388"></a><a class="code" href="class_q_c_p_abstract_plottable.html#a089d6b5577120239b55c39ed27c39536">08388</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_plottable.html#a089d6b5577120239b55c39ed27c39536">QCPAbstractPlottable::setAntialiasedFill</a>(<span class="keywordtype">bool</span> enabled)
<a name="l08389"></a>08389 {
<a name="l08390"></a>08390   <a class="code" href="class_q_c_p_abstract_plottable.html#a152ac765bedf927fb240545d11d453ea">mAntialiasedFill</a> = enabled;
<a name="l08391"></a>08391 }
<a name="l08392"></a>08392 
<a name="l08399"></a><a class="code" href="class_q_c_p_abstract_plottable.html#a2f03f067ede2ed4da6f7d0e4777a3f02">08399</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_plottable.html#a2f03f067ede2ed4da6f7d0e4777a3f02">QCPAbstractPlottable::setAntialiasedScatters</a>(<span class="keywordtype">bool</span> enabled)
<a name="l08400"></a>08400 {
<a name="l08401"></a>08401   <a class="code" href="class_q_c_p_abstract_plottable.html#aa115755e525a8e3a86dc683f9cab755b">mAntialiasedScatters</a> = enabled;
<a name="l08402"></a>08402 }
<a name="l08403"></a>08403 
<a name="l08410"></a><a class="code" href="class_q_c_p_abstract_plottable.html#a757beb744b96cf1855cca5ab9d3ecf52">08410</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_plottable.html#a757beb744b96cf1855cca5ab9d3ecf52">QCPAbstractPlottable::setAntialiasedErrorBars</a>(<span class="keywordtype">bool</span> enabled)
<a name="l08411"></a>08411 {
<a name="l08412"></a>08412   <a class="code" href="class_q_c_p_abstract_plottable.html#ad48660b2bd301576e92fb033d8f455ea">mAntialiasedErrorBars</a> = enabled;
<a name="l08413"></a>08413 }
<a name="l08414"></a>08414 
<a name="l08415"></a>08415 
<a name="l08425"></a><a class="code" href="class_q_c_p_abstract_plottable.html#ab74b09ae4c0e7e13142fe4b5bf46cac7">08425</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_plottable.html#ab74b09ae4c0e7e13142fe4b5bf46cac7">QCPAbstractPlottable::setPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l08426"></a>08426 {
<a name="l08427"></a>08427   <a class="code" href="class_q_c_p_abstract_plottable.html#a67bc0622fd1b9fa14e54c14922dcec66">mPen</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#a41d060007cc6b3037c9c04d22d0c0398">pen</a>;
<a name="l08428"></a>08428 }
<a name="l08429"></a>08429 
<a name="l08436"></a><a class="code" href="class_q_c_p_abstract_plottable.html#a6911603cad23ab0469b108224517516f">08436</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_plottable.html#a6911603cad23ab0469b108224517516f">QCPAbstractPlottable::setSelectedPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l08437"></a>08437 {
<a name="l08438"></a>08438   <a class="code" href="class_q_c_p_abstract_plottable.html#a10619472f5d5e10e9519a599f1cf5576">mSelectedPen</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#a41d060007cc6b3037c9c04d22d0c0398">pen</a>;
<a name="l08439"></a>08439 }
<a name="l08440"></a>08440 
<a name="l08450"></a><a class="code" href="class_q_c_p_abstract_plottable.html#a7a4b92144dca6453a1f0f210e27edc74">08450</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_plottable.html#a7a4b92144dca6453a1f0f210e27edc74">QCPAbstractPlottable::setBrush</a>(<span class="keyword">const</span> QBrush &amp;brush)
<a name="l08451"></a>08451 {
<a name="l08452"></a>08452   <a class="code" href="class_q_c_p_abstract_plottable.html#a33f00674c0161c13315ab9da0895418e">mBrush</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#aa74cdceb9c7286ef116fbfa58e0326e7">brush</a>;
<a name="l08453"></a>08453 }
<a name="l08454"></a>08454 
<a name="l08461"></a><a class="code" href="class_q_c_p_abstract_plottable.html#ae8c816874089f7a44001e8618e81a9dc">08461</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_plottable.html#ae8c816874089f7a44001e8618e81a9dc">QCPAbstractPlottable::setSelectedBrush</a>(<span class="keyword">const</span> QBrush &amp;brush)
<a name="l08462"></a>08462 {
<a name="l08463"></a>08463   <a class="code" href="class_q_c_p_abstract_plottable.html#aea3c0da30c7a8be23ad5f2d9bca36762">mSelectedBrush</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#aa74cdceb9c7286ef116fbfa58e0326e7">brush</a>;
<a name="l08464"></a>08464 }
<a name="l08465"></a>08465 
<a name="l08477"></a><a class="code" href="class_q_c_p_abstract_plottable.html#a8524fa2994c63c0913ebd9bb2ffa3920">08477</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_plottable.html#a8524fa2994c63c0913ebd9bb2ffa3920">QCPAbstractPlottable::setKeyAxis</a>(<a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *axis)
<a name="l08478"></a>08478 {
<a name="l08479"></a>08479   <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a> = axis;
<a name="l08480"></a>08480 }
<a name="l08481"></a>08481 
<a name="l08493"></a><a class="code" href="class_q_c_p_abstract_plottable.html#a71626a07367e241ec62ad2c34baf21cb">08493</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_plottable.html#a71626a07367e241ec62ad2c34baf21cb">QCPAbstractPlottable::setValueAxis</a>(<a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *axis)
<a name="l08494"></a>08494 {
<a name="l08495"></a>08495   <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a> = axis;
<a name="l08496"></a>08496 }
<a name="l08497"></a>08497 
<a name="l08507"></a><a class="code" href="class_q_c_p_abstract_plottable.html#a22c69299eb5569e0f6bf084877a37dc4">08507</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_plottable.html#a22c69299eb5569e0f6bf084877a37dc4">QCPAbstractPlottable::setSelectable</a>(<span class="keywordtype">bool</span> selectable)
<a name="l08508"></a>08508 {
<a name="l08509"></a>08509   <a class="code" href="class_q_c_p_abstract_plottable.html#aceee52342c8e75727abcbd164986fdcb">mSelectable</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#af895574da1ec0d050711b6c9deda296a">selectable</a>;
<a name="l08510"></a>08510 }
<a name="l08511"></a>08511 
<a name="l08526"></a><a class="code" href="class_q_c_p_abstract_plottable.html#afbd5428c2952f59d952e11ab5cd79176">08526</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_plottable.html#afbd5428c2952f59d952e11ab5cd79176">QCPAbstractPlottable::setSelected</a>(<span class="keywordtype">bool</span> selected)
<a name="l08527"></a>08527 {
<a name="l08528"></a>08528   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a43f68a0603e9bcd016bdfa6d9d5c41c9">mSelected</a> != selected)
<a name="l08529"></a>08529   {
<a name="l08530"></a>08530     <a class="code" href="class_q_c_p_abstract_plottable.html#a43f68a0603e9bcd016bdfa6d9d5c41c9">mSelected</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#ab901903adcb0e29467d63de72340ab29">selected</a>;
<a name="l08531"></a>08531     emit <a class="code" href="class_q_c_p_abstract_plottable.html#a3af66432b1dca93b28e00e78a8c7c1d9">selectionChanged</a>(<a class="code" href="class_q_c_p_abstract_plottable.html#a43f68a0603e9bcd016bdfa6d9d5c41c9">mSelected</a>);
<a name="l08532"></a>08532   }
<a name="l08533"></a>08533 }
<a name="l08534"></a>08534 
<a name="l08546"></a><a class="code" href="class_q_c_p_abstract_plottable.html#a7e8fc3be43c27ccacd70a7bf9d74a5cd">08546</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_plottable.html#a7e8fc3be43c27ccacd70a7bf9d74a5cd">QCPAbstractPlottable::rescaleAxes</a>(<span class="keywordtype">bool</span> onlyEnlarge)<span class="keyword"> const</span>
<a name="l08547"></a>08547 <span class="keyword"></span>{
<a name="l08548"></a>08548   <a class="code" href="class_q_c_p_abstract_plottable.html#a1acecfcca3e7fcda00fcbaa3c886386f">rescaleKeyAxis</a>(onlyEnlarge);
<a name="l08549"></a>08549   <a class="code" href="class_q_c_p_abstract_plottable.html#abfd0805eb1d955c0111a990246658324">rescaleValueAxis</a>(onlyEnlarge);
<a name="l08550"></a>08550 }
<a name="l08551"></a>08551 
<a name="l08557"></a><a class="code" href="class_q_c_p_abstract_plottable.html#a1acecfcca3e7fcda00fcbaa3c886386f">08557</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_plottable.html#a1acecfcca3e7fcda00fcbaa3c886386f">QCPAbstractPlottable::rescaleKeyAxis</a>(<span class="keywordtype">bool</span> onlyEnlarge)<span class="keyword"> const</span>
<a name="l08558"></a>08558 <span class="keyword"></span>{
<a name="l08559"></a>08559   <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8">SignDomain</a> signDomain = <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60" title="Both sign domains, including zero, i.e. all (rational) numbers.">sdBoth</a>;
<a name="l08560"></a>08560   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a8563e13407bc0616da7f7c84e02de170">scaleType</a>() == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0abf5b785ad976618816dc6f79b73216d4" title="Logarithmic scaling with correspondingly transformed plots and (major) tick marks at every base power...">QCPAxis::stLogarithmic</a>)
<a name="l08561"></a>08561     signDomain = (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &lt; 0 ? <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63" title="The negative sign domain, i.e. numbers smaller than zero.">sdNegative</a> : <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030" title="The positive sign domain, i.e. numbers greater than zero.">sdPositive</a>);
<a name="l08562"></a>08562   
<a name="l08563"></a>08563   <span class="keywordtype">bool</span> validRange;
<a name="l08564"></a>08564   <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> newRange = <a class="code" href="class_q_c_p_abstract_plottable.html#a7aa24ed0b3c39bd99338c7b9f145a71b">getKeyRange</a>(validRange, signDomain);
<a name="l08565"></a>08565   <span class="keywordflow">if</span> (validRange)
<a name="l08566"></a>08566   {
<a name="l08567"></a>08567     <span class="keywordflow">if</span> (onlyEnlarge)
<a name="l08568"></a>08568     {
<a name="l08569"></a>08569       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> &lt; newRange.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>)
<a name="l08570"></a>08570         newRange.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>;
<a name="l08571"></a>08571       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &gt; newRange.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>)
<a name="l08572"></a>08572         newRange.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>;
<a name="l08573"></a>08573     }
<a name="l08574"></a>08574     <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57d6ee9e9009fe88cb19db476ec70bca">setRange</a>(newRange);
<a name="l08575"></a>08575   }
<a name="l08576"></a>08576 }
<a name="l08577"></a>08577 
<a name="l08583"></a><a class="code" href="class_q_c_p_abstract_plottable.html#abfd0805eb1d955c0111a990246658324">08583</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_plottable.html#abfd0805eb1d955c0111a990246658324">QCPAbstractPlottable::rescaleValueAxis</a>(<span class="keywordtype">bool</span> onlyEnlarge)<span class="keyword"> const</span>
<a name="l08584"></a>08584 <span class="keyword"></span>{
<a name="l08585"></a>08585   <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8">SignDomain</a> signDomain = <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60" title="Both sign domains, including zero, i.e. all (rational) numbers.">sdBoth</a>;
<a name="l08586"></a>08586   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a8563e13407bc0616da7f7c84e02de170">scaleType</a>() == <a class="code" href="class_q_c_p_axis.html#a36d8e8658dbaa179bf2aeb973db2d6f0abf5b785ad976618816dc6f79b73216d4" title="Logarithmic scaling with correspondingly transformed plots and (major) tick marks at every base power...">QCPAxis::stLogarithmic</a>)
<a name="l08587"></a>08587     signDomain = (<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &lt; 0 ? <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63" title="The negative sign domain, i.e. numbers smaller than zero.">sdNegative</a> : <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030" title="The positive sign domain, i.e. numbers greater than zero.">sdPositive</a>);
<a name="l08588"></a>08588   
<a name="l08589"></a>08589   <span class="keywordtype">bool</span> validRange;
<a name="l08590"></a>08590   <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> newRange = <a class="code" href="class_q_c_p_abstract_plottable.html#aed35cfebe5546feea7af2638dd869d5f">getValueRange</a>(validRange, signDomain);
<a name="l08591"></a>08591   
<a name="l08592"></a>08592   <span class="keywordflow">if</span> (validRange)
<a name="l08593"></a>08593   {
<a name="l08594"></a>08594     <span class="keywordflow">if</span> (onlyEnlarge)
<a name="l08595"></a>08595     {
<a name="l08596"></a>08596       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> &lt; newRange.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>)
<a name="l08597"></a>08597         newRange.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>;
<a name="l08598"></a>08598       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &gt; newRange.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>)
<a name="l08599"></a>08599         newRange.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>;
<a name="l08600"></a>08600     }
<a name="l08601"></a>08601     <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57d6ee9e9009fe88cb19db476ec70bca">setRange</a>(newRange);
<a name="l08602"></a>08602   }
<a name="l08603"></a>08603 }
<a name="l08604"></a>08604 
<a name="l08617"></a><a class="code" href="class_q_c_p_abstract_plottable.html#a70f8cabfd808f7d5204b9f18c45c13f5">08617</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_c_p_abstract_plottable.html#a70f8cabfd808f7d5204b9f18c45c13f5">QCPAbstractPlottable::addToLegend</a>()
<a name="l08618"></a>08618 {
<a name="l08619"></a>08619   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a73da53368aa4c2db3d874cf0db50d140">legend</a>-&gt;<a class="code" href="class_q_c_p_legend.html#a2eb1d24bdf5658e64962a656303fd61a">hasItemWithPlottable</a>(<span class="keyword">this</span>))
<a name="l08620"></a>08620   {
<a name="l08621"></a>08621     <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a73da53368aa4c2db3d874cf0db50d140">legend</a>-&gt;<a class="code" href="class_q_c_p_legend.html#a3ab274de52d2951faea45a6d975e6b3f">addItem</a>(<span class="keyword">new</span> <a class="code" href="class_q_c_p_abstract_plottable.html#a104c78e91302afd6842a903e472f552f">QCPPlottableLegendItem</a>(<a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a73da53368aa4c2db3d874cf0db50d140">legend</a>, <span class="keyword">this</span>));
<a name="l08622"></a>08622     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l08623"></a>08623   } <span class="keywordflow">else</span>
<a name="l08624"></a>08624     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l08625"></a>08625 }
<a name="l08626"></a>08626 
<a name="l08637"></a><a class="code" href="class_q_c_p_abstract_plottable.html#aa1f350e510326d012b9a9c9249736c83">08637</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_c_p_abstract_plottable.html#aa1f350e510326d012b9a9c9249736c83">QCPAbstractPlottable::removeFromLegend</a>()<span class="keyword"> const</span>
<a name="l08638"></a>08638 <span class="keyword"></span>{
<a name="l08639"></a>08639   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_plottable_legend_item.html" title="A legend item representing a plottable with an icon and the plottable name.">QCPPlottableLegendItem</a> *lip = <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a73da53368aa4c2db3d874cf0db50d140">legend</a>-&gt;<a class="code" href="class_q_c_p_legend.html#a5ee80cf83f65e3b6dd386942ee3cc1ee">itemWithPlottable</a>(<span class="keyword">this</span>))
<a name="l08640"></a>08640     <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a73da53368aa4c2db3d874cf0db50d140">legend</a>-&gt;<a class="code" href="class_q_c_p_legend.html#ac91595c3eaa746fe6321d2eb952c63bb">removeItem</a>(lip);
<a name="l08641"></a>08641   <span class="keywordflow">else</span>
<a name="l08642"></a>08642     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l08643"></a>08643 }
<a name="l08644"></a>08644 
<a name="l08645"></a>08645 <span class="comment">/* inherits documentation from base class */</span>
<a name="l08646"></a><a class="code" href="class_q_c_p_abstract_plottable.html#ac01960b0827913922f5364d559c124ed">08646</a> QRect <a class="code" href="class_q_c_p_abstract_plottable.html#ac01960b0827913922f5364d559c124ed">QCPAbstractPlottable::clipRect</a>()<span class="keyword"> const</span>
<a name="l08647"></a>08647 <span class="keyword"></span>{
<a name="l08648"></a>08648   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a7fe5b84f4891838b63ed5181f5811dc5">axisRect</a>() | <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a7fe5b84f4891838b63ed5181f5811dc5">axisRect</a>();
<a name="l08649"></a>08649 }
<a name="l08650"></a>08650 
<a name="l08661"></a><a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">08661</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">QCPAbstractPlottable::coordsToPixels</a>(<span class="keywordtype">double</span> key, <span class="keywordtype">double</span> value, <span class="keywordtype">double</span> &amp;x, <span class="keywordtype">double</span> &amp;y)<span class="keyword"> const</span>
<a name="l08662"></a>08662 <span class="keyword"></span>{
<a name="l08663"></a>08663   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Horizontal)
<a name="l08664"></a>08664   {
<a name="l08665"></a>08665     x = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(key);
<a name="l08666"></a>08666     y = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(value);
<a name="l08667"></a>08667   } <span class="keywordflow">else</span>
<a name="l08668"></a>08668   {
<a name="l08669"></a>08669     y = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(key);
<a name="l08670"></a>08670     x = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(value);
<a name="l08671"></a>08671   }
<a name="l08672"></a>08672 }
<a name="l08673"></a>08673 
<a name="l08679"></a><a class="code" href="class_q_c_p_abstract_plottable.html#a9fd1c9df8391781f05b0be22fbe91e13">08679</a> <span class="keyword">const</span> QPointF <a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">QCPAbstractPlottable::coordsToPixels</a>(<span class="keywordtype">double</span> key, <span class="keywordtype">double</span> value)<span class="keyword"> const</span>
<a name="l08680"></a>08680 <span class="keyword"></span>{
<a name="l08681"></a>08681   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Horizontal)
<a name="l08682"></a>08682     <span class="keywordflow">return</span> QPointF(<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(key), <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(value));
<a name="l08683"></a>08683   <span class="keywordflow">else</span>
<a name="l08684"></a>08684     <span class="keywordflow">return</span> QPointF(<a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(value), <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(key));
<a name="l08685"></a>08685 }
<a name="l08686"></a>08686 
<a name="l08697"></a><a class="code" href="class_q_c_p_abstract_plottable.html#a10408828446e9e0681c46d65120f382e">08697</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_plottable.html#a10408828446e9e0681c46d65120f382e">QCPAbstractPlottable::pixelsToCoords</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> &amp;key, <span class="keywordtype">double</span> &amp;value)<span class="keyword"> const</span>
<a name="l08698"></a>08698 <span class="keyword"></span>{
<a name="l08699"></a>08699   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Horizontal)
<a name="l08700"></a>08700   {
<a name="l08701"></a>08701     key = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">pixelToCoord</a>(x);
<a name="l08702"></a>08702     value = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">pixelToCoord</a>(y);
<a name="l08703"></a>08703   } <span class="keywordflow">else</span>
<a name="l08704"></a>08704   {
<a name="l08705"></a>08705     key = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">pixelToCoord</a>(y);
<a name="l08706"></a>08706     value = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">pixelToCoord</a>(x);
<a name="l08707"></a>08707   }
<a name="l08708"></a>08708 }
<a name="l08709"></a>08709 
<a name="l08715"></a><a class="code" href="class_q_c_p_abstract_plottable.html#a3e2c361cfcdfd5d803ada4d333a07e15">08715</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_plottable.html#a10408828446e9e0681c46d65120f382e">QCPAbstractPlottable::pixelsToCoords</a>(<span class="keyword">const</span> QPointF &amp;pixelPos, <span class="keywordtype">double</span> &amp;key, <span class="keywordtype">double</span> &amp;value)<span class="keyword"> const</span>
<a name="l08716"></a>08716 <span class="keyword"></span>{
<a name="l08717"></a>08717   <a class="code" href="class_q_c_p_abstract_plottable.html#a10408828446e9e0681c46d65120f382e">pixelsToCoords</a>(pixelPos.x(), pixelPos.y(), key, value);
<a name="l08718"></a>08718 }
<a name="l08719"></a>08719 
<a name="l08725"></a><a class="code" href="class_q_c_p_abstract_plottable.html#a19276ed2382a3a06464417b8788b1451">08725</a> QPen <a class="code" href="class_q_c_p_abstract_plottable.html#a19276ed2382a3a06464417b8788b1451">QCPAbstractPlottable::mainPen</a>()<span class="keyword"> const</span>
<a name="l08726"></a>08726 <span class="keyword"></span>{
<a name="l08727"></a>08727   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_plottable.html#a43f68a0603e9bcd016bdfa6d9d5c41c9">mSelected</a> ? <a class="code" href="class_q_c_p_abstract_plottable.html#a10619472f5d5e10e9519a599f1cf5576">mSelectedPen</a> : <a class="code" href="class_q_c_p_abstract_plottable.html#a67bc0622fd1b9fa14e54c14922dcec66">mPen</a>;
<a name="l08728"></a>08728 }
<a name="l08729"></a>08729 
<a name="l08735"></a><a class="code" href="class_q_c_p_abstract_plottable.html#ae74c123832da180c17e22203e748d9b7">08735</a> QBrush <a class="code" href="class_q_c_p_abstract_plottable.html#ae74c123832da180c17e22203e748d9b7">QCPAbstractPlottable::mainBrush</a>()<span class="keyword"> const</span>
<a name="l08736"></a>08736 <span class="keyword"></span>{
<a name="l08737"></a>08737   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_plottable.html#a43f68a0603e9bcd016bdfa6d9d5c41c9">mSelected</a> ? <a class="code" href="class_q_c_p_abstract_plottable.html#aea3c0da30c7a8be23ad5f2d9bca36762">mSelectedBrush</a> : <a class="code" href="class_q_c_p_abstract_plottable.html#a33f00674c0161c13315ab9da0895418e">mBrush</a>;
<a name="l08738"></a>08738 }
<a name="l08739"></a>08739 
<a name="l08752"></a><a class="code" href="class_q_c_p_abstract_plottable.html#a76e9d6cc7972dc1528f526d163766aca">08752</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_plottable.html#a76e9d6cc7972dc1528f526d163766aca">QCPAbstractPlottable::applyDefaultAntialiasingHint</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)<span class="keyword"> const</span>
<a name="l08753"></a>08753 <span class="keyword"></span>{
<a name="l08754"></a>08754   <a class="code" href="class_q_c_p_layerable.html#a62bd552d1a45aa9accb24b310542279e">applyAntialiasingHint</a>(painter, <a class="code" href="class_q_c_p_layerable.html#a3ab45a4c76a3333ce42eb217a81733ec">mAntialiased</a>, <a class="code" href="namespace_q_c_p.html#ae55dbe315d41fe80f29ba88100843a0ca4145e4251b0cf2dbedabeea0a38f84f6" title="0x0020 Main lines of plottables (excluding error bars, see element aeErrorBars)">QCP::aePlottables</a>);
<a name="l08755"></a>08755 }
<a name="l08756"></a>08756 
<a name="l08767"></a><a class="code" href="class_q_c_p_abstract_plottable.html#ac08a480155895e674dbfe5a5670e0ff3">08767</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_plottable.html#ac08a480155895e674dbfe5a5670e0ff3">QCPAbstractPlottable::applyFillAntialiasingHint</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)<span class="keyword"> const</span>
<a name="l08768"></a>08768 <span class="keyword"></span>{
<a name="l08769"></a>08769   <a class="code" href="class_q_c_p_layerable.html#a62bd552d1a45aa9accb24b310542279e">applyAntialiasingHint</a>(painter, <a class="code" href="class_q_c_p_abstract_plottable.html#a152ac765bedf927fb240545d11d453ea">mAntialiasedFill</a>, <a class="code" href="namespace_q_c_p.html#ae55dbe315d41fe80f29ba88100843a0ca788810f0aa930137de6ad6cc6d83d354" title="0x0200 Borders of fills (e.g. under or between graphs)">QCP::aeFills</a>);
<a name="l08770"></a>08770 }
<a name="l08771"></a>08771 
<a name="l08782"></a><a class="code" href="class_q_c_p_abstract_plottable.html#a753272ee225a62827e90c3e1e78de4b1">08782</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_plottable.html#a753272ee225a62827e90c3e1e78de4b1">QCPAbstractPlottable::applyScattersAntialiasingHint</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)<span class="keyword"> const</span>
<a name="l08783"></a>08783 <span class="keyword"></span>{
<a name="l08784"></a>08784   <a class="code" href="class_q_c_p_layerable.html#a62bd552d1a45aa9accb24b310542279e">applyAntialiasingHint</a>(painter, <a class="code" href="class_q_c_p_abstract_plottable.html#aa115755e525a8e3a86dc683f9cab755b">mAntialiasedScatters</a>, <a class="code" href="namespace_q_c_p.html#ae55dbe315d41fe80f29ba88100843a0cae45ed8cd167bffe27d7f40da4bc17e9c" title="0x0080 Scatter symbols of plottables (excluding scatter symbols of type ssPixmap)">QCP::aeScatters</a>);
<a name="l08785"></a>08785 }
<a name="l08786"></a>08786 
<a name="l08797"></a><a class="code" href="class_q_c_p_abstract_plottable.html#af687bfe6160255960558eb71f1f81e73">08797</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_plottable.html#af687bfe6160255960558eb71f1f81e73">QCPAbstractPlottable::applyErrorBarsAntialiasingHint</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)<span class="keyword"> const</span>
<a name="l08798"></a>08798 <span class="keyword"></span>{
<a name="l08799"></a>08799   <a class="code" href="class_q_c_p_layerable.html#a62bd552d1a45aa9accb24b310542279e">applyAntialiasingHint</a>(painter, <a class="code" href="class_q_c_p_abstract_plottable.html#ad48660b2bd301576e92fb033d8f455ea">mAntialiasedErrorBars</a>, <a class="code" href="namespace_q_c_p.html#ae55dbe315d41fe80f29ba88100843a0ca9dcf3882cb321bb305f71fdc0f09f63d" title="0x0100 Error bars">QCP::aeErrorBars</a>);
<a name="l08800"></a>08800 }
<a name="l08801"></a>08801 
<a name="l08812"></a><a class="code" href="class_q_c_p_abstract_plottable.html#a5ea1cab44ca912dcdc96ed81ec5bed5d">08812</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_abstract_plottable.html#a5ea1cab44ca912dcdc96ed81ec5bed5d">QCPAbstractPlottable::distSqrToLine</a>(<span class="keyword">const</span> QPointF &amp;start, <span class="keyword">const</span> QPointF &amp;end, <span class="keyword">const</span> QPointF &amp;point)<span class="keyword"> const</span>
<a name="l08813"></a>08813 <span class="keyword"></span>{
<a name="l08814"></a>08814   QVector2D a(start);
<a name="l08815"></a>08815   QVector2D b(end);
<a name="l08816"></a>08816   QVector2D p(point);
<a name="l08817"></a>08817   QVector2D v(b-a);
<a name="l08818"></a>08818   
<a name="l08819"></a>08819   <span class="keywordtype">double</span> vLengthSqr = v.lengthSquared();
<a name="l08820"></a>08820   <span class="keywordflow">if</span> (!qFuzzyIsNull(vLengthSqr))
<a name="l08821"></a>08821   {
<a name="l08822"></a>08822     <span class="keywordtype">double</span> mu = QVector2D::dotProduct(p-a, v)/vLengthSqr;
<a name="l08823"></a>08823     <span class="keywordflow">if</span> (mu &lt; 0)
<a name="l08824"></a>08824       <span class="keywordflow">return</span> (a-p).lengthSquared();
<a name="l08825"></a>08825     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mu &gt; 1)
<a name="l08826"></a>08826       <span class="keywordflow">return</span> (b-p).lengthSquared();
<a name="l08827"></a>08827     <span class="keywordflow">else</span>
<a name="l08828"></a>08828       <span class="keywordflow">return</span> ((a + mu*v)-p).lengthSquared();
<a name="l08829"></a>08829   } <span class="keywordflow">else</span>
<a name="l08830"></a>08830     <span class="keywordflow">return</span> (a-p).lengthSquared();
<a name="l08831"></a>08831 }
<a name="l08832"></a>08832 
<a name="l08833"></a>08833 
<a name="l08834"></a>08834 <span class="comment">// ================================================================================</span>
<a name="l08835"></a>08835 <span class="comment">// =================== QCPAbstractLegendItem</span>
<a name="l08836"></a>08836 <span class="comment">// ================================================================================</span>
<a name="l08837"></a>08837 
<a name="l08863"></a>08863 <span class="comment">/* start documentation of pure virtual functions */</span>
<a name="l08864"></a>08864 
<a name="l08879"></a>08879 <span class="comment">/* end documentation of pure virtual functions */</span>
<a name="l08880"></a>08880 <span class="comment">/* start of documentation of signals */</span>
<a name="l08881"></a>08881 
<a name="l08888"></a>08888 <span class="comment">/* end of documentation of signals */</span>
<a name="l08889"></a>08889 
<a name="l08894"></a><a class="code" href="class_q_c_p_abstract_legend_item.html#afaff87610e8da0fa238ecf552872d774">08894</a> <a class="code" href="class_q_c_p_abstract_legend_item.html#afaff87610e8da0fa238ecf552872d774">QCPAbstractLegendItem::QCPAbstractLegendItem</a>(<a class="code" href="class_q_c_p_legend.html" title="Manages a legend inside a QCustomPlot.">QCPLegend</a> *parent) : 
<a name="l08895"></a>08895   QObject(parent),
<a name="l08896"></a>08896   mParentLegend(parent),
<a name="l08897"></a>08897   mAntialiased(false),
<a name="l08898"></a>08898   mFont(parent-&gt;font()),
<a name="l08899"></a>08899   mTextColor(parent-&gt;textColor()),
<a name="l08900"></a>08900   mSelectedFont(parent-&gt;selectedFont()),
<a name="l08901"></a>08901   mSelectedTextColor(parent-&gt;selectedTextColor()),
<a name="l08902"></a>08902   mSelectable(true),
<a name="l08903"></a>08903   mSelected(false)
<a name="l08904"></a>08904 {
<a name="l08905"></a>08905 }
<a name="l08906"></a>08906 
<a name="l08913"></a><a class="code" href="class_q_c_p_abstract_legend_item.html#a158dc34e221b304a3e3c577b9824a88d">08913</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_legend_item.html#a158dc34e221b304a3e3c577b9824a88d">QCPAbstractLegendItem::setAntialiased</a>(<span class="keywordtype">bool</span> enabled)
<a name="l08914"></a>08914 {
<a name="l08915"></a>08915   <a class="code" href="class_q_c_p_abstract_legend_item.html#a796a604ca3309960968aec8067bfc327">mAntialiased</a> = enabled;
<a name="l08916"></a>08916 }
<a name="l08917"></a>08917 
<a name="l08923"></a><a class="code" href="class_q_c_p_abstract_legend_item.html#a409c53455d8112f71d70c0c43eb10265">08923</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_legend_item.html#a409c53455d8112f71d70c0c43eb10265">QCPAbstractLegendItem::setFont</a>(<span class="keyword">const</span> QFont &amp;font)
<a name="l08924"></a>08924 {
<a name="l08925"></a>08925   <a class="code" href="class_q_c_p_abstract_legend_item.html#ae916a78ac0d2a60e20a17ca2f24f9754">mFont</a> = <a class="code" href="class_q_c_p_abstract_legend_item.html#ae476404706638d84fadc01021df2b19e">font</a>;
<a name="l08926"></a>08926 }
<a name="l08927"></a>08927 
<a name="l08933"></a><a class="code" href="class_q_c_p_abstract_legend_item.html#a6ebace6aaffaedcdab2d74e88acc2d1e">08933</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_legend_item.html#a6ebace6aaffaedcdab2d74e88acc2d1e">QCPAbstractLegendItem::setTextColor</a>(<span class="keyword">const</span> QColor &amp;color)
<a name="l08934"></a>08934 {
<a name="l08935"></a>08935   <a class="code" href="class_q_c_p_abstract_legend_item.html#a974b21e9930227d281344bd2242d289d">mTextColor</a> = color;
<a name="l08936"></a>08936 }
<a name="l08937"></a>08937 
<a name="l08944"></a><a class="code" href="class_q_c_p_abstract_legend_item.html#a91db5aee48617a9d3206e61376807365">08944</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_legend_item.html#a91db5aee48617a9d3206e61376807365">QCPAbstractLegendItem::setSelectedFont</a>(<span class="keyword">const</span> QFont &amp;font)
<a name="l08945"></a>08945 {
<a name="l08946"></a>08946   <a class="code" href="class_q_c_p_abstract_legend_item.html#ab971df604306b192875a7d097feb1e21">mSelectedFont</a> = <a class="code" href="class_q_c_p_abstract_legend_item.html#ae476404706638d84fadc01021df2b19e">font</a>;
<a name="l08947"></a>08947 }
<a name="l08948"></a>08948 
<a name="l08955"></a><a class="code" href="class_q_c_p_abstract_legend_item.html#a4d01d008ee1a5bfe9905b0397a421936">08955</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_legend_item.html#a4d01d008ee1a5bfe9905b0397a421936">QCPAbstractLegendItem::setSelectedTextColor</a>(<span class="keyword">const</span> QColor &amp;color)
<a name="l08956"></a>08956 {
<a name="l08957"></a>08957   <a class="code" href="class_q_c_p_abstract_legend_item.html#a4965c13854d970b24c284f0a4f005fbd">mSelectedTextColor</a> = color;
<a name="l08958"></a>08958 }
<a name="l08959"></a>08959 
<a name="l08965"></a><a class="code" href="class_q_c_p_abstract_legend_item.html#a9913ef48730551b696e7f98a2391c599">08965</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_legend_item.html#a9913ef48730551b696e7f98a2391c599">QCPAbstractLegendItem::setSelectable</a>(<span class="keywordtype">bool</span> selectable)
<a name="l08966"></a>08966 {
<a name="l08967"></a>08967   <a class="code" href="class_q_c_p_abstract_legend_item.html#aa84029f57b1b32f642fb7db63c3fc2c2">mSelectable</a> = <a class="code" href="class_q_c_p_abstract_legend_item.html#a0a0205f33f37edae50826c24cb8f1983">selectable</a>;
<a name="l08968"></a>08968 }
<a name="l08969"></a>08969 
<a name="l08979"></a><a class="code" href="class_q_c_p_abstract_legend_item.html#a6eed93b0ab99cb3eabb043fb08179c2b">08979</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_legend_item.html#a6eed93b0ab99cb3eabb043fb08179c2b">QCPAbstractLegendItem::setSelected</a>(<span class="keywordtype">bool</span> selected)
<a name="l08980"></a>08980 {
<a name="l08981"></a>08981   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_legend_item.html#ae58ebebbd0c36cc6fe897483369984d2">mSelected</a> != selected)
<a name="l08982"></a>08982   {
<a name="l08983"></a>08983     <a class="code" href="class_q_c_p_abstract_legend_item.html#ae58ebebbd0c36cc6fe897483369984d2">mSelected</a> = <a class="code" href="class_q_c_p_abstract_legend_item.html#ac776e68e3367704452131c6aa9908bb9">selected</a>;
<a name="l08984"></a>08984     emit <a class="code" href="class_q_c_p_abstract_legend_item.html#a7cb61fdfbaf69c590bacb8f9e7099d9e">selectionChanged</a>(<a class="code" href="class_q_c_p_abstract_legend_item.html#ae58ebebbd0c36cc6fe897483369984d2">mSelected</a>);
<a name="l08985"></a>08985     <a class="code" href="class_q_c_p_abstract_legend_item.html#aafcd9fc6fcb10f4a8d46037011afafe8">mParentLegend</a>-&gt;<a class="code" href="class_q_c_p_legend.html#ac214f7503cf46225f08f91003f554bdd">updateSelectionState</a>();
<a name="l08986"></a>08986   }
<a name="l08987"></a>08987 }
<a name="l08988"></a>08988 
<a name="l08995"></a><a class="code" href="class_q_c_p_abstract_legend_item.html#a71291e0a2983bddb821289cb6954831c">08995</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_legend_item.html#a71291e0a2983bddb821289cb6954831c">QCPAbstractLegendItem::applyAntialiasingHint</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)<span class="keyword"> const</span>
<a name="l08996"></a>08996 <span class="keyword"></span>{
<a name="l08997"></a>08997   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_legend_item.html#aafcd9fc6fcb10f4a8d46037011afafe8">mParentLegend</a>-&gt;<a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a8060cee59757213764382a78d3196189">notAntialiasedElements</a>().testFlag(<a class="code" href="namespace_q_c_p.html#ae55dbe315d41fe80f29ba88100843a0ca1aca7a50c1b95403958733a4acafe773" title="0x0010 Legend items">QCP::aeLegendItems</a>))
<a name="l08998"></a>08998     painter-&gt;<a class="code" href="class_q_c_p_painter.html#aaba1deb9188244d9ea65b035112b4d05">setAntialiasing</a>(<span class="keyword">false</span>);
<a name="l08999"></a>08999   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_legend_item.html#aafcd9fc6fcb10f4a8d46037011afafe8">mParentLegend</a>-&gt;<a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a81e954fbb485bb44c609e5707f0067b3">antialiasedElements</a>().testFlag(<a class="code" href="namespace_q_c_p.html#ae55dbe315d41fe80f29ba88100843a0ca1aca7a50c1b95403958733a4acafe773" title="0x0010 Legend items">QCP::aeLegendItems</a>))
<a name="l09000"></a>09000     painter-&gt;<a class="code" href="class_q_c_p_painter.html#aaba1deb9188244d9ea65b035112b4d05">setAntialiasing</a>(<span class="keyword">true</span>);
<a name="l09001"></a>09001   <span class="keywordflow">else</span>
<a name="l09002"></a>09002     painter-&gt;<a class="code" href="class_q_c_p_painter.html#aaba1deb9188244d9ea65b035112b4d05">setAntialiasing</a>(<a class="code" href="class_q_c_p_abstract_legend_item.html#a796a604ca3309960968aec8067bfc327">mAntialiased</a>);
<a name="l09003"></a>09003 }
<a name="l09004"></a>09004 
<a name="l09005"></a>09005 
<a name="l09006"></a>09006 <span class="comment">// ================================================================================</span>
<a name="l09007"></a>09007 <span class="comment">// =================== QCPPlottableLegendItem</span>
<a name="l09008"></a>09008 <span class="comment">// ================================================================================</span>
<a name="l09039"></a><a class="code" href="class_q_c_p_plottable_legend_item.html#ac1072591fe409d3dabad51b23ee4d6c5">09039</a> <span class="comment"></span><a class="code" href="class_q_c_p_plottable_legend_item.html#ac1072591fe409d3dabad51b23ee4d6c5">QCPPlottableLegendItem::QCPPlottableLegendItem</a>(<a class="code" href="class_q_c_p_legend.html" title="Manages a legend inside a QCustomPlot.">QCPLegend</a> *parent, <a class="code" href="class_q_c_p_abstract_plottable.html" title="The abstract base class for all data representing objects in a plot.">QCPAbstractPlottable</a> *plottable) :
<a name="l09040"></a>09040   <a class="code" href="class_q_c_p_abstract_legend_item.html" title="The abstract base class for all items in a QCPLegend.">QCPAbstractLegendItem</a>(parent),
<a name="l09041"></a>09041   mPlottable(plottable),
<a name="l09042"></a>09042   mTextWrap(false)
<a name="l09043"></a>09043 {
<a name="l09044"></a>09044 }
<a name="l09045"></a>09045 
<a name="l09054"></a><a class="code" href="class_q_c_p_plottable_legend_item.html#ad5155ff022427947dc5c015cbf8e28b7">09054</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_plottable_legend_item.html#ad5155ff022427947dc5c015cbf8e28b7">QCPPlottableLegendItem::setTextWrap</a>(<span class="keywordtype">bool</span> wrap)
<a name="l09055"></a>09055 {
<a name="l09056"></a>09056   <a class="code" href="class_q_c_p_plottable_legend_item.html#a074d2372cb8954d30ff8ad533462ce96">mTextWrap</a> = wrap;
<a name="l09057"></a>09057 }
<a name="l09058"></a>09058 
<a name="l09064"></a><a class="code" href="class_q_c_p_plottable_legend_item.html#ab36270e6b022a6961fa44136f35c0e4b">09064</a> QPen <a class="code" href="class_q_c_p_plottable_legend_item.html#ab36270e6b022a6961fa44136f35c0e4b">QCPPlottableLegendItem::getIconBorderPen</a>()<span class="keyword"> const</span>
<a name="l09065"></a>09065 <span class="keyword"></span>{
<a name="l09066"></a>09066   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_legend_item.html#ae58ebebbd0c36cc6fe897483369984d2">mSelected</a> ? <a class="code" href="class_q_c_p_abstract_legend_item.html#aafcd9fc6fcb10f4a8d46037011afafe8">mParentLegend</a>-&gt;<a class="code" href="class_q_c_p_legend.html#a165630cad7e41f89b54f65cdef3310e8">selectedIconBorderPen</a>() : <a class="code" href="class_q_c_p_abstract_legend_item.html#aafcd9fc6fcb10f4a8d46037011afafe8">mParentLegend</a>-&gt;<a class="code" href="class_q_c_p_legend.html#a2c4719d79630b0d0c75ef2333c59a912">iconBorderPen</a>();
<a name="l09067"></a>09067 }
<a name="l09068"></a>09068 
<a name="l09074"></a><a class="code" href="class_q_c_p_plottable_legend_item.html#ad762b07439c738660ba93e78c1d03667">09074</a> QColor <a class="code" href="class_q_c_p_plottable_legend_item.html#ad762b07439c738660ba93e78c1d03667">QCPPlottableLegendItem::getTextColor</a>()<span class="keyword"> const</span>
<a name="l09075"></a>09075 <span class="keyword"></span>{
<a name="l09076"></a>09076   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_legend_item.html#ae58ebebbd0c36cc6fe897483369984d2">mSelected</a> ? <a class="code" href="class_q_c_p_abstract_legend_item.html#a4965c13854d970b24c284f0a4f005fbd">mSelectedTextColor</a> : <a class="code" href="class_q_c_p_abstract_legend_item.html#a974b21e9930227d281344bd2242d289d">mTextColor</a>;
<a name="l09077"></a>09077 }
<a name="l09078"></a>09078 
<a name="l09084"></a><a class="code" href="class_q_c_p_plottable_legend_item.html#a8a85c8a25affb4895423d730164d61de">09084</a> QFont <a class="code" href="class_q_c_p_plottable_legend_item.html#a8a85c8a25affb4895423d730164d61de">QCPPlottableLegendItem::getFont</a>()<span class="keyword"> const</span>
<a name="l09085"></a>09085 <span class="keyword"></span>{
<a name="l09086"></a>09086   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_legend_item.html#ae58ebebbd0c36cc6fe897483369984d2">mSelected</a> ? <a class="code" href="class_q_c_p_abstract_legend_item.html#ab971df604306b192875a7d097feb1e21">mSelectedFont</a> : <a class="code" href="class_q_c_p_abstract_legend_item.html#ae916a78ac0d2a60e20a17ca2f24f9754">mFont</a>;
<a name="l09087"></a>09087 }
<a name="l09088"></a>09088 
<a name="l09099"></a><a class="code" href="class_q_c_p_plottable_legend_item.html#ad5f15d26b1c7e2532455528a4c3c578b">09099</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_plottable_legend_item.html#ad5f15d26b1c7e2532455528a4c3c578b">QCPPlottableLegendItem::draw</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter, <span class="keyword">const</span> QRect &amp;rect)<span class="keyword"> const</span>
<a name="l09100"></a>09100 <span class="keyword"></span>{
<a name="l09101"></a>09101   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_plottable_legend_item.html#ada647fb4b22971a1a424e15b4f6af0d9">mPlottable</a>) <span class="keywordflow">return</span>;
<a name="l09102"></a>09102   painter-&gt;setFont(<a class="code" href="class_q_c_p_plottable_legend_item.html#a8a85c8a25affb4895423d730164d61de">getFont</a>());
<a name="l09103"></a>09103   painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(QPen(<a class="code" href="class_q_c_p_plottable_legend_item.html#ad762b07439c738660ba93e78c1d03667">getTextColor</a>()));
<a name="l09104"></a>09104   <span class="keywordtype">int</span> iconTextPadding = <a class="code" href="class_q_c_p_abstract_legend_item.html#aafcd9fc6fcb10f4a8d46037011afafe8">mParentLegend</a>-&gt;<a class="code" href="class_q_c_p_legend.html#a9d6d07042a284c4ba5f9e3cb5c9281ef">iconTextPadding</a>();
<a name="l09105"></a>09105   QSize iconSize = <a class="code" href="class_q_c_p_abstract_legend_item.html#aafcd9fc6fcb10f4a8d46037011afafe8">mParentLegend</a>-&gt;<a class="code" href="class_q_c_p_legend.html#a27dfb770b14adc0e8811bef8129780a5">iconSize</a>();
<a name="l09106"></a>09106   QRect textRect;
<a name="l09107"></a>09107   QRect iconRect(rect.topLeft(), iconSize);
<a name="l09108"></a>09108   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_plottable_legend_item.html#a074d2372cb8954d30ff8ad533462ce96">mTextWrap</a>)
<a name="l09109"></a>09109   {
<a name="l09110"></a>09110     <span class="comment">// take width from rect since our text should wrap there (only icon must fit at least):</span>
<a name="l09111"></a>09111     textRect = painter-&gt;fontMetrics().boundingRect(0, 0, rect.width()-iconTextPadding-iconSize.width(), rect.height(), Qt::TextDontClip | Qt::TextWordWrap, <a class="code" href="class_q_c_p_plottable_legend_item.html#ada647fb4b22971a1a424e15b4f6af0d9">mPlottable</a>-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#a1affc1972938e4364a9325e4e4e4dcea">name</a>());
<a name="l09112"></a>09112     <span class="keywordflow">if</span> (textRect.height() &lt; iconSize.height()) <span class="comment">// text smaller than icon, center text vertically in icon height</span>
<a name="l09113"></a>09113     {
<a name="l09114"></a>09114       painter-&gt;drawText(rect.x()+iconSize.width()+iconTextPadding, rect.y(), rect.width()-iconTextPadding-iconSize.width(), iconSize.height(), Qt::TextDontClip | Qt::TextWordWrap, <a class="code" href="class_q_c_p_plottable_legend_item.html#ada647fb4b22971a1a424e15b4f6af0d9">mPlottable</a>-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#a1affc1972938e4364a9325e4e4e4dcea">name</a>());
<a name="l09115"></a>09115     } <span class="keywordflow">else</span> <span class="comment">// text bigger than icon, position top of text with top of icon</span>
<a name="l09116"></a>09116     {
<a name="l09117"></a>09117       painter-&gt;drawText(rect.x()+iconSize.width()+iconTextPadding, rect.y(), rect.width()-iconTextPadding-iconSize.width(), textRect.height(), Qt::TextDontClip | Qt::TextWordWrap, <a class="code" href="class_q_c_p_plottable_legend_item.html#ada647fb4b22971a1a424e15b4f6af0d9">mPlottable</a>-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#a1affc1972938e4364a9325e4e4e4dcea">name</a>());
<a name="l09118"></a>09118     }
<a name="l09119"></a>09119   } <span class="keywordflow">else</span>
<a name="l09120"></a>09120   {
<a name="l09121"></a>09121     <span class="comment">// text can&#39;t wrap (except with explicit newlines), center at current item size (icon size)</span>
<a name="l09122"></a>09122     textRect = painter-&gt;fontMetrics().boundingRect(0, 0, 0, rect.height(), Qt::TextDontClip, <a class="code" href="class_q_c_p_plottable_legend_item.html#ada647fb4b22971a1a424e15b4f6af0d9">mPlottable</a>-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#a1affc1972938e4364a9325e4e4e4dcea">name</a>());
<a name="l09123"></a>09123     <span class="keywordflow">if</span> (textRect.height() &lt; iconSize.height()) <span class="comment">// text smaller than icon, center text vertically in icon height</span>
<a name="l09124"></a>09124     {
<a name="l09125"></a>09125       painter-&gt;drawText(rect.x()+iconSize.width()+iconTextPadding, rect.y(), rect.width(), iconSize.height(), Qt::TextDontClip, <a class="code" href="class_q_c_p_plottable_legend_item.html#ada647fb4b22971a1a424e15b4f6af0d9">mPlottable</a>-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#a1affc1972938e4364a9325e4e4e4dcea">name</a>());
<a name="l09126"></a>09126     } <span class="keywordflow">else</span> <span class="comment">// text bigger than icon, position top of text with top of icon</span>
<a name="l09127"></a>09127     {
<a name="l09128"></a>09128       painter-&gt;drawText(rect.x()+iconSize.width()+iconTextPadding, rect.y(), rect.width(), textRect.height(), Qt::TextDontClip, <a class="code" href="class_q_c_p_plottable_legend_item.html#ada647fb4b22971a1a424e15b4f6af0d9">mPlottable</a>-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#a1affc1972938e4364a9325e4e4e4dcea">name</a>());
<a name="l09129"></a>09129     }
<a name="l09130"></a>09130   }
<a name="l09131"></a>09131   <span class="comment">// draw icon:</span>
<a name="l09132"></a>09132   painter-&gt;<a class="code" href="class_q_c_p_painter.html#a8fd6821ee6fecbfa04444c9062912abd">save</a>();
<a name="l09133"></a>09133   painter-&gt;setClipRect(iconRect, Qt::IntersectClip);
<a name="l09134"></a>09134   <a class="code" href="class_q_c_p_plottable_legend_item.html#ada647fb4b22971a1a424e15b4f6af0d9">mPlottable</a>-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#ab28af4bd3965813be4223d8092aed38b">drawLegendIcon</a>(painter, iconRect);
<a name="l09135"></a>09135   painter-&gt;<a class="code" href="class_q_c_p_painter.html#a64908e6298d5bbd83457dc987cc3a022">restore</a>();
<a name="l09136"></a>09136   <span class="comment">// draw icon border:</span>
<a name="l09137"></a>09137   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_plottable_legend_item.html#ab36270e6b022a6961fa44136f35c0e4b">getIconBorderPen</a>().style() != Qt::NoPen)
<a name="l09138"></a>09138   {
<a name="l09139"></a>09139     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_plottable_legend_item.html#ab36270e6b022a6961fa44136f35c0e4b">getIconBorderPen</a>());
<a name="l09140"></a>09140     painter-&gt;setBrush(Qt::NoBrush);
<a name="l09141"></a>09141     painter-&gt;drawRect(iconRect);
<a name="l09142"></a>09142   }
<a name="l09143"></a>09143 }
<a name="l09144"></a>09144 
<a name="l09156"></a><a class="code" href="class_q_c_p_plottable_legend_item.html#af79ab526cc79f4ea5d9c601d139b2166">09156</a> QSize <a class="code" href="class_q_c_p_plottable_legend_item.html#af79ab526cc79f4ea5d9c601d139b2166">QCPPlottableLegendItem::size</a>(<span class="keyword">const</span> QSize &amp;targetSize)<span class="keyword"> const</span>
<a name="l09157"></a>09157 <span class="keyword"></span>{
<a name="l09158"></a>09158   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_plottable_legend_item.html#ada647fb4b22971a1a424e15b4f6af0d9">mPlottable</a>) <span class="keywordflow">return</span> QSize();
<a name="l09159"></a>09159   QSize result(0, 0);
<a name="l09160"></a>09160   QRect textRect;
<a name="l09161"></a>09161   QFontMetrics fontMetrics(<a class="code" href="class_q_c_p_plottable_legend_item.html#a8a85c8a25affb4895423d730164d61de">getFont</a>());
<a name="l09162"></a>09162   <span class="keywordtype">int</span> iconTextPadding = <a class="code" href="class_q_c_p_abstract_legend_item.html#aafcd9fc6fcb10f4a8d46037011afafe8">mParentLegend</a>-&gt;<a class="code" href="class_q_c_p_legend.html#a9d6d07042a284c4ba5f9e3cb5c9281ef">iconTextPadding</a>();
<a name="l09163"></a>09163   QSize iconSize = <a class="code" href="class_q_c_p_abstract_legend_item.html#aafcd9fc6fcb10f4a8d46037011afafe8">mParentLegend</a>-&gt;<a class="code" href="class_q_c_p_legend.html#a27dfb770b14adc0e8811bef8129780a5">iconSize</a>();
<a name="l09164"></a>09164   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_plottable_legend_item.html#a074d2372cb8954d30ff8ad533462ce96">mTextWrap</a>)
<a name="l09165"></a>09165   {
<a name="l09166"></a>09166     <span class="comment">// take width from targetSize since our text can wrap (Only icon must fit at least):</span>
<a name="l09167"></a>09167     textRect = fontMetrics.boundingRect(0, 0, targetSize.width()-iconTextPadding-iconSize.width(), iconSize.height(), Qt::TextDontClip | Qt::TextWordWrap, <a class="code" href="class_q_c_p_plottable_legend_item.html#ada647fb4b22971a1a424e15b4f6af0d9">mPlottable</a>-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#a1affc1972938e4364a9325e4e4e4dcea">name</a>());
<a name="l09168"></a>09168   } <span class="keywordflow">else</span>
<a name="l09169"></a>09169   {
<a name="l09170"></a>09170     <span class="comment">// text can&#39;t wrap (except with explicit newlines), center at current item size (icon size)</span>
<a name="l09171"></a>09171     textRect = fontMetrics.boundingRect(0, 0, 0, iconSize.height(), Qt::TextDontClip, <a class="code" href="class_q_c_p_plottable_legend_item.html#ada647fb4b22971a1a424e15b4f6af0d9">mPlottable</a>-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#a1affc1972938e4364a9325e4e4e4dcea">name</a>());
<a name="l09172"></a>09172   }
<a name="l09173"></a>09173   result.setWidth(iconSize.width() + <a class="code" href="class_q_c_p_abstract_legend_item.html#aafcd9fc6fcb10f4a8d46037011afafe8">mParentLegend</a>-&gt;<a class="code" href="class_q_c_p_legend.html#a9d6d07042a284c4ba5f9e3cb5c9281ef">iconTextPadding</a>() + textRect.width());
<a name="l09174"></a>09174   result.setHeight(qMax(textRect.height(), iconSize.height()));
<a name="l09175"></a>09175   <span class="keywordflow">return</span> result;
<a name="l09176"></a>09176 }
<a name="l09177"></a>09177 
<a name="l09178"></a>09178 <span class="comment">// ================================================================================</span>
<a name="l09179"></a>09179 <span class="comment">// =================== QCPCurve</span>
<a name="l09180"></a>09180 <span class="comment">// ================================================================================</span>
<a name="l09215"></a><a class="code" href="class_q_c_p_curve.html#a36de58e2652b3fa47bdf9187d421d3ce">09215</a> <span class="comment"></span><a class="code" href="class_q_c_p_curve.html#a36de58e2652b3fa47bdf9187d421d3ce">QCPCurve::QCPCurve</a>(<a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *keyAxis, <a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *valueAxis) :
<a name="l09216"></a>09216   <a class="code" href="class_q_c_p_abstract_plottable.html" title="The abstract base class for all data representing objects in a plot.">QCPAbstractPlottable</a>(keyAxis, valueAxis)
<a name="l09217"></a>09217 {
<a name="l09218"></a>09218   <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a> = <span class="keyword">new</span> <a class="code" href="qcustomplot_8h.html#a444d37ec9cb2951b3a7fe443c34d1658">QCPCurveDataMap</a>;
<a name="l09219"></a>09219   <a class="code" href="class_q_c_p_abstract_plottable.html#a67bc0622fd1b9fa14e54c14922dcec66">mPen</a>.setColor(Qt::blue);
<a name="l09220"></a>09220   <a class="code" href="class_q_c_p_abstract_plottable.html#a67bc0622fd1b9fa14e54c14922dcec66">mPen</a>.setStyle(Qt::SolidLine);
<a name="l09221"></a>09221   <a class="code" href="class_q_c_p_abstract_plottable.html#a33f00674c0161c13315ab9da0895418e">mBrush</a>.setColor(Qt::blue);
<a name="l09222"></a>09222   <a class="code" href="class_q_c_p_abstract_plottable.html#a33f00674c0161c13315ab9da0895418e">mBrush</a>.setStyle(Qt::NoBrush);
<a name="l09223"></a>09223   <a class="code" href="class_q_c_p_abstract_plottable.html#a10619472f5d5e10e9519a599f1cf5576">mSelectedPen</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#a67bc0622fd1b9fa14e54c14922dcec66">mPen</a>;
<a name="l09224"></a>09224   <a class="code" href="class_q_c_p_abstract_plottable.html#a10619472f5d5e10e9519a599f1cf5576">mSelectedPen</a>.setWidthF(2.5);
<a name="l09225"></a>09225   <a class="code" href="class_q_c_p_abstract_plottable.html#a10619472f5d5e10e9519a599f1cf5576">mSelectedPen</a>.setColor(QColor(80, 80, 255)); <span class="comment">// lighter than Qt::blue of mPen</span>
<a name="l09226"></a>09226   <a class="code" href="class_q_c_p_abstract_plottable.html#aea3c0da30c7a8be23ad5f2d9bca36762">mSelectedBrush</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#a33f00674c0161c13315ab9da0895418e">mBrush</a>;
<a name="l09227"></a>09227   
<a name="l09228"></a>09228   <a class="code" href="class_q_c_p_curve.html#acbb799ad22e8b78b1abe58bae2a4c413">setScatterSize</a>(6);
<a name="l09229"></a>09229   <a class="code" href="class_q_c_p_curve.html#a478a6f67c135f354c0401ba01fc088a0">setScatterStyle</a>(<a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa3ee9f603bc4623e9b98011e8829aad1d" title="no scatter symbols are drawn (e.g. in QCPGraph, data only represented with lines)">QCP::ssNone</a>);
<a name="l09230"></a>09230   <a class="code" href="class_q_c_p_curve.html#a4a377ec863ff81a1875c3094a6177c19">setLineStyle</a>(<a class="code" href="class_q_c_p_curve.html#a2710e9f79302152cff794c6e16cc01f1ade5822ce6fbf131d3df131795c2e1003" title="Data points are connected with a straight line.">lsLine</a>);
<a name="l09231"></a>09231 }
<a name="l09232"></a>09232 
<a name="l09233"></a><a class="code" href="class_q_c_p_curve.html#a99ee5136754884a220cc0bcacfe419a3">09233</a> <a class="code" href="class_q_c_p_curve.html#a99ee5136754884a220cc0bcacfe419a3">QCPCurve::~QCPCurve</a>()
<a name="l09234"></a>09234 {
<a name="l09235"></a>09235   <span class="keyword">delete</span> <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>;
<a name="l09236"></a>09236 }
<a name="l09237"></a>09237 
<a name="l09245"></a><a class="code" href="class_q_c_p_curve.html#a631ac886708460013b30052f49cbc9da">09245</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_curve.html#a631ac886708460013b30052f49cbc9da">QCPCurve::setData</a>(<a class="code" href="qcustomplot_8h.html#a444d37ec9cb2951b3a7fe443c34d1658">QCPCurveDataMap</a> *data, <span class="keywordtype">bool</span> copy)
<a name="l09246"></a>09246 {
<a name="l09247"></a>09247   <span class="keywordflow">if</span> (copy)
<a name="l09248"></a>09248   {
<a name="l09249"></a>09249     *<a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a> = *<a class="code" href="class_q_c_p_curve.html#a2d458796254673b72dead4a226c5e4d9">data</a>;
<a name="l09250"></a>09250   } <span class="keywordflow">else</span>
<a name="l09251"></a>09251   {
<a name="l09252"></a>09252     <span class="keyword">delete</span> <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>;
<a name="l09253"></a>09253     <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a> = <a class="code" href="class_q_c_p_curve.html#a2d458796254673b72dead4a226c5e4d9">data</a>;
<a name="l09254"></a>09254   }
<a name="l09255"></a>09255 }
<a name="l09256"></a>09256 
<a name="l09263"></a><a class="code" href="class_q_c_p_curve.html#affe80e011e2ced62a88f614acd6ab8d1">09263</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_curve.html#a631ac886708460013b30052f49cbc9da">QCPCurve::setData</a>(<span class="keyword">const</span> QVector&lt;double&gt; &amp;t, <span class="keyword">const</span> QVector&lt;double&gt; &amp;key, <span class="keyword">const</span> QVector&lt;double&gt; &amp;value)
<a name="l09264"></a>09264 {
<a name="l09265"></a>09265   <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;clear();
<a name="l09266"></a>09266   <span class="keywordtype">int</span> n = t.size();
<a name="l09267"></a>09267   n = qMin(n, key.size());
<a name="l09268"></a>09268   n = qMin(n, value.size());
<a name="l09269"></a>09269   <a class="code" href="class_q_c_p_curve_data.html" title="Holds the data of one single data point for QCPCurve.">QCPCurveData</a> newData;
<a name="l09270"></a>09270   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; ++i)
<a name="l09271"></a>09271   {
<a name="l09272"></a>09272     newData.<a class="code" href="class_q_c_p_curve_data.html#aecc395525be28e9178a088793beb3ff3">t</a> = t[i];
<a name="l09273"></a>09273     newData.key = key[i];
<a name="l09274"></a>09274     newData.value = value[i];
<a name="l09275"></a>09275     <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;insertMulti(newData.t, newData);
<a name="l09276"></a>09276   }
<a name="l09277"></a>09277 }
<a name="l09278"></a>09278 
<a name="l09284"></a><a class="code" href="class_q_c_p_curve.html#a963d4c45777deef15848a8f56172d066">09284</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_curve.html#a631ac886708460013b30052f49cbc9da">QCPCurve::setData</a>(<span class="keyword">const</span> QVector&lt;double&gt; &amp;key, <span class="keyword">const</span> QVector&lt;double&gt; &amp;value)
<a name="l09285"></a>09285 {
<a name="l09286"></a>09286   <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;clear();
<a name="l09287"></a>09287   <span class="keywordtype">int</span> n = key.size();
<a name="l09288"></a>09288   n = qMin(n, value.size());
<a name="l09289"></a>09289   <a class="code" href="class_q_c_p_curve_data.html" title="Holds the data of one single data point for QCPCurve.">QCPCurveData</a> newData;
<a name="l09290"></a>09290   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; ++i)
<a name="l09291"></a>09291   {
<a name="l09292"></a>09292     newData.<a class="code" href="class_q_c_p_curve_data.html#aecc395525be28e9178a088793beb3ff3">t</a> = i; <span class="comment">// no t vector given, so we assign t the index of the key/value pair</span>
<a name="l09293"></a>09293     newData.key = key[i];
<a name="l09294"></a>09294     newData.value = value[i];
<a name="l09295"></a>09295     <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;insertMulti(newData.t, newData);
<a name="l09296"></a>09296   }
<a name="l09297"></a>09297 }
<a name="l09298"></a>09298 
<a name="l09304"></a><a class="code" href="class_q_c_p_curve.html#a478a6f67c135f354c0401ba01fc088a0">09304</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_curve.html#a478a6f67c135f354c0401ba01fc088a0">QCPCurve::setScatterStyle</a>(<a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26f">QCP::ScatterStyle</a> style)
<a name="l09305"></a>09305 {
<a name="l09306"></a>09306   <a class="code" href="class_q_c_p_curve.html#a5700a112cb679dc983648f67151d5cae">mScatterStyle</a> = style;
<a name="l09307"></a>09307 }
<a name="l09308"></a>09308 
<a name="l09316"></a><a class="code" href="class_q_c_p_curve.html#acbb799ad22e8b78b1abe58bae2a4c413">09316</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_curve.html#acbb799ad22e8b78b1abe58bae2a4c413">QCPCurve::setScatterSize</a>(<span class="keywordtype">double</span> size)
<a name="l09317"></a>09317 {
<a name="l09318"></a>09318   <a class="code" href="class_q_c_p_curve.html#a504f8e596491386d133de153c73a0777">mScatterSize</a> = size;
<a name="l09319"></a>09319 }
<a name="l09320"></a>09320 
<a name="l09327"></a><a class="code" href="class_q_c_p_curve.html#aa34367ca7fe302477929078187de26ff">09327</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_curve.html#aa34367ca7fe302477929078187de26ff">QCPCurve::setScatterPixmap</a>(<span class="keyword">const</span> QPixmap &amp;pixmap)
<a name="l09328"></a>09328 {
<a name="l09329"></a>09329   <a class="code" href="class_q_c_p_curve.html#a04103a65b13b2218265e74c567a7061e">mScatterPixmap</a> = pixmap;
<a name="l09330"></a>09330 }
<a name="l09331"></a>09331 
<a name="l09339"></a><a class="code" href="class_q_c_p_curve.html#a4a377ec863ff81a1875c3094a6177c19">09339</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_curve.html#a4a377ec863ff81a1875c3094a6177c19">QCPCurve::setLineStyle</a>(<a class="code" href="class_q_c_p_curve.html#a2710e9f79302152cff794c6e16cc01f1">QCPCurve::LineStyle</a> style)
<a name="l09340"></a>09340 {
<a name="l09341"></a>09341   <a class="code" href="class_q_c_p_curve.html#ae1f35ae2b15aee8e15bcdfec5be95156">mLineStyle</a> = style;
<a name="l09342"></a>09342 }
<a name="l09343"></a>09343 
<a name="l09348"></a><a class="code" href="class_q_c_p_curve.html#a4e24023c3b9ac75440c7a260172c99af">09348</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_curve.html#a4e24023c3b9ac75440c7a260172c99af">QCPCurve::addData</a>(<span class="keyword">const</span> <a class="code" href="qcustomplot_8h.html#a444d37ec9cb2951b3a7fe443c34d1658">QCPCurveDataMap</a> &amp;dataMap)
<a name="l09349"></a>09349 {
<a name="l09350"></a>09350   <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;unite(dataMap);
<a name="l09351"></a>09351 }
<a name="l09352"></a>09352 
<a name="l09357"></a><a class="code" href="class_q_c_p_curve.html#ad304326aba096911f92452d8bfe0470e">09357</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_curve.html#a4e24023c3b9ac75440c7a260172c99af">QCPCurve::addData</a>(<span class="keyword">const</span> <a class="code" href="class_q_c_p_curve_data.html" title="Holds the data of one single data point for QCPCurve.">QCPCurveData</a> &amp;data)
<a name="l09358"></a>09358 {
<a name="l09359"></a>09359   <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;insertMulti(data.<a class="code" href="class_q_c_p_curve_data.html#aecc395525be28e9178a088793beb3ff3">t</a>, data);
<a name="l09360"></a>09360 }
<a name="l09361"></a>09361 
<a name="l09366"></a><a class="code" href="class_q_c_p_curve.html#a13398b236f6926014e404eeb5b9f415c">09366</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_curve.html#a4e24023c3b9ac75440c7a260172c99af">QCPCurve::addData</a>(<span class="keywordtype">double</span> t, <span class="keywordtype">double</span> key, <span class="keywordtype">double</span> value)
<a name="l09367"></a>09367 {
<a name="l09368"></a>09368   <a class="code" href="class_q_c_p_curve_data.html" title="Holds the data of one single data point for QCPCurve.">QCPCurveData</a> newData;
<a name="l09369"></a>09369   newData.<a class="code" href="class_q_c_p_curve_data.html#aecc395525be28e9178a088793beb3ff3">t</a> = t;
<a name="l09370"></a>09370   newData.<a class="code" href="class_q_c_p_curve_data.html#a8a4ec5f2b9a396149fd842e309701bd4">key</a> = key;
<a name="l09371"></a>09371   newData.<a class="code" href="class_q_c_p_curve_data.html#a72b39b8e1dbf7b45382ebd48419b6828">value</a> = value;
<a name="l09372"></a>09372   <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;insertMulti(newData.<a class="code" href="class_q_c_p_curve_data.html#aecc395525be28e9178a088793beb3ff3">t</a>, newData);
<a name="l09373"></a>09373 }
<a name="l09374"></a>09374 
<a name="l09383"></a><a class="code" href="class_q_c_p_curve.html#ada4762e793cd5707b33f35b8a4b0f8fb">09383</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_curve.html#a4e24023c3b9ac75440c7a260172c99af">QCPCurve::addData</a>(<span class="keywordtype">double</span> key, <span class="keywordtype">double</span> value)
<a name="l09384"></a>09384 {
<a name="l09385"></a>09385   <a class="code" href="class_q_c_p_curve_data.html" title="Holds the data of one single data point for QCPCurve.">QCPCurveData</a> newData;
<a name="l09386"></a>09386   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;isEmpty())
<a name="l09387"></a>09387     newData.<a class="code" href="class_q_c_p_curve_data.html#aecc395525be28e9178a088793beb3ff3">t</a> = (<a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;constEnd()-1).key()+1;
<a name="l09388"></a>09388   <span class="keywordflow">else</span>
<a name="l09389"></a>09389     newData.<a class="code" href="class_q_c_p_curve_data.html#aecc395525be28e9178a088793beb3ff3">t</a> = 0;
<a name="l09390"></a>09390   newData.<a class="code" href="class_q_c_p_curve_data.html#a8a4ec5f2b9a396149fd842e309701bd4">key</a> = key;
<a name="l09391"></a>09391   newData.<a class="code" href="class_q_c_p_curve_data.html#a72b39b8e1dbf7b45382ebd48419b6828">value</a> = value;
<a name="l09392"></a>09392   <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;insertMulti(newData.<a class="code" href="class_q_c_p_curve_data.html#aecc395525be28e9178a088793beb3ff3">t</a>, newData);
<a name="l09393"></a>09393 }
<a name="l09394"></a>09394 
<a name="l09399"></a><a class="code" href="class_q_c_p_curve.html#a27c8b3dddd4067d626397ee199626722">09399</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_curve.html#a4e24023c3b9ac75440c7a260172c99af">QCPCurve::addData</a>(<span class="keyword">const</span> QVector&lt;double&gt; &amp;ts, <span class="keyword">const</span> QVector&lt;double&gt; &amp;keys, <span class="keyword">const</span> QVector&lt;double&gt; &amp;values)
<a name="l09400"></a>09400 {
<a name="l09401"></a>09401   <span class="keywordtype">int</span> n = ts.size();
<a name="l09402"></a>09402   n = qMin(n, keys.size());
<a name="l09403"></a>09403   n = qMin(n, values.size());
<a name="l09404"></a>09404   <a class="code" href="class_q_c_p_curve_data.html" title="Holds the data of one single data point for QCPCurve.">QCPCurveData</a> newData;
<a name="l09405"></a>09405   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; ++i)
<a name="l09406"></a>09406   {
<a name="l09407"></a>09407     newData.<a class="code" href="class_q_c_p_curve_data.html#aecc395525be28e9178a088793beb3ff3">t</a> = ts[i];
<a name="l09408"></a>09408     newData.key = keys[i];
<a name="l09409"></a>09409     newData.value = values[i];
<a name="l09410"></a>09410     <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;insertMulti(newData.t, newData);
<a name="l09411"></a>09411   }
<a name="l09412"></a>09412 }
<a name="l09413"></a>09413 
<a name="l09418"></a><a class="code" href="class_q_c_p_curve.html#af6f4284fbc2f34e676f24dce03c34fe5">09418</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_curve.html#af6f4284fbc2f34e676f24dce03c34fe5">QCPCurve::removeDataBefore</a>(<span class="keywordtype">double</span> t)
<a name="l09419"></a>09419 {
<a name="l09420"></a>09420   QCPCurveDataMap::iterator it = <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;begin();
<a name="l09421"></a>09421   <span class="keywordflow">while</span> (it != <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;end() &amp;&amp; it.key() &lt; t)
<a name="l09422"></a>09422     it = <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;erase(it);
<a name="l09423"></a>09423 }
<a name="l09424"></a>09424 
<a name="l09429"></a><a class="code" href="class_q_c_p_curve.html#a0365cb947c4e6d405ee22e00191d5f52">09429</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_curve.html#a0365cb947c4e6d405ee22e00191d5f52">QCPCurve::removeDataAfter</a>(<span class="keywordtype">double</span> t)
<a name="l09430"></a>09430 {
<a name="l09431"></a>09431   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;isEmpty()) <span class="keywordflow">return</span>;
<a name="l09432"></a>09432   QCPCurveDataMap::iterator it = <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;upperBound(t);
<a name="l09433"></a>09433   <span class="keywordflow">while</span> (it != <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;end())
<a name="l09434"></a>09434     it = <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;erase(it);
<a name="l09435"></a>09435 }
<a name="l09436"></a>09436 
<a name="l09444"></a><a class="code" href="class_q_c_p_curve.html#ad45bb5479be799163028ef2b776f7221">09444</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_curve.html#ad45bb5479be799163028ef2b776f7221">QCPCurve::removeData</a>(<span class="keywordtype">double</span> fromt, <span class="keywordtype">double</span> tot)
<a name="l09445"></a>09445 {
<a name="l09446"></a>09446   <span class="keywordflow">if</span> (fromt &gt;= tot || <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;isEmpty()) <span class="keywordflow">return</span>;
<a name="l09447"></a>09447   QCPCurveDataMap::iterator it = <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;upperBound(fromt);
<a name="l09448"></a>09448   QCPCurveDataMap::iterator itEnd = <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;upperBound(tot);
<a name="l09449"></a>09449   <span class="keywordflow">while</span> (it != itEnd)
<a name="l09450"></a>09450     it = <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;erase(it);
<a name="l09451"></a>09451 }
<a name="l09452"></a>09452 
<a name="l09462"></a><a class="code" href="class_q_c_p_curve.html#a30c91acfa591ec534c49fed4c0fca39a">09462</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_curve.html#ad45bb5479be799163028ef2b776f7221">QCPCurve::removeData</a>(<span class="keywordtype">double</span> t)
<a name="l09463"></a>09463 {
<a name="l09464"></a>09464   <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;remove(t);
<a name="l09465"></a>09465 }
<a name="l09466"></a>09466 
<a name="l09471"></a><a class="code" href="class_q_c_p_curve.html#ae0462c61dbfbac07db0736ec64110241">09471</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_curve.html#ae0462c61dbfbac07db0736ec64110241">QCPCurve::clearData</a>()
<a name="l09472"></a>09472 {
<a name="l09473"></a>09473   <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;clear();
<a name="l09474"></a>09474 }
<a name="l09475"></a>09475 
<a name="l09476"></a>09476 <span class="comment">/* inherits documentation from base class */</span>
<a name="l09477"></a><a class="code" href="class_q_c_p_curve.html#a01f92730eb23ad5b222be95f2b7aa500">09477</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_curve.html#a01f92730eb23ad5b222be95f2b7aa500">QCPCurve::selectTest</a>(<span class="keyword">const</span> QPointF &amp;pos)<span class="keyword"> const</span>
<a name="l09478"></a>09478 <span class="keyword"></span>{
<a name="l09479"></a>09479   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;isEmpty() || !<a class="code" href="class_q_c_p_layerable.html#a62e3aed8427d6ce3ccf716f285106cb3">mVisible</a>)
<a name="l09480"></a>09480     <span class="keywordflow">return</span> -1;
<a name="l09481"></a>09481   
<a name="l09482"></a>09482   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_curve.html#acd7a68c6f268ce1ab845eaf69fc2c6a6">pointDistance</a>(pos);
<a name="l09483"></a>09483 }
<a name="l09484"></a>09484 
<a name="l09485"></a>09485 <span class="comment">/* inherits documentation from base class */</span>
<a name="l09486"></a><a class="code" href="class_q_c_p_curve.html#a2361302d2fc6ec669849bd3bca00c4b2">09486</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_curve.html#a2361302d2fc6ec669849bd3bca00c4b2">QCPCurve::draw</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)
<a name="l09487"></a>09487 {
<a name="l09488"></a>09488   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;isEmpty()) <span class="keywordflow">return</span>;
<a name="l09489"></a>09489   
<a name="l09490"></a>09490   <span class="comment">// allocate line vector:</span>
<a name="l09491"></a>09491   QVector&lt;QPointF&gt; *lineData = <span class="keyword">new</span> QVector&lt;QPointF&gt;;
<a name="l09492"></a>09492   <span class="comment">// fill with curve data:</span>
<a name="l09493"></a>09493   <a class="code" href="class_q_c_p_curve.html#afa895f8ba9ae34fea6ecea295fd7b1e5">getCurveData</a>(lineData);
<a name="l09494"></a>09494   <span class="comment">// draw curve fill:</span>
<a name="l09495"></a>09495   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#ae74c123832da180c17e22203e748d9b7">mainBrush</a>().style() != Qt::NoBrush &amp;&amp; <a class="code" href="class_q_c_p_abstract_plottable.html#ae74c123832da180c17e22203e748d9b7">mainBrush</a>().color().alpha() != 0)
<a name="l09496"></a>09496   {
<a name="l09497"></a>09497     <a class="code" href="class_q_c_p_abstract_plottable.html#ac08a480155895e674dbfe5a5670e0ff3">applyFillAntialiasingHint</a>(painter);
<a name="l09498"></a>09498     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(Qt::NoPen);
<a name="l09499"></a>09499     painter-&gt;setBrush(<a class="code" href="class_q_c_p_abstract_plottable.html#ae74c123832da180c17e22203e748d9b7">mainBrush</a>());
<a name="l09500"></a>09500     painter-&gt;drawPolygon(QPolygonF(*lineData));
<a name="l09501"></a>09501   }
<a name="l09502"></a>09502   <span class="comment">// draw curve line:</span>
<a name="l09503"></a>09503   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_curve.html#ae1f35ae2b15aee8e15bcdfec5be95156">mLineStyle</a> != <a class="code" href="class_q_c_p_curve.html#a2710e9f79302152cff794c6e16cc01f1aec1601a191cdf0b4e761c4c66092cc48" title="No line is drawn between data points (e.g. only scatters)">lsNone</a> &amp;&amp; <a class="code" href="class_q_c_p_abstract_plottable.html#a19276ed2382a3a06464417b8788b1451">mainPen</a>().style() != Qt::NoPen &amp;&amp; <a class="code" href="class_q_c_p_abstract_plottable.html#a19276ed2382a3a06464417b8788b1451">mainPen</a>().color().alpha() != 0)
<a name="l09504"></a>09504   {
<a name="l09505"></a>09505     <a class="code" href="class_q_c_p_abstract_plottable.html#a76e9d6cc7972dc1528f526d163766aca">applyDefaultAntialiasingHint</a>(painter);
<a name="l09506"></a>09506     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_abstract_plottable.html#a19276ed2382a3a06464417b8788b1451">mainPen</a>());
<a name="l09507"></a>09507     painter-&gt;setBrush(Qt::NoBrush);
<a name="l09508"></a>09508     <span class="comment">// if drawing solid line and not in PDF, use much faster line drawing instead of polyline:</span>
<a name="l09509"></a>09509     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a130b55e205697a5288081e9fc11e443e">plottingHints</a>().testFlag(<a class="code" href="namespace_q_c_p.html#a5400e5fcb9528d92002ddb938c1f4ef4aa5fd227bc878c56ad2a87ea32c74ee4d">QCP::phFastPolylines</a>) &amp;&amp;
<a name="l09510"></a>09510         painter-&gt;pen().style() == Qt::SolidLine &amp;&amp;
<a name="l09511"></a>09511         !painter-&gt;<a class="code" href="class_q_c_p_painter.html#ac272648ed66f0602f2250de45cbbeb33">pdfExportMode</a>())
<a name="l09512"></a>09512     {
<a name="l09513"></a>09513       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=1; i&lt;lineData-&gt;size(); ++i)
<a name="l09514"></a>09514         painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(lineData-&gt;at(i-1), lineData-&gt;at(i));
<a name="l09515"></a>09515     } <span class="keywordflow">else</span>
<a name="l09516"></a>09516     {  
<a name="l09517"></a>09517       painter-&gt;drawPolyline(QPolygonF(*lineData));
<a name="l09518"></a>09518     }
<a name="l09519"></a>09519   }
<a name="l09520"></a>09520   <span class="comment">// draw scatters:</span>
<a name="l09521"></a>09521   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_curve.html#a5700a112cb679dc983648f67151d5cae">mScatterStyle</a> != <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa3ee9f603bc4623e9b98011e8829aad1d" title="no scatter symbols are drawn (e.g. in QCPGraph, data only represented with lines)">QCP::ssNone</a>)
<a name="l09522"></a>09522     <a class="code" href="class_q_c_p_curve.html#a45593f30b81beec4b6130b6b53306087">drawScatterPlot</a>(painter, lineData);
<a name="l09523"></a>09523   <span class="comment">// free allocated line data:</span>
<a name="l09524"></a>09524   <span class="keyword">delete</span> lineData;
<a name="l09525"></a>09525 }
<a name="l09526"></a>09526 
<a name="l09527"></a>09527 <span class="comment">/* inherits documentation from base class */</span>
<a name="l09528"></a><a class="code" href="class_q_c_p_curve.html#a8e9b46de865a9f07cc9d62c904ab8198">09528</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_curve.html#a8e9b46de865a9f07cc9d62c904ab8198">QCPCurve::drawLegendIcon</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter, <span class="keyword">const</span> QRect &amp;rect)<span class="keyword"> const</span>
<a name="l09529"></a>09529 <span class="keyword"></span>{
<a name="l09530"></a>09530   <span class="comment">// draw fill:</span>
<a name="l09531"></a>09531   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a33f00674c0161c13315ab9da0895418e">mBrush</a>.style() != Qt::NoBrush)
<a name="l09532"></a>09532   {
<a name="l09533"></a>09533     <a class="code" href="class_q_c_p_abstract_plottable.html#ac08a480155895e674dbfe5a5670e0ff3">applyFillAntialiasingHint</a>(painter);
<a name="l09534"></a>09534     painter-&gt;fillRect(QRectF(rect.left(), rect.top()+rect.height()/2.0, rect.width(), rect.height()/3.0), <a class="code" href="class_q_c_p_abstract_plottable.html#a33f00674c0161c13315ab9da0895418e">mBrush</a>);
<a name="l09535"></a>09535   }
<a name="l09536"></a>09536   <span class="comment">// draw line vertically centered:</span>
<a name="l09537"></a>09537   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_curve.html#ae1f35ae2b15aee8e15bcdfec5be95156">mLineStyle</a> != <a class="code" href="class_q_c_p_curve.html#a2710e9f79302152cff794c6e16cc01f1aec1601a191cdf0b4e761c4c66092cc48" title="No line is drawn between data points (e.g. only scatters)">lsNone</a>)
<a name="l09538"></a>09538   {
<a name="l09539"></a>09539     <a class="code" href="class_q_c_p_abstract_plottable.html#a76e9d6cc7972dc1528f526d163766aca">applyDefaultAntialiasingHint</a>(painter);
<a name="l09540"></a>09540     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_abstract_plottable.html#a67bc0622fd1b9fa14e54c14922dcec66">mPen</a>);
<a name="l09541"></a>09541     painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(rect.left(), rect.top()+rect.height()/2.0, rect.right()+5, rect.top()+rect.height()/2.0)); <span class="comment">// +5 on x2 else last segment is missing from dashed/dotted pens</span>
<a name="l09542"></a>09542   }
<a name="l09543"></a>09543   <span class="comment">// draw scatter symbol:</span>
<a name="l09544"></a>09544   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_curve.html#a5700a112cb679dc983648f67151d5cae">mScatterStyle</a> != <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa3ee9f603bc4623e9b98011e8829aad1d" title="no scatter symbols are drawn (e.g. in QCPGraph, data only represented with lines)">QCP::ssNone</a>)
<a name="l09545"></a>09545   {
<a name="l09546"></a>09546     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_curve.html#a5700a112cb679dc983648f67151d5cae">mScatterStyle</a> == <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa3046d385199d0903dd492322ba133e75" title="a custom pixmap specified by setScatterPixmap, centered on the data point coordinates">QCP::ssPixmap</a> &amp;&amp; (<a class="code" href="class_q_c_p_curve.html#a04103a65b13b2218265e74c567a7061e">mScatterPixmap</a>.size().width() &gt; rect.width() || <a class="code" href="class_q_c_p_curve.html#a04103a65b13b2218265e74c567a7061e">mScatterPixmap</a>.size().height() &gt; rect.height()))
<a name="l09547"></a>09547     {
<a name="l09548"></a>09548       <span class="comment">// handle pixmap scatters that are larger than legend icon rect separately.</span>
<a name="l09549"></a>09549       <span class="comment">// We resize them and draw them manually, instead of calling drawScatter:</span>
<a name="l09550"></a>09550       QSize newSize = <a class="code" href="class_q_c_p_curve.html#a04103a65b13b2218265e74c567a7061e">mScatterPixmap</a>.size();
<a name="l09551"></a>09551       newSize.scale(rect.size(), Qt::KeepAspectRatio);
<a name="l09552"></a>09552       QRect targetRect;
<a name="l09553"></a>09553       targetRect.setSize(newSize);
<a name="l09554"></a>09554       targetRect.moveCenter(rect.center());
<a name="l09555"></a>09555       <span class="keywordtype">bool</span> smoothBackup = painter-&gt;testRenderHint(QPainter::SmoothPixmapTransform);
<a name="l09556"></a>09556       painter-&gt;setRenderHint(QPainter::SmoothPixmapTransform, <span class="keyword">true</span>);
<a name="l09557"></a>09557       painter-&gt;drawPixmap(targetRect, <a class="code" href="class_q_c_p_curve.html#a04103a65b13b2218265e74c567a7061e">mScatterPixmap</a>);
<a name="l09558"></a>09558       painter-&gt;setRenderHint(QPainter::SmoothPixmapTransform, smoothBackup);
<a name="l09559"></a>09559     } <span class="keywordflow">else</span>
<a name="l09560"></a>09560     {
<a name="l09561"></a>09561       <a class="code" href="class_q_c_p_abstract_plottable.html#a753272ee225a62827e90c3e1e78de4b1">applyScattersAntialiasingHint</a>(painter);
<a name="l09562"></a>09562       painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_abstract_plottable.html#a67bc0622fd1b9fa14e54c14922dcec66">mPen</a>);
<a name="l09563"></a>09563       painter-&gt;<a class="code" href="class_q_c_p_painter.html#a3aa145eb9865752d583c40ef995c5049">drawScatter</a>(QRectF(rect).center().x(), QRectF(rect).center().y(), <a class="code" href="class_q_c_p_curve.html#a504f8e596491386d133de153c73a0777">mScatterSize</a>, <a class="code" href="class_q_c_p_curve.html#a5700a112cb679dc983648f67151d5cae">mScatterStyle</a>);
<a name="l09564"></a>09564     }
<a name="l09565"></a>09565   }
<a name="l09566"></a>09566 }
<a name="l09567"></a>09567 
<a name="l09573"></a><a class="code" href="class_q_c_p_curve.html#a45593f30b81beec4b6130b6b53306087">09573</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_curve.html#a45593f30b81beec4b6130b6b53306087">QCPCurve::drawScatterPlot</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter, <span class="keyword">const</span> QVector&lt;QPointF&gt; *pointData)<span class="keyword"> const</span>
<a name="l09574"></a>09574 <span class="keyword"></span>{
<a name="l09575"></a>09575   <span class="comment">// draw scatter point symbols:</span>
<a name="l09576"></a>09576   <a class="code" href="class_q_c_p_abstract_plottable.html#a753272ee225a62827e90c3e1e78de4b1">applyScattersAntialiasingHint</a>(painter);
<a name="l09577"></a>09577   painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_abstract_plottable.html#a19276ed2382a3a06464417b8788b1451">mainPen</a>());
<a name="l09578"></a>09578   painter-&gt;setBrush(<a class="code" href="class_q_c_p_abstract_plottable.html#ae74c123832da180c17e22203e748d9b7">mainBrush</a>());
<a name="l09579"></a>09579   painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0f636de68b40d2e169ab15a8ca067107">setScatterPixmap</a>(<a class="code" href="class_q_c_p_curve.html#a04103a65b13b2218265e74c567a7061e">mScatterPixmap</a>);
<a name="l09580"></a>09580   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;pointData-&gt;size(); ++i)
<a name="l09581"></a>09581     painter-&gt;<a class="code" href="class_q_c_p_painter.html#a3aa145eb9865752d583c40ef995c5049">drawScatter</a>(pointData-&gt;at(i).x(), pointData-&gt;at(i).y(), <a class="code" href="class_q_c_p_curve.html#a504f8e596491386d133de153c73a0777">mScatterSize</a>, <a class="code" href="class_q_c_p_curve.html#a5700a112cb679dc983648f67151d5cae">mScatterStyle</a>);
<a name="l09582"></a>09582 }
<a name="l09583"></a>09583 
<a name="l09590"></a><a class="code" href="class_q_c_p_curve.html#afa895f8ba9ae34fea6ecea295fd7b1e5">09590</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_curve.html#afa895f8ba9ae34fea6ecea295fd7b1e5">QCPCurve::getCurveData</a>(QVector&lt;QPointF&gt; *lineData)<span class="keyword"> const</span>
<a name="l09591"></a>09591 <span class="keyword"></span>{
<a name="l09592"></a>09592   <span class="comment">/* Extended sides of axis rect R divide space into 9 regions:</span>
<a name="l09593"></a>09593 <span class="comment">     1__|_4_|__7  </span>
<a name="l09594"></a>09594 <span class="comment">     2__|_R_|__8</span>
<a name="l09595"></a>09595 <span class="comment">     3  | 6 |  9 </span>
<a name="l09596"></a>09596 <span class="comment">     General idea: If the two points of a line segment are in the same region (that is not R), the line segment corner is removed.</span>
<a name="l09597"></a>09597 <span class="comment">     Curves outside R become straight lines closely outside of R which greatly reduces drawing time, yet keeps the look of lines and</span>
<a name="l09598"></a>09598 <span class="comment">     fills inside R consistent.</span>
<a name="l09599"></a>09599 <span class="comment">     The region R has index 5.</span>
<a name="l09600"></a>09600 <span class="comment">  */</span>
<a name="l09601"></a>09601   lineData-&gt;reserve(<a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;size());
<a name="l09602"></a>09602   QCPCurveDataMap::const_iterator it;
<a name="l09603"></a>09603   <span class="keywordtype">int</span> lastRegion = 5;
<a name="l09604"></a>09604   <span class="keywordtype">int</span> currentRegion = 5;
<a name="l09605"></a>09605   <span class="keywordtype">double</span> RLeft = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>;
<a name="l09606"></a>09606   <span class="keywordtype">double</span> RRight = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>;
<a name="l09607"></a>09607   <span class="keywordtype">double</span> RBottom = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a>;
<a name="l09608"></a>09608   <span class="keywordtype">double</span> RTop = <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>;
<a name="l09609"></a>09609   <span class="keywordtype">double</span> x, y; <span class="comment">// current key/value</span>
<a name="l09610"></a>09610   <span class="keywordtype">bool</span> addedLastAlready = <span class="keyword">true</span>;
<a name="l09611"></a>09611   <span class="keywordtype">bool</span> firstPoint = <span class="keyword">true</span>; <span class="comment">// first point must always be drawn, to make sure fill works correctly</span>
<a name="l09612"></a>09612   <span class="keywordflow">for</span> (it = <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;constBegin(); it != <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;constEnd(); ++it)
<a name="l09613"></a>09613   {
<a name="l09614"></a>09614     x = it.value().key;
<a name="l09615"></a>09615     y = it.value().value;
<a name="l09616"></a>09616     <span class="comment">// determine current region:</span>
<a name="l09617"></a>09617     <span class="keywordflow">if</span> (x &lt; RLeft) <span class="comment">// region 123</span>
<a name="l09618"></a>09618     {
<a name="l09619"></a>09619       <span class="keywordflow">if</span> (y &gt; RTop)
<a name="l09620"></a>09620         currentRegion = 1;
<a name="l09621"></a>09621       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (y &lt; RBottom)
<a name="l09622"></a>09622         currentRegion = 3;
<a name="l09623"></a>09623       <span class="keywordflow">else</span>
<a name="l09624"></a>09624         currentRegion = 2;
<a name="l09625"></a>09625     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x &gt; RRight) <span class="comment">// region 789</span>
<a name="l09626"></a>09626     {
<a name="l09627"></a>09627       <span class="keywordflow">if</span> (y &gt; RTop)
<a name="l09628"></a>09628         currentRegion = 7;
<a name="l09629"></a>09629       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (y &lt; RBottom)
<a name="l09630"></a>09630         currentRegion = 9;
<a name="l09631"></a>09631       <span class="keywordflow">else</span>
<a name="l09632"></a>09632         currentRegion = 8;
<a name="l09633"></a>09633     } <span class="keywordflow">else</span> <span class="comment">// region 456</span>
<a name="l09634"></a>09634     {
<a name="l09635"></a>09635       <span class="keywordflow">if</span> (y &gt; RTop)
<a name="l09636"></a>09636         currentRegion = 4;
<a name="l09637"></a>09637       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (y &lt; RBottom)
<a name="l09638"></a>09638         currentRegion = 6;
<a name="l09639"></a>09639       <span class="keywordflow">else</span>
<a name="l09640"></a>09640         currentRegion = 5;
<a name="l09641"></a>09641     }
<a name="l09642"></a>09642     
<a name="l09643"></a>09643     <span class="comment">/*</span>
<a name="l09644"></a>09644 <span class="comment">      Watch out, the next part is very tricky. It modifies the curve such that it seems like the</span>
<a name="l09645"></a>09645 <span class="comment">      whole thing is still drawn, but actually the points outside the axisRect are simplified</span>
<a name="l09646"></a>09646 <span class="comment">      (&quot;optimized&quot;) greatly. There are some subtle special cases when line segments are large and</span>
<a name="l09647"></a>09647 <span class="comment">      thereby each subsequent point may be in a different region or even skip some.</span>
<a name="l09648"></a>09648 <span class="comment">    */</span>
<a name="l09649"></a>09649     <span class="comment">// determine whether to keep current point:</span>
<a name="l09650"></a>09650     <span class="keywordflow">if</span> (currentRegion == 5 || (firstPoint &amp;&amp; <a class="code" href="class_q_c_p_abstract_plottable.html#a33f00674c0161c13315ab9da0895418e">mBrush</a>.style() != Qt::NoBrush)) <span class="comment">// current is in R, add current and last if it wasn&#39;t added already</span>
<a name="l09651"></a>09651     {
<a name="l09652"></a>09652       <span class="keywordflow">if</span> (!addedLastAlready) <span class="comment">// in case curve just entered R, make sure the last point outside R is also drawn correctly</span>
<a name="l09653"></a>09653         lineData-&gt;append(<a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>((it-1).value().key, (it-1).value().value)); <span class="comment">// add last point to vector</span>
<a name="l09654"></a>09654       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lastRegion != 5) <span class="comment">// added last already. If that&#39;s the case, we probably added it at optimized position. So go back and make sure it&#39;s at original position (else the angle changes under which this segment enters R)</span>
<a name="l09655"></a>09655       {
<a name="l09656"></a>09656         <span class="keywordflow">if</span> (!firstPoint) <span class="comment">// because on firstPoint, currentRegion is 5 and addedLastAlready is true, although there is no last point</span>
<a name="l09657"></a>09657           lineData-&gt;replace(lineData-&gt;size()-1, <a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>((it-1).value().key, (it-1).value().value));
<a name="l09658"></a>09658       }
<a name="l09659"></a>09659       lineData-&gt;append(<a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(it.value().key, it.value().value)); <span class="comment">// add current point to vector</span>
<a name="l09660"></a>09660       addedLastAlready = <span class="keyword">true</span>; <span class="comment">// so in next iteration, we don&#39;t add this point twice</span>
<a name="l09661"></a>09661     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (currentRegion != lastRegion) <span class="comment">// changed region, add current and last if not added already</span>
<a name="l09662"></a>09662     {
<a name="l09663"></a>09663       <span class="comment">// using outsideCoordsToPixels instead of coorsToPixels for optimized point placement (places points just outside axisRect instead of potentially far away)</span>
<a name="l09664"></a>09664       
<a name="l09665"></a>09665       <span class="comment">// if we&#39;re coming from R or we skip diagonally over the corner regions (so line might still be visible in R), we can&#39;t place points optimized</span>
<a name="l09666"></a>09666       <span class="keywordflow">if</span> (lastRegion == 5 || <span class="comment">// coming from R</span>
<a name="l09667"></a>09667           ((lastRegion==2 &amp;&amp; currentRegion==4) || (lastRegion==4 &amp;&amp; currentRegion==2)) || <span class="comment">// skip top left diagonal</span>
<a name="l09668"></a>09668           ((lastRegion==4 &amp;&amp; currentRegion==8) || (lastRegion==8 &amp;&amp; currentRegion==4)) || <span class="comment">// skip top right diagonal</span>
<a name="l09669"></a>09669           ((lastRegion==8 &amp;&amp; currentRegion==6) || (lastRegion==6 &amp;&amp; currentRegion==8)) || <span class="comment">// skip bottom right diagonal</span>
<a name="l09670"></a>09670           ((lastRegion==6 &amp;&amp; currentRegion==2) || (lastRegion==2 &amp;&amp; currentRegion==6))    <span class="comment">// skip bottom left diagonal</span>
<a name="l09671"></a>09671           )
<a name="l09672"></a>09672       {
<a name="l09673"></a>09673         <span class="comment">// always add last point if not added already, original:</span>
<a name="l09674"></a>09674         <span class="keywordflow">if</span> (!addedLastAlready)
<a name="l09675"></a>09675           lineData-&gt;append(<a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>((it-1).value().key, (it-1).value().value));
<a name="l09676"></a>09676         <span class="comment">// add current point, original:</span>
<a name="l09677"></a>09677         lineData-&gt;append(<a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(it.value().key, it.value().value));
<a name="l09678"></a>09678       } <span class="keywordflow">else</span> <span class="comment">// no special case that forbids optimized point placement, so do it:</span>
<a name="l09679"></a>09679       {
<a name="l09680"></a>09680         <span class="comment">// always add last point if not added already, optimized:</span>
<a name="l09681"></a>09681         <span class="keywordflow">if</span> (!addedLastAlready)
<a name="l09682"></a>09682           lineData-&gt;append(<a class="code" href="class_q_c_p_curve.html#aec2099a1569775209f73bbb0d3da7c16">outsideCoordsToPixels</a>((it-1).value().key, (it-1).value().value, currentRegion));
<a name="l09683"></a>09683         <span class="comment">// add current point, optimized:</span>
<a name="l09684"></a>09684         lineData-&gt;append(<a class="code" href="class_q_c_p_curve.html#aec2099a1569775209f73bbb0d3da7c16">outsideCoordsToPixels</a>(it.value().key, it.value().value, currentRegion));
<a name="l09685"></a>09685       }
<a name="l09686"></a>09686       addedLastAlready = <span class="keyword">true</span>; <span class="comment">// so that if next point enters 5, or crosses another region boundary, we don&#39;t add this point twice</span>
<a name="l09687"></a>09687     } <span class="keywordflow">else</span> <span class="comment">// neither in R, nor crossed a region boundary, skip current point</span>
<a name="l09688"></a>09688     {
<a name="l09689"></a>09689       addedLastAlready = <span class="keyword">false</span>;
<a name="l09690"></a>09690     }
<a name="l09691"></a>09691     lastRegion = currentRegion;
<a name="l09692"></a>09692     firstPoint = <span class="keyword">false</span>;
<a name="l09693"></a>09693   }
<a name="l09694"></a>09694   <span class="comment">// If curve ends outside R, we want to add very last point so the fill looks like it should when the curve started inside R:</span>
<a name="l09695"></a>09695   <span class="keywordflow">if</span> (lastRegion != 5 &amp;&amp; <a class="code" href="class_q_c_p_abstract_plottable.html#a33f00674c0161c13315ab9da0895418e">mBrush</a>.style() != Qt::NoBrush &amp;&amp; !<a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;isEmpty())
<a name="l09696"></a>09696     lineData-&gt;append(<a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>((<a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;constEnd()-1).value().key, (<a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;constEnd()-1).value().value));
<a name="l09697"></a>09697 }
<a name="l09698"></a>09698 
<a name="l09705"></a><a class="code" href="class_q_c_p_curve.html#acd7a68c6f268ce1ab845eaf69fc2c6a6">09705</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_curve.html#acd7a68c6f268ce1ab845eaf69fc2c6a6">QCPCurve::pointDistance</a>(<span class="keyword">const</span> QPointF &amp;pixelPoint)<span class="keyword"> const</span>
<a name="l09706"></a>09706 <span class="keyword"></span>{
<a name="l09707"></a>09707   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;isEmpty())
<a name="l09708"></a>09708   {
<a name="l09709"></a>09709     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;requested point distance on curve&quot;</span> &lt;&lt; <a class="code" href="class_q_c_p_abstract_plottable.html#ac29ffef424e2488675930de18cde612a">mName</a> &lt;&lt; <span class="stringliteral">&quot;without data&quot;</span>;
<a name="l09710"></a>09710     <span class="keywordflow">return</span> 500;
<a name="l09711"></a>09711   }
<a name="l09712"></a>09712   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;size() == 1)
<a name="l09713"></a>09713   {
<a name="l09714"></a>09714     QPointF dataPoint = <a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(<a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;constBegin().key(), <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;constBegin().value().value);
<a name="l09715"></a>09715     <span class="keywordflow">return</span> QVector2D(dataPoint-pixelPoint).length();
<a name="l09716"></a>09716   }
<a name="l09717"></a>09717   
<a name="l09718"></a>09718   <span class="comment">// calculate minimum distance to line segments:</span>
<a name="l09719"></a>09719   QVector&lt;QPointF&gt; *lineData = <span class="keyword">new</span> QVector&lt;QPointF&gt;;
<a name="l09720"></a>09720   <a class="code" href="class_q_c_p_curve.html#afa895f8ba9ae34fea6ecea295fd7b1e5">getCurveData</a>(lineData);
<a name="l09721"></a>09721   <span class="keywordtype">double</span> minDistSqr = std::numeric_limits&lt;double&gt;::max();
<a name="l09722"></a>09722   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;lineData-&gt;size()-1; ++i)
<a name="l09723"></a>09723   {
<a name="l09724"></a>09724     <span class="keywordtype">double</span> currentDistSqr = <a class="code" href="class_q_c_p_abstract_plottable.html#a5ea1cab44ca912dcdc96ed81ec5bed5d">distSqrToLine</a>(lineData-&gt;at(i), lineData-&gt;at(i+1), pixelPoint);
<a name="l09725"></a>09725     <span class="keywordflow">if</span> (currentDistSqr &lt; minDistSqr)
<a name="l09726"></a>09726       minDistSqr = currentDistSqr;
<a name="l09727"></a>09727   }
<a name="l09728"></a>09728   <span class="keyword">delete</span> lineData;
<a name="l09729"></a>09729   <span class="keywordflow">return</span> sqrt(minDistSqr);
<a name="l09730"></a>09730 }
<a name="l09731"></a>09731 
<a name="l09742"></a><a class="code" href="class_q_c_p_curve.html#aec2099a1569775209f73bbb0d3da7c16">09742</a> QPointF <a class="code" href="class_q_c_p_curve.html#aec2099a1569775209f73bbb0d3da7c16">QCPCurve::outsideCoordsToPixels</a>(<span class="keywordtype">double</span> key, <span class="keywordtype">double</span> value, <span class="keywordtype">int</span> region)<span class="keyword"> const</span>
<a name="l09743"></a>09743 <span class="keyword"></span>{
<a name="l09744"></a>09744   <span class="keywordtype">int</span> margin = 10;
<a name="l09745"></a>09745   QRect axisRect = <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a7fe5b84f4891838b63ed5181f5811dc5">axisRect</a>() | <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a7fe5b84f4891838b63ed5181f5811dc5">axisRect</a>();
<a name="l09746"></a>09746   QPointF result = <a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(key, value);
<a name="l09747"></a>09747   <span class="keywordflow">switch</span> (region)
<a name="l09748"></a>09748   {
<a name="l09749"></a>09749     <span class="keywordflow">case</span> 2: result.setX(axisRect.left()-margin); <span class="keywordflow">break</span>; <span class="comment">// left</span>
<a name="l09750"></a>09750     <span class="keywordflow">case</span> 8: result.setX(axisRect.right()+margin); <span class="keywordflow">break</span>; <span class="comment">// right</span>
<a name="l09751"></a>09751     <span class="keywordflow">case</span> 4: result.setY(axisRect.top()-margin); <span class="keywordflow">break</span>; <span class="comment">// top</span>
<a name="l09752"></a>09752     <span class="keywordflow">case</span> 6: result.setY(axisRect.bottom()+margin); <span class="keywordflow">break</span>; <span class="comment">// bottom</span>
<a name="l09753"></a>09753     <span class="keywordflow">case</span> 1: result.setX(axisRect.left()-margin);
<a name="l09754"></a>09754             result.setY(axisRect.top()-margin); <span class="keywordflow">break</span>; <span class="comment">// top left</span>
<a name="l09755"></a>09755     <span class="keywordflow">case</span> 7: result.setX(axisRect.right()+margin);
<a name="l09756"></a>09756             result.setY(axisRect.top()-margin); <span class="keywordflow">break</span>; <span class="comment">// top right</span>
<a name="l09757"></a>09757     <span class="keywordflow">case</span> 9: result.setX(axisRect.right()+margin);
<a name="l09758"></a>09758             result.setY(axisRect.bottom()+margin); <span class="keywordflow">break</span>; <span class="comment">// bottom right</span>
<a name="l09759"></a>09759     <span class="keywordflow">case</span> 3: result.setX(axisRect.left()-margin);
<a name="l09760"></a>09760             result.setY(axisRect.bottom()+margin); <span class="keywordflow">break</span>; <span class="comment">// bottom left</span>
<a name="l09761"></a>09761   }
<a name="l09762"></a>09762   <span class="keywordflow">return</span> result;
<a name="l09763"></a>09763 }
<a name="l09764"></a>09764 
<a name="l09765"></a>09765 <span class="comment">/* inherits documentation from base class */</span>
<a name="l09766"></a><a class="code" href="class_q_c_p_curve.html#aed062a72e98372480a683cdd201b5612">09766</a> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> <a class="code" href="class_q_c_p_curve.html#aed062a72e98372480a683cdd201b5612">QCPCurve::getKeyRange</a>(<span class="keywordtype">bool</span> &amp;validRange, <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8">SignDomain</a> inSignDomain)<span class="keyword"> const</span>
<a name="l09767"></a>09767 <span class="keyword"></span>{
<a name="l09768"></a>09768   <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> range;
<a name="l09769"></a>09769   <span class="keywordtype">bool</span> haveLower = <span class="keyword">false</span>;
<a name="l09770"></a>09770   <span class="keywordtype">bool</span> haveUpper = <span class="keyword">false</span>;
<a name="l09771"></a>09771   
<a name="l09772"></a>09772   <span class="keywordtype">double</span> current;
<a name="l09773"></a>09773   
<a name="l09774"></a>09774   QCPCurveDataMap::const_iterator it = <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;constBegin();
<a name="l09775"></a>09775   <span class="keywordflow">while</span> (it != <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;constEnd())
<a name="l09776"></a>09776   {
<a name="l09777"></a>09777     current = it.value().key;
<a name="l09778"></a>09778     <span class="keywordflow">if</span> (inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60" title="Both sign domains, including zero, i.e. all (rational) numbers.">sdBoth</a> || (inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63" title="The negative sign domain, i.e. numbers smaller than zero.">sdNegative</a> &amp;&amp; current &lt; 0) || (inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030" title="The positive sign domain, i.e. numbers greater than zero.">sdPositive</a> &amp;&amp; current &gt; 0))
<a name="l09779"></a>09779     {
<a name="l09780"></a>09780       <span class="keywordflow">if</span> (current &lt; range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> || !haveLower)
<a name="l09781"></a>09781       {
<a name="l09782"></a>09782         range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = current;
<a name="l09783"></a>09783         haveLower = <span class="keyword">true</span>;
<a name="l09784"></a>09784       }
<a name="l09785"></a>09785       <span class="keywordflow">if</span> (current &gt; range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> || !haveUpper)
<a name="l09786"></a>09786       {
<a name="l09787"></a>09787         range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = current;
<a name="l09788"></a>09788         haveUpper = <span class="keyword">true</span>;
<a name="l09789"></a>09789       }
<a name="l09790"></a>09790     }
<a name="l09791"></a>09791     ++it;
<a name="l09792"></a>09792   }
<a name="l09793"></a>09793   
<a name="l09794"></a>09794   validRange = haveLower &amp;&amp; haveUpper;
<a name="l09795"></a>09795   <span class="keywordflow">return</span> range;
<a name="l09796"></a>09796 }
<a name="l09797"></a>09797 
<a name="l09798"></a>09798 <span class="comment">/* inherits documentation from base class */</span>
<a name="l09799"></a><a class="code" href="class_q_c_p_curve.html#a5e788d369793e0179c5a46fce3bcb0fb">09799</a> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> <a class="code" href="class_q_c_p_curve.html#a5e788d369793e0179c5a46fce3bcb0fb">QCPCurve::getValueRange</a>(<span class="keywordtype">bool</span> &amp;validRange, <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8">SignDomain</a> inSignDomain)<span class="keyword"> const</span>
<a name="l09800"></a>09800 <span class="keyword"></span>{
<a name="l09801"></a>09801   <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> range;
<a name="l09802"></a>09802   <span class="keywordtype">bool</span> haveLower = <span class="keyword">false</span>;
<a name="l09803"></a>09803   <span class="keywordtype">bool</span> haveUpper = <span class="keyword">false</span>;
<a name="l09804"></a>09804   
<a name="l09805"></a>09805   <span class="keywordtype">double</span> current;
<a name="l09806"></a>09806   
<a name="l09807"></a>09807   QCPCurveDataMap::const_iterator it = <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;constBegin();
<a name="l09808"></a>09808   <span class="keywordflow">while</span> (it != <a class="code" href="class_q_c_p_curve.html#a88d533e455bca96004b049e99168731b">mData</a>-&gt;constEnd())
<a name="l09809"></a>09809   {
<a name="l09810"></a>09810     current = it.value().value;
<a name="l09811"></a>09811     <span class="keywordflow">if</span> (inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60" title="Both sign domains, including zero, i.e. all (rational) numbers.">sdBoth</a> || (inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63" title="The negative sign domain, i.e. numbers smaller than zero.">sdNegative</a> &amp;&amp; current &lt; 0) || (inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030" title="The positive sign domain, i.e. numbers greater than zero.">sdPositive</a> &amp;&amp; current &gt; 0))
<a name="l09812"></a>09812     {
<a name="l09813"></a>09813       <span class="keywordflow">if</span> (current &lt; range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> || !haveLower)
<a name="l09814"></a>09814       {
<a name="l09815"></a>09815         range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = current;
<a name="l09816"></a>09816         haveLower = <span class="keyword">true</span>;
<a name="l09817"></a>09817       }
<a name="l09818"></a>09818       <span class="keywordflow">if</span> (current &gt; range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> || !haveUpper)
<a name="l09819"></a>09819       {
<a name="l09820"></a>09820         range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = current;
<a name="l09821"></a>09821         haveUpper = <span class="keyword">true</span>;
<a name="l09822"></a>09822       }
<a name="l09823"></a>09823     }
<a name="l09824"></a>09824     ++it;
<a name="l09825"></a>09825   }
<a name="l09826"></a>09826   
<a name="l09827"></a>09827   validRange = haveLower &amp;&amp; haveUpper;
<a name="l09828"></a>09828   <span class="keywordflow">return</span> range;
<a name="l09829"></a>09829 }
<a name="l09830"></a>09830 
<a name="l09831"></a>09831 <span class="comment">// ================================================================================</span>
<a name="l09832"></a>09832 <span class="comment">// =================== QCPBars</span>
<a name="l09833"></a>09833 <span class="comment">// ================================================================================</span>
<a name="l09888"></a><a class="code" href="class_q_c_p_bars.html#a64006999ad9dff308f40df41cef176ad">09888</a> <span class="comment"></span><a class="code" href="class_q_c_p_bars.html#a64006999ad9dff308f40df41cef176ad">QCPBars::QCPBars</a>(<a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *keyAxis, <a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *valueAxis) :
<a name="l09889"></a>09889   <a class="code" href="class_q_c_p_abstract_plottable.html" title="The abstract base class for all data representing objects in a plot.">QCPAbstractPlottable</a>(keyAxis, valueAxis),
<a name="l09890"></a>09890   mBarBelow(0),
<a name="l09891"></a>09891   mBarAbove(0)
<a name="l09892"></a>09892 {
<a name="l09893"></a>09893   <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a> = <span class="keyword">new</span> <a class="code" href="qcustomplot_8h.html#aa846c77472cae93def9f1609d0c57191">QCPBarDataMap</a>;
<a name="l09894"></a>09894   <a class="code" href="class_q_c_p_abstract_plottable.html#a67bc0622fd1b9fa14e54c14922dcec66">mPen</a>.setColor(Qt::blue);
<a name="l09895"></a>09895   <a class="code" href="class_q_c_p_abstract_plottable.html#a67bc0622fd1b9fa14e54c14922dcec66">mPen</a>.setStyle(Qt::SolidLine);
<a name="l09896"></a>09896   <a class="code" href="class_q_c_p_abstract_plottable.html#a33f00674c0161c13315ab9da0895418e">mBrush</a>.setColor(QColor(40, 50, 255, 30));
<a name="l09897"></a>09897   <a class="code" href="class_q_c_p_abstract_plottable.html#a33f00674c0161c13315ab9da0895418e">mBrush</a>.setStyle(Qt::SolidPattern);
<a name="l09898"></a>09898   <a class="code" href="class_q_c_p_abstract_plottable.html#a10619472f5d5e10e9519a599f1cf5576">mSelectedPen</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#a67bc0622fd1b9fa14e54c14922dcec66">mPen</a>;
<a name="l09899"></a>09899   <a class="code" href="class_q_c_p_abstract_plottable.html#a10619472f5d5e10e9519a599f1cf5576">mSelectedPen</a>.setWidthF(2.5);
<a name="l09900"></a>09900   <a class="code" href="class_q_c_p_abstract_plottable.html#a10619472f5d5e10e9519a599f1cf5576">mSelectedPen</a>.setColor(QColor(80, 80, 255)); <span class="comment">// lighter than Qt::blue of mPen</span>
<a name="l09901"></a>09901   <a class="code" href="class_q_c_p_abstract_plottable.html#aea3c0da30c7a8be23ad5f2d9bca36762">mSelectedBrush</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#a33f00674c0161c13315ab9da0895418e">mBrush</a>;
<a name="l09902"></a>09902   
<a name="l09903"></a>09903   <a class="code" href="class_q_c_p_bars.html#a7c4e0f2246f8133f48a9c3f24cf5b920">mWidth</a> = 0.75;
<a name="l09904"></a>09904 }
<a name="l09905"></a>09905 
<a name="l09906"></a><a class="code" href="class_q_c_p_bars.html#a4d880e28031ef120603f543379be2f22">09906</a> <a class="code" href="class_q_c_p_bars.html#a4d880e28031ef120603f543379be2f22">QCPBars::~QCPBars</a>()
<a name="l09907"></a>09907 {
<a name="l09908"></a>09908   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_bars.html#a02eb7de7a2c03dc5699f329bb1c5f6e1">mBarBelow</a> || <a class="code" href="class_q_c_p_bars.html#ade19776a2a6d393f15c0e27d4bb8e594">mBarAbove</a>)
<a name="l09909"></a>09909     <a class="code" href="class_q_c_p_bars.html#a6ea37802cd22f97235cab614b14b9f19">connectBars</a>(<a class="code" href="class_q_c_p_bars.html#a02eb7de7a2c03dc5699f329bb1c5f6e1">mBarBelow</a>, <a class="code" href="class_q_c_p_bars.html#ade19776a2a6d393f15c0e27d4bb8e594">mBarAbove</a>); <span class="comment">// take this bar out of any stacking</span>
<a name="l09910"></a>09910   <span class="keyword">delete</span> <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>;
<a name="l09911"></a>09911 }
<a name="l09912"></a>09912 
<a name="l09916"></a><a class="code" href="class_q_c_p_bars.html#afec6116579d44d5b706e0fa5e5332507">09916</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_bars.html#afec6116579d44d5b706e0fa5e5332507">QCPBars::setWidth</a>(<span class="keywordtype">double</span> width)
<a name="l09917"></a>09917 {
<a name="l09918"></a>09918   <a class="code" href="class_q_c_p_bars.html#a7c4e0f2246f8133f48a9c3f24cf5b920">mWidth</a> = <a class="code" href="class_q_c_p_bars.html#a42798c38abd5f5db22bd45d77f429625">width</a>;
<a name="l09919"></a>09919 }
<a name="l09920"></a>09920 
<a name="l09928"></a><a class="code" href="class_q_c_p_bars.html#aa3435aab19e0a49e4e7b41bd36a8d96b">09928</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_bars.html#aa3435aab19e0a49e4e7b41bd36a8d96b">QCPBars::setData</a>(<a class="code" href="qcustomplot_8h.html#aa846c77472cae93def9f1609d0c57191">QCPBarDataMap</a> *data, <span class="keywordtype">bool</span> copy)
<a name="l09929"></a>09929 {
<a name="l09930"></a>09930   <span class="keywordflow">if</span> (copy)
<a name="l09931"></a>09931   {
<a name="l09932"></a>09932     *<a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a> = *<a class="code" href="class_q_c_p_bars.html#a4938c4eb29e48d4f15037886bcd4082d">data</a>;
<a name="l09933"></a>09933   } <span class="keywordflow">else</span>
<a name="l09934"></a>09934   {
<a name="l09935"></a>09935     <span class="keyword">delete</span> <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>;
<a name="l09936"></a>09936     <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a> = <a class="code" href="class_q_c_p_bars.html#a4938c4eb29e48d4f15037886bcd4082d">data</a>;
<a name="l09937"></a>09937   }
<a name="l09938"></a>09938 }
<a name="l09939"></a>09939 
<a name="l09946"></a><a class="code" href="class_q_c_p_bars.html#a3efded5df4a82ecb201f7c28099fa2e5">09946</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_bars.html#aa3435aab19e0a49e4e7b41bd36a8d96b">QCPBars::setData</a>(<span class="keyword">const</span> QVector&lt;double&gt; &amp;key, <span class="keyword">const</span> QVector&lt;double&gt; &amp;value)
<a name="l09947"></a>09947 {
<a name="l09948"></a>09948   <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;clear();
<a name="l09949"></a>09949   <span class="keywordtype">int</span> n = key.size();
<a name="l09950"></a>09950   n = qMin(n, value.size());
<a name="l09951"></a>09951   <a class="code" href="class_q_c_p_bar_data.html" title="Holds the data of one single data point (one bar) for QCPBars.">QCPBarData</a> newData;
<a name="l09952"></a>09952   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; ++i)
<a name="l09953"></a>09953   {
<a name="l09954"></a>09954     newData.<a class="code" href="class_q_c_p_bar_data.html#afe544b035ef19027ea3d65adeaf81b42">key</a> = key[i];
<a name="l09955"></a>09955     newData.value = value[i];
<a name="l09956"></a>09956     <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;insertMulti(newData.key, newData);
<a name="l09957"></a>09957   }
<a name="l09958"></a>09958 }
<a name="l09959"></a>09959 
<a name="l09974"></a><a class="code" href="class_q_c_p_bars.html#a69fc371346980f19177c3d1ecdad78ee">09974</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_bars.html#a69fc371346980f19177c3d1ecdad78ee">QCPBars::moveBelow</a>(<a class="code" href="class_q_c_p_bars.html" title="A plottable representing a bar chart in a plot.">QCPBars</a> *bars)
<a name="l09975"></a>09975 {
<a name="l09976"></a>09976   <span class="keywordflow">if</span> (bars == <span class="keyword">this</span>) <span class="keywordflow">return</span>;
<a name="l09977"></a>09977   <span class="keywordflow">if</span> (bars-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#a72c7a09c22963f2c943f07112b311103">keyAxis</a>() != <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a> || bars-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#a3106f9d34d330a6097a8ec5905e5b519">valueAxis</a>() != <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>)
<a name="l09978"></a>09978   {
<a name="l09979"></a>09979     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;passed QCPBars* doesn&#39;t have same key and value axis as this QCPBars&quot;</span>;
<a name="l09980"></a>09980     <span class="keywordflow">return</span>;
<a name="l09981"></a>09981   }
<a name="l09982"></a>09982   <span class="comment">// remove from stacking:</span>
<a name="l09983"></a>09983   <a class="code" href="class_q_c_p_bars.html#a6ea37802cd22f97235cab614b14b9f19">connectBars</a>(<a class="code" href="class_q_c_p_bars.html#a02eb7de7a2c03dc5699f329bb1c5f6e1">mBarBelow</a>, <a class="code" href="class_q_c_p_bars.html#ade19776a2a6d393f15c0e27d4bb8e594">mBarAbove</a>); <span class="comment">// Note: also works if one (or both) of them is 0</span>
<a name="l09984"></a>09984   <span class="comment">// if new bar given, insert this bar below it:</span>
<a name="l09985"></a>09985   <span class="keywordflow">if</span> (bars)
<a name="l09986"></a>09986   {
<a name="l09987"></a>09987     <span class="keywordflow">if</span> (bars-&gt;<a class="code" href="class_q_c_p_bars.html#a02eb7de7a2c03dc5699f329bb1c5f6e1">mBarBelow</a>)
<a name="l09988"></a>09988       <a class="code" href="class_q_c_p_bars.html#a6ea37802cd22f97235cab614b14b9f19">connectBars</a>(bars-&gt;<a class="code" href="class_q_c_p_bars.html#a02eb7de7a2c03dc5699f329bb1c5f6e1">mBarBelow</a>, <span class="keyword">this</span>);
<a name="l09989"></a>09989     <a class="code" href="class_q_c_p_bars.html#a6ea37802cd22f97235cab614b14b9f19">connectBars</a>(<span class="keyword">this</span>, bars);
<a name="l09990"></a>09990   }
<a name="l09991"></a>09991 }
<a name="l09992"></a>09992 
<a name="l10007"></a><a class="code" href="class_q_c_p_bars.html#ac22e00a6a41509538c21b04f0a57318c">10007</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_bars.html#ac22e00a6a41509538c21b04f0a57318c">QCPBars::moveAbove</a>(<a class="code" href="class_q_c_p_bars.html" title="A plottable representing a bar chart in a plot.">QCPBars</a> *bars)
<a name="l10008"></a>10008 {
<a name="l10009"></a>10009   <span class="keywordflow">if</span> (bars == <span class="keyword">this</span>) <span class="keywordflow">return</span>;
<a name="l10010"></a>10010   <span class="keywordflow">if</span> (bars &amp;&amp; (bars-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#a72c7a09c22963f2c943f07112b311103">keyAxis</a>() != <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a> || bars-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#a3106f9d34d330a6097a8ec5905e5b519">valueAxis</a>() != <a class="code" href="class_q_c_p_abstract_plottable.html#acfc46d619ab9598be33b64146da45822">mValueAxis</a>))
<a name="l10011"></a>10011   {
<a name="l10012"></a>10012     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;passed QCPBars* doesn&#39;t have same key and value axis as this QCPBars&quot;</span>;
<a name="l10013"></a>10013     <span class="keywordflow">return</span>;
<a name="l10014"></a>10014   }
<a name="l10015"></a>10015   <span class="comment">// remove from stacking:</span>
<a name="l10016"></a>10016   <a class="code" href="class_q_c_p_bars.html#a6ea37802cd22f97235cab614b14b9f19">connectBars</a>(<a class="code" href="class_q_c_p_bars.html#a02eb7de7a2c03dc5699f329bb1c5f6e1">mBarBelow</a>, <a class="code" href="class_q_c_p_bars.html#ade19776a2a6d393f15c0e27d4bb8e594">mBarAbove</a>); <span class="comment">// Note: also works if one (or both) of them is 0</span>
<a name="l10017"></a>10017   <span class="comment">// if new bar given, insert this bar above it:</span>
<a name="l10018"></a>10018   <span class="keywordflow">if</span> (bars)
<a name="l10019"></a>10019   {
<a name="l10020"></a>10020     <span class="keywordflow">if</span> (bars-&gt;<a class="code" href="class_q_c_p_bars.html#ade19776a2a6d393f15c0e27d4bb8e594">mBarAbove</a>)
<a name="l10021"></a>10021       <a class="code" href="class_q_c_p_bars.html#a6ea37802cd22f97235cab614b14b9f19">connectBars</a>(<span class="keyword">this</span>, bars-&gt;<a class="code" href="class_q_c_p_bars.html#ade19776a2a6d393f15c0e27d4bb8e594">mBarAbove</a>);
<a name="l10022"></a>10022     <a class="code" href="class_q_c_p_bars.html#a6ea37802cd22f97235cab614b14b9f19">connectBars</a>(bars, <span class="keyword">this</span>);
<a name="l10023"></a>10023   }
<a name="l10024"></a>10024 }
<a name="l10025"></a>10025 
<a name="l10030"></a><a class="code" href="class_q_c_p_bars.html#a1f29cf08615040993209147fa68de3f2">10030</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_bars.html#a1f29cf08615040993209147fa68de3f2">QCPBars::addData</a>(<span class="keyword">const</span> <a class="code" href="qcustomplot_8h.html#aa846c77472cae93def9f1609d0c57191">QCPBarDataMap</a> &amp;dataMap)
<a name="l10031"></a>10031 {
<a name="l10032"></a>10032   <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;unite(dataMap);
<a name="l10033"></a>10033 }
<a name="l10034"></a>10034 
<a name="l10039"></a><a class="code" href="class_q_c_p_bars.html#a142158b1addefd53259002dd3ab22c3a">10039</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_bars.html#a1f29cf08615040993209147fa68de3f2">QCPBars::addData</a>(<span class="keyword">const</span> <a class="code" href="class_q_c_p_bar_data.html" title="Holds the data of one single data point (one bar) for QCPBars.">QCPBarData</a> &amp;data)
<a name="l10040"></a>10040 {
<a name="l10041"></a>10041   <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;insertMulti(data.<a class="code" href="class_q_c_p_bar_data.html#afe544b035ef19027ea3d65adeaf81b42">key</a>, data);
<a name="l10042"></a>10042 }
<a name="l10043"></a>10043 
<a name="l10048"></a><a class="code" href="class_q_c_p_bars.html#a684dd105403a5497fda42f2094fecbb7">10048</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_bars.html#a1f29cf08615040993209147fa68de3f2">QCPBars::addData</a>(<span class="keywordtype">double</span> key, <span class="keywordtype">double</span> value)
<a name="l10049"></a>10049 {
<a name="l10050"></a>10050   <a class="code" href="class_q_c_p_bar_data.html" title="Holds the data of one single data point (one bar) for QCPBars.">QCPBarData</a> newData;
<a name="l10051"></a>10051   newData.<a class="code" href="class_q_c_p_bar_data.html#afe544b035ef19027ea3d65adeaf81b42">key</a> = key;
<a name="l10052"></a>10052   newData.<a class="code" href="class_q_c_p_bar_data.html#acab57005d8916d61b64e9ddef6113b60">value</a> = value;
<a name="l10053"></a>10053   <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;insertMulti(newData.<a class="code" href="class_q_c_p_bar_data.html#afe544b035ef19027ea3d65adeaf81b42">key</a>, newData);
<a name="l10054"></a>10054 }
<a name="l10055"></a>10055 
<a name="l10060"></a><a class="code" href="class_q_c_p_bars.html#a3679a0a9decab0fa03f8f4c6e3344d52">10060</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_bars.html#a1f29cf08615040993209147fa68de3f2">QCPBars::addData</a>(<span class="keyword">const</span> QVector&lt;double&gt; &amp;keys, <span class="keyword">const</span> QVector&lt;double&gt; &amp;values)
<a name="l10061"></a>10061 {
<a name="l10062"></a>10062   <span class="keywordtype">int</span> n = keys.size();
<a name="l10063"></a>10063   n = qMin(n, values.size());
<a name="l10064"></a>10064   <a class="code" href="class_q_c_p_bar_data.html" title="Holds the data of one single data point (one bar) for QCPBars.">QCPBarData</a> newData;
<a name="l10065"></a>10065   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; ++i)
<a name="l10066"></a>10066   {
<a name="l10067"></a>10067     newData.<a class="code" href="class_q_c_p_bar_data.html#afe544b035ef19027ea3d65adeaf81b42">key</a> = keys[i];
<a name="l10068"></a>10068     newData.value = values[i];
<a name="l10069"></a>10069     <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;insertMulti(newData.key, newData);
<a name="l10070"></a>10070   }
<a name="l10071"></a>10071 }
<a name="l10072"></a>10072 
<a name="l10077"></a><a class="code" href="class_q_c_p_bars.html#a9d12779a3fad4820aad2c428f368298d">10077</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_bars.html#a9d12779a3fad4820aad2c428f368298d">QCPBars::removeDataBefore</a>(<span class="keywordtype">double</span> key)
<a name="l10078"></a>10078 {
<a name="l10079"></a>10079   QCPBarDataMap::iterator it = <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;begin();
<a name="l10080"></a>10080   <span class="keywordflow">while</span> (it != <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;end() &amp;&amp; it.key() &lt; key)
<a name="l10081"></a>10081     it = <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;erase(it);
<a name="l10082"></a>10082 }
<a name="l10083"></a>10083 
<a name="l10088"></a><a class="code" href="class_q_c_p_bars.html#a99de6e7abbbf03fb41fa604c7f08aa8b">10088</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_bars.html#a99de6e7abbbf03fb41fa604c7f08aa8b">QCPBars::removeDataAfter</a>(<span class="keywordtype">double</span> key)
<a name="l10089"></a>10089 {
<a name="l10090"></a>10090   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;isEmpty()) <span class="keywordflow">return</span>;
<a name="l10091"></a>10091   QCPBarDataMap::iterator it = <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;upperBound(key);
<a name="l10092"></a>10092   <span class="keywordflow">while</span> (it != <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;end())
<a name="l10093"></a>10093     it = <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;erase(it);
<a name="l10094"></a>10094 }
<a name="l10095"></a>10095 
<a name="l10103"></a><a class="code" href="class_q_c_p_bars.html#a1fe9bcb57d670defea1bb65cadf43765">10103</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_bars.html#a1fe9bcb57d670defea1bb65cadf43765">QCPBars::removeData</a>(<span class="keywordtype">double</span> fromKey, <span class="keywordtype">double</span> toKey)
<a name="l10104"></a>10104 {
<a name="l10105"></a>10105   <span class="keywordflow">if</span> (fromKey &gt;= toKey || <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;isEmpty()) <span class="keywordflow">return</span>;
<a name="l10106"></a>10106   QCPBarDataMap::iterator it = <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;upperBound(fromKey);
<a name="l10107"></a>10107   QCPBarDataMap::iterator itEnd = <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;upperBound(toKey);
<a name="l10108"></a>10108   <span class="keywordflow">while</span> (it != itEnd)
<a name="l10109"></a>10109     it = <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;erase(it);
<a name="l10110"></a>10110 }
<a name="l10111"></a>10111 
<a name="l10120"></a><a class="code" href="class_q_c_p_bars.html#a837cc9848ad3edd40a6130b508493f93">10120</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_bars.html#a1fe9bcb57d670defea1bb65cadf43765">QCPBars::removeData</a>(<span class="keywordtype">double</span> key)
<a name="l10121"></a>10121 {
<a name="l10122"></a>10122   <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;remove(key);
<a name="l10123"></a>10123 }
<a name="l10124"></a>10124 
<a name="l10129"></a><a class="code" href="class_q_c_p_bars.html#a11dbbd707132f07f862dff13c5789c2b">10129</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_bars.html#a11dbbd707132f07f862dff13c5789c2b">QCPBars::clearData</a>()
<a name="l10130"></a>10130 {
<a name="l10131"></a>10131   <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;clear();
<a name="l10132"></a>10132 }
<a name="l10133"></a>10133 
<a name="l10134"></a>10134 <span class="comment">/* inherits documentation from base class */</span>
<a name="l10135"></a><a class="code" href="class_q_c_p_bars.html#a3b4aeb6d87d57dce496f5f83c21eabba">10135</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_bars.html#a3b4aeb6d87d57dce496f5f83c21eabba">QCPBars::selectTest</a>(<span class="keyword">const</span> QPointF &amp;pos)<span class="keyword"> const</span>
<a name="l10136"></a>10136 <span class="keyword"></span>{
<a name="l10137"></a>10137   QCPBarDataMap::ConstIterator it;
<a name="l10138"></a>10138   <span class="keywordtype">double</span> posKey, posValue;
<a name="l10139"></a>10139   <a class="code" href="class_q_c_p_abstract_plottable.html#a10408828446e9e0681c46d65120f382e">pixelsToCoords</a>(pos, posKey, posValue);
<a name="l10140"></a>10140   <span class="keywordflow">for</span> (it = <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;constBegin(); it != <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;constEnd(); ++it)
<a name="l10141"></a>10141   {
<a name="l10142"></a>10142     <span class="keywordtype">double</span> baseValue = <a class="code" href="class_q_c_p_bars.html#ab60a3c4b8e7c59f0f14e25590d96fa4e">getBaseValue</a>(it.key(), it.value().value &gt;=0);
<a name="l10143"></a>10143     <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> keyRange(it.key()-<a class="code" href="class_q_c_p_bars.html#a7c4e0f2246f8133f48a9c3f24cf5b920">mWidth</a>*0.5, it.key()+<a class="code" href="class_q_c_p_bars.html#a7c4e0f2246f8133f48a9c3f24cf5b920">mWidth</a>*0.5);
<a name="l10144"></a>10144     <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> valueRange(baseValue, baseValue+it.value().value);
<a name="l10145"></a>10145     <span class="keywordflow">if</span> (keyRange.contains(posKey) &amp;&amp; valueRange.contains(posValue))
<a name="l10146"></a>10146       <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a7b738074c75e80070ef6a10263c6cd69">selectionTolerance</a>()*0.99;
<a name="l10147"></a>10147   }
<a name="l10148"></a>10148   <span class="keywordflow">return</span> -1;
<a name="l10149"></a>10149 }
<a name="l10150"></a>10150 
<a name="l10151"></a>10151 <span class="comment">/* inherits documentation from base class */</span>
<a name="l10152"></a><a class="code" href="class_q_c_p_bars.html#a42b894e34dac799f90ff3700706b31df">10152</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_bars.html#a42b894e34dac799f90ff3700706b31df">QCPBars::draw</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)
<a name="l10153"></a>10153 {
<a name="l10154"></a>10154   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;isEmpty()) <span class="keywordflow">return</span>;
<a name="l10155"></a>10155   
<a name="l10156"></a>10156   QCPBarDataMap::const_iterator it;
<a name="l10157"></a>10157   <span class="keywordflow">for</span> (it = <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;constBegin(); it != <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;constEnd(); ++it)
<a name="l10158"></a>10158   {
<a name="l10159"></a>10159     <span class="keywordflow">if</span> (it.key()+<a class="code" href="class_q_c_p_bars.html#a7c4e0f2246f8133f48a9c3f24cf5b920">mWidth</a>*0.5 &lt; <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> || it.key()-<a class="code" href="class_q_c_p_bars.html#a7c4e0f2246f8133f48a9c3f24cf5b920">mWidth</a>*0.5 &gt; <a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>)
<a name="l10160"></a>10160       <span class="keywordflow">continue</span>;
<a name="l10161"></a>10161     QPolygonF barPolygon = <a class="code" href="class_q_c_p_bars.html#a1d118a76662cfd691a78c6f573e3f78c">getBarPolygon</a>(it.key(), it.value().value);
<a name="l10162"></a>10162     <span class="comment">// draw bar fill:</span>
<a name="l10163"></a>10163     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#ae74c123832da180c17e22203e748d9b7">mainBrush</a>().style() != Qt::NoBrush &amp;&amp; <a class="code" href="class_q_c_p_abstract_plottable.html#ae74c123832da180c17e22203e748d9b7">mainBrush</a>().color().alpha() != 0)
<a name="l10164"></a>10164     {
<a name="l10165"></a>10165       <a class="code" href="class_q_c_p_abstract_plottable.html#ac08a480155895e674dbfe5a5670e0ff3">applyFillAntialiasingHint</a>(painter);
<a name="l10166"></a>10166       painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(Qt::NoPen);
<a name="l10167"></a>10167       painter-&gt;setBrush(<a class="code" href="class_q_c_p_abstract_plottable.html#ae74c123832da180c17e22203e748d9b7">mainBrush</a>());
<a name="l10168"></a>10168       painter-&gt;drawPolygon(barPolygon);
<a name="l10169"></a>10169     }
<a name="l10170"></a>10170     <span class="comment">// draw bar line:</span>
<a name="l10171"></a>10171     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_plottable.html#a19276ed2382a3a06464417b8788b1451">mainPen</a>().style() != Qt::NoPen &amp;&amp; <a class="code" href="class_q_c_p_abstract_plottable.html#a19276ed2382a3a06464417b8788b1451">mainPen</a>().color().alpha() != 0)
<a name="l10172"></a>10172     {
<a name="l10173"></a>10173       <a class="code" href="class_q_c_p_abstract_plottable.html#a76e9d6cc7972dc1528f526d163766aca">applyDefaultAntialiasingHint</a>(painter);
<a name="l10174"></a>10174       painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_abstract_plottable.html#a19276ed2382a3a06464417b8788b1451">mainPen</a>());
<a name="l10175"></a>10175       painter-&gt;setBrush(Qt::NoBrush);
<a name="l10176"></a>10176       painter-&gt;drawPolyline(barPolygon);
<a name="l10177"></a>10177     }
<a name="l10178"></a>10178   }
<a name="l10179"></a>10179 }
<a name="l10180"></a>10180 
<a name="l10181"></a>10181 <span class="comment">/* inherits documentation from base class */</span>
<a name="l10182"></a><a class="code" href="class_q_c_p_bars.html#af54543a87581003b3176d8b2931754c5">10182</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_bars.html#af54543a87581003b3176d8b2931754c5">QCPBars::drawLegendIcon</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter, <span class="keyword">const</span> QRect &amp;rect)<span class="keyword"> const</span>
<a name="l10183"></a>10183 <span class="keyword"></span>{
<a name="l10184"></a>10184   <span class="comment">// draw filled rect:</span>
<a name="l10185"></a>10185   <a class="code" href="class_q_c_p_abstract_plottable.html#a76e9d6cc7972dc1528f526d163766aca">applyDefaultAntialiasingHint</a>(painter);
<a name="l10186"></a>10186   painter-&gt;setBrush(<a class="code" href="class_q_c_p_abstract_plottable.html#a33f00674c0161c13315ab9da0895418e">mBrush</a>);
<a name="l10187"></a>10187   painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_abstract_plottable.html#a67bc0622fd1b9fa14e54c14922dcec66">mPen</a>);
<a name="l10188"></a>10188   QRectF r = QRectF(0, 0, rect.width()*0.67, rect.height()*0.67);
<a name="l10189"></a>10189   r.moveCenter(rect.center());
<a name="l10190"></a>10190   painter-&gt;drawRect(r);
<a name="l10191"></a>10191 }
<a name="l10192"></a>10192 
<a name="l10198"></a><a class="code" href="class_q_c_p_bars.html#a1d118a76662cfd691a78c6f573e3f78c">10198</a> QPolygonF <a class="code" href="class_q_c_p_bars.html#a1d118a76662cfd691a78c6f573e3f78c">QCPBars::getBarPolygon</a>(<span class="keywordtype">double</span> key, <span class="keywordtype">double</span> value)<span class="keyword"> const</span>
<a name="l10199"></a>10199 <span class="keyword"></span>{
<a name="l10200"></a>10200   QPolygonF result;
<a name="l10201"></a>10201   <span class="keywordtype">double</span> baseValue = <a class="code" href="class_q_c_p_bars.html#ab60a3c4b8e7c59f0f14e25590d96fa4e">getBaseValue</a>(key, value &gt;= 0);
<a name="l10202"></a>10202   result &lt;&lt; <a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(key-<a class="code" href="class_q_c_p_bars.html#a7c4e0f2246f8133f48a9c3f24cf5b920">mWidth</a>*0.5, baseValue);
<a name="l10203"></a>10203   result &lt;&lt; <a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(key-<a class="code" href="class_q_c_p_bars.html#a7c4e0f2246f8133f48a9c3f24cf5b920">mWidth</a>*0.5, baseValue+value);
<a name="l10204"></a>10204   result &lt;&lt; <a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(key+<a class="code" href="class_q_c_p_bars.html#a7c4e0f2246f8133f48a9c3f24cf5b920">mWidth</a>*0.5, baseValue+value);
<a name="l10205"></a>10205   result &lt;&lt; <a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(key+<a class="code" href="class_q_c_p_bars.html#a7c4e0f2246f8133f48a9c3f24cf5b920">mWidth</a>*0.5, baseValue);
<a name="l10206"></a>10206   <span class="keywordflow">return</span> result;
<a name="l10207"></a>10207 }
<a name="l10208"></a>10208 
<a name="l10218"></a><a class="code" href="class_q_c_p_bars.html#ab60a3c4b8e7c59f0f14e25590d96fa4e">10218</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_bars.html#ab60a3c4b8e7c59f0f14e25590d96fa4e">QCPBars::getBaseValue</a>(<span class="keywordtype">double</span> key, <span class="keywordtype">bool</span> positive)<span class="keyword"> const</span>
<a name="l10219"></a>10219 <span class="keyword"></span>{
<a name="l10220"></a>10220   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_bars.html#a02eb7de7a2c03dc5699f329bb1c5f6e1">mBarBelow</a>)
<a name="l10221"></a>10221   {
<a name="l10222"></a>10222     <span class="keywordtype">double</span> max = 0;
<a name="l10223"></a>10223     <span class="comment">// find bars of mBarBelow that are approximately at key and find largest one:</span>
<a name="l10224"></a>10224     QCPBarDataMap::const_iterator it = <a class="code" href="class_q_c_p_bars.html#a02eb7de7a2c03dc5699f329bb1c5f6e1">mBarBelow</a>-&gt;<a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;lowerBound(key-<a class="code" href="class_q_c_p_bars.html#a7c4e0f2246f8133f48a9c3f24cf5b920">mWidth</a>*0.1);
<a name="l10225"></a>10225     QCPBarDataMap::const_iterator itEnd = <a class="code" href="class_q_c_p_bars.html#a02eb7de7a2c03dc5699f329bb1c5f6e1">mBarBelow</a>-&gt;<a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;upperBound(key+<a class="code" href="class_q_c_p_bars.html#a7c4e0f2246f8133f48a9c3f24cf5b920">mWidth</a>*0.1);
<a name="l10226"></a>10226     <span class="keywordflow">while</span> (it != itEnd)
<a name="l10227"></a>10227     {
<a name="l10228"></a>10228       <span class="keywordflow">if</span> ((positive &amp;&amp; it.value().value &gt; max) ||
<a name="l10229"></a>10229           (!positive &amp;&amp; it.value().value &lt; max))
<a name="l10230"></a>10230         max = it.value().value;
<a name="l10231"></a>10231       ++it;
<a name="l10232"></a>10232     }
<a name="l10233"></a>10233     <span class="comment">// recurse down the bar-stack to find the total height:</span>
<a name="l10234"></a>10234     <span class="keywordflow">return</span> max + <a class="code" href="class_q_c_p_bars.html#a02eb7de7a2c03dc5699f329bb1c5f6e1">mBarBelow</a>-&gt;<a class="code" href="class_q_c_p_bars.html#ab60a3c4b8e7c59f0f14e25590d96fa4e">getBaseValue</a>(key, positive);
<a name="l10235"></a>10235   } <span class="keywordflow">else</span>
<a name="l10236"></a>10236     <span class="keywordflow">return</span> 0;
<a name="l10237"></a>10237 }
<a name="l10238"></a>10238 
<a name="l10247"></a><a class="code" href="class_q_c_p_bars.html#a6ea37802cd22f97235cab614b14b9f19">10247</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_bars.html#a6ea37802cd22f97235cab614b14b9f19">QCPBars::connectBars</a>(<a class="code" href="class_q_c_p_bars.html" title="A plottable representing a bar chart in a plot.">QCPBars</a> *lower, <a class="code" href="class_q_c_p_bars.html" title="A plottable representing a bar chart in a plot.">QCPBars</a> *upper)
<a name="l10248"></a>10248 {
<a name="l10249"></a>10249   <span class="keywordflow">if</span> (!lower &amp;&amp; !upper) <span class="keywordflow">return</span>;
<a name="l10250"></a>10250   
<a name="l10251"></a>10251   <span class="keywordflow">if</span> (!lower) <span class="comment">// disconnect upper at bottom</span>
<a name="l10252"></a>10252   {
<a name="l10253"></a>10253     <span class="comment">// disconnect old bar below upper:</span>
<a name="l10254"></a>10254     <span class="keywordflow">if</span> (upper-&gt;<a class="code" href="class_q_c_p_bars.html#a02eb7de7a2c03dc5699f329bb1c5f6e1">mBarBelow</a> &amp;&amp; upper-&gt;<a class="code" href="class_q_c_p_bars.html#a02eb7de7a2c03dc5699f329bb1c5f6e1">mBarBelow</a>-&gt;<a class="code" href="class_q_c_p_bars.html#ade19776a2a6d393f15c0e27d4bb8e594">mBarAbove</a> == upper)
<a name="l10255"></a>10255       upper-&gt;<a class="code" href="class_q_c_p_bars.html#a02eb7de7a2c03dc5699f329bb1c5f6e1">mBarBelow</a>-&gt;<a class="code" href="class_q_c_p_bars.html#ade19776a2a6d393f15c0e27d4bb8e594">mBarAbove</a> = 0;
<a name="l10256"></a>10256     upper-&gt;<a class="code" href="class_q_c_p_bars.html#a02eb7de7a2c03dc5699f329bb1c5f6e1">mBarBelow</a> = 0;
<a name="l10257"></a>10257   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!upper) <span class="comment">// disconnect lower at top</span>
<a name="l10258"></a>10258   {
<a name="l10259"></a>10259     <span class="comment">// disconnect old bar above lower:</span>
<a name="l10260"></a>10260     <span class="keywordflow">if</span> (lower-&gt;<a class="code" href="class_q_c_p_bars.html#ade19776a2a6d393f15c0e27d4bb8e594">mBarAbove</a> &amp;&amp; lower-&gt;<a class="code" href="class_q_c_p_bars.html#ade19776a2a6d393f15c0e27d4bb8e594">mBarAbove</a>-&gt;<a class="code" href="class_q_c_p_bars.html#a02eb7de7a2c03dc5699f329bb1c5f6e1">mBarBelow</a> == lower)
<a name="l10261"></a>10261       lower-&gt;<a class="code" href="class_q_c_p_bars.html#ade19776a2a6d393f15c0e27d4bb8e594">mBarAbove</a>-&gt;<a class="code" href="class_q_c_p_bars.html#a02eb7de7a2c03dc5699f329bb1c5f6e1">mBarBelow</a> = 0;
<a name="l10262"></a>10262     lower-&gt;<a class="code" href="class_q_c_p_bars.html#ade19776a2a6d393f15c0e27d4bb8e594">mBarAbove</a> = 0;
<a name="l10263"></a>10263   } <span class="keywordflow">else</span> <span class="comment">// connect lower and upper</span>
<a name="l10264"></a>10264   {
<a name="l10265"></a>10265     <span class="comment">// disconnect old bar above lower:</span>
<a name="l10266"></a>10266     <span class="keywordflow">if</span> (lower-&gt;<a class="code" href="class_q_c_p_bars.html#ade19776a2a6d393f15c0e27d4bb8e594">mBarAbove</a> &amp;&amp; lower-&gt;<a class="code" href="class_q_c_p_bars.html#ade19776a2a6d393f15c0e27d4bb8e594">mBarAbove</a>-&gt;<a class="code" href="class_q_c_p_bars.html#a02eb7de7a2c03dc5699f329bb1c5f6e1">mBarBelow</a> == lower)
<a name="l10267"></a>10267       lower-&gt;<a class="code" href="class_q_c_p_bars.html#ade19776a2a6d393f15c0e27d4bb8e594">mBarAbove</a>-&gt;<a class="code" href="class_q_c_p_bars.html#a02eb7de7a2c03dc5699f329bb1c5f6e1">mBarBelow</a> = 0;
<a name="l10268"></a>10268     <span class="comment">// disconnect old bar below upper:</span>
<a name="l10269"></a>10269     <span class="keywordflow">if</span> (upper-&gt;<a class="code" href="class_q_c_p_bars.html#a02eb7de7a2c03dc5699f329bb1c5f6e1">mBarBelow</a> &amp;&amp; upper-&gt;<a class="code" href="class_q_c_p_bars.html#a02eb7de7a2c03dc5699f329bb1c5f6e1">mBarBelow</a>-&gt;<a class="code" href="class_q_c_p_bars.html#ade19776a2a6d393f15c0e27d4bb8e594">mBarAbove</a> == upper)
<a name="l10270"></a>10270       upper-&gt;<a class="code" href="class_q_c_p_bars.html#a02eb7de7a2c03dc5699f329bb1c5f6e1">mBarBelow</a>-&gt;<a class="code" href="class_q_c_p_bars.html#ade19776a2a6d393f15c0e27d4bb8e594">mBarAbove</a> = 0;
<a name="l10271"></a>10271     lower-&gt;<a class="code" href="class_q_c_p_bars.html#ade19776a2a6d393f15c0e27d4bb8e594">mBarAbove</a> = upper;
<a name="l10272"></a>10272     upper-&gt;<a class="code" href="class_q_c_p_bars.html#a02eb7de7a2c03dc5699f329bb1c5f6e1">mBarBelow</a> = lower;
<a name="l10273"></a>10273   }
<a name="l10274"></a>10274 }
<a name="l10275"></a>10275 
<a name="l10276"></a>10276 <span class="comment">/* inherits documentation from base class */</span>
<a name="l10277"></a><a class="code" href="class_q_c_p_bars.html#adbf608df1ba1d28c0bc7a929b18d997b">10277</a> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> <a class="code" href="class_q_c_p_bars.html#adbf608df1ba1d28c0bc7a929b18d997b">QCPBars::getKeyRange</a>(<span class="keywordtype">bool</span> &amp;validRange, <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8">SignDomain</a> inSignDomain)<span class="keyword"> const</span>
<a name="l10278"></a>10278 <span class="keyword"></span>{
<a name="l10279"></a>10279   <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> range;
<a name="l10280"></a>10280   <span class="keywordtype">bool</span> haveLower = <span class="keyword">false</span>;
<a name="l10281"></a>10281   <span class="keywordtype">bool</span> haveUpper = <span class="keyword">false</span>;
<a name="l10282"></a>10282   
<a name="l10283"></a>10283   <span class="keywordtype">double</span> current;
<a name="l10284"></a>10284   <span class="keywordtype">double</span> barWidthHalf = <a class="code" href="class_q_c_p_bars.html#a7c4e0f2246f8133f48a9c3f24cf5b920">mWidth</a>*0.5;
<a name="l10285"></a>10285   QCPBarDataMap::const_iterator it = <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;constBegin();
<a name="l10286"></a>10286   <span class="keywordflow">while</span> (it != <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;constEnd())
<a name="l10287"></a>10287   {
<a name="l10288"></a>10288     current = it.value().key;
<a name="l10289"></a>10289     <span class="keywordflow">if</span> (inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60" title="Both sign domains, including zero, i.e. all (rational) numbers.">sdBoth</a> || (inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63" title="The negative sign domain, i.e. numbers smaller than zero.">sdNegative</a> &amp;&amp; current+barWidthHalf &lt; 0) || (inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030" title="The positive sign domain, i.e. numbers greater than zero.">sdPositive</a> &amp;&amp; current-barWidthHalf &gt; 0))
<a name="l10290"></a>10290     {
<a name="l10291"></a>10291       <span class="keywordflow">if</span> (current-barWidthHalf &lt; range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> || !haveLower)
<a name="l10292"></a>10292       {
<a name="l10293"></a>10293         range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = current-barWidthHalf;
<a name="l10294"></a>10294         haveLower = <span class="keyword">true</span>;
<a name="l10295"></a>10295       }
<a name="l10296"></a>10296       <span class="keywordflow">if</span> (current+barWidthHalf &gt; range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> || !haveUpper)
<a name="l10297"></a>10297       {
<a name="l10298"></a>10298         range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = current+barWidthHalf;
<a name="l10299"></a>10299         haveUpper = <span class="keyword">true</span>;
<a name="l10300"></a>10300       }
<a name="l10301"></a>10301     }
<a name="l10302"></a>10302     ++it;
<a name="l10303"></a>10303   }
<a name="l10304"></a>10304   
<a name="l10305"></a>10305   validRange = haveLower &amp;&amp; haveUpper;
<a name="l10306"></a>10306   <span class="keywordflow">return</span> range;
<a name="l10307"></a>10307 }
<a name="l10308"></a>10308 
<a name="l10309"></a>10309 <span class="comment">/* inherits documentation from base class */</span>
<a name="l10310"></a><a class="code" href="class_q_c_p_bars.html#acbcbf97f591d3b8a130b2fdf0a8af74b">10310</a> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> <a class="code" href="class_q_c_p_bars.html#acbcbf97f591d3b8a130b2fdf0a8af74b">QCPBars::getValueRange</a>(<span class="keywordtype">bool</span> &amp;validRange, <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8">SignDomain</a> inSignDomain)<span class="keyword"> const</span>
<a name="l10311"></a>10311 <span class="keyword"></span>{
<a name="l10312"></a>10312   <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> range;
<a name="l10313"></a>10313   <span class="keywordtype">bool</span> haveLower = <span class="keyword">true</span>; <span class="comment">// set to true, because 0 should always be visible in bar charts</span>
<a name="l10314"></a>10314   <span class="keywordtype">bool</span> haveUpper = <span class="keyword">true</span>; <span class="comment">// set to true, because 0 should always be visible in bar charts</span>
<a name="l10315"></a>10315   
<a name="l10316"></a>10316   <span class="keywordtype">double</span> current;
<a name="l10317"></a>10317   
<a name="l10318"></a>10318   QCPBarDataMap::const_iterator it = <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;constBegin();
<a name="l10319"></a>10319   <span class="keywordflow">while</span> (it != <a class="code" href="class_q_c_p_bars.html#aef28d29d51ef84b608ecd22c55d531ff">mData</a>-&gt;constEnd())
<a name="l10320"></a>10320   {
<a name="l10321"></a>10321     current = it.value().value + <a class="code" href="class_q_c_p_bars.html#ab60a3c4b8e7c59f0f14e25590d96fa4e">getBaseValue</a>(it.value().key, it.value().value &gt;= 0);
<a name="l10322"></a>10322     <span class="keywordflow">if</span> (inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60" title="Both sign domains, including zero, i.e. all (rational) numbers.">sdBoth</a> || (inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63" title="The negative sign domain, i.e. numbers smaller than zero.">sdNegative</a> &amp;&amp; current &lt; 0) || (inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030" title="The positive sign domain, i.e. numbers greater than zero.">sdPositive</a> &amp;&amp; current &gt; 0))
<a name="l10323"></a>10323     {
<a name="l10324"></a>10324       <span class="keywordflow">if</span> (current &lt; range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> || !haveLower)
<a name="l10325"></a>10325       {
<a name="l10326"></a>10326         range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> = current;
<a name="l10327"></a>10327         haveLower = <span class="keyword">true</span>;
<a name="l10328"></a>10328       }
<a name="l10329"></a>10329       <span class="keywordflow">if</span> (current &gt; range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> || !haveUpper)
<a name="l10330"></a>10330       {
<a name="l10331"></a>10331         range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> = current;
<a name="l10332"></a>10332         haveUpper = <span class="keyword">true</span>;
<a name="l10333"></a>10333       }
<a name="l10334"></a>10334     }
<a name="l10335"></a>10335     ++it;
<a name="l10336"></a>10336   }
<a name="l10337"></a>10337   
<a name="l10338"></a>10338   validRange = range.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> &lt; range.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a>;
<a name="l10339"></a>10339   <span class="keywordflow">return</span> range;
<a name="l10340"></a>10340 }
<a name="l10341"></a>10341 
<a name="l10342"></a>10342 
<a name="l10343"></a>10343 <span class="comment">// ================================================================================</span>
<a name="l10344"></a>10344 <span class="comment">// =================== QCPStatisticalBox</span>
<a name="l10345"></a>10345 <span class="comment">// ================================================================================</span>
<a name="l10346"></a>10346 
<a name="l10408"></a><a class="code" href="class_q_c_p_statistical_box.html#a75c2b3e7fcd0741cc981693a2ba63b27">10408</a> <a class="code" href="class_q_c_p_statistical_box.html#a75c2b3e7fcd0741cc981693a2ba63b27">QCPStatisticalBox::QCPStatisticalBox</a>(<a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *keyAxis, <a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *valueAxis) :
<a name="l10409"></a>10409   <a class="code" href="class_q_c_p_abstract_plottable.html" title="The abstract base class for all data representing objects in a plot.">QCPAbstractPlottable</a>(keyAxis, valueAxis),
<a name="l10410"></a>10410   mKey(0),
<a name="l10411"></a>10411   mMinimum(0),
<a name="l10412"></a>10412   mLowerQuartile(0),
<a name="l10413"></a>10413   mMedian(0),
<a name="l10414"></a>10414   mUpperQuartile(0),
<a name="l10415"></a>10415   mMaximum(0)
<a name="l10416"></a>10416 {
<a name="l10417"></a>10417   <a class="code" href="class_q_c_p_statistical_box.html#a1cb2469552f6f6615b1f6d7398463e5c">setOutlierStyle</a>(<a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa13ed43d724ecefa84baae4179de3bd8d" title="a circle which is not filled">QCP::ssCircle</a>);
<a name="l10418"></a>10418   <a class="code" href="class_q_c_p_statistical_box.html#ae784a5ea2da652e24445d36fbc0b0854">setOutlierSize</a>(5);
<a name="l10419"></a>10419   <a class="code" href="class_q_c_p_statistical_box.html#adf378812446bd66f34d1f7f293d991cd">setWhiskerWidth</a>(0.2);
<a name="l10420"></a>10420   <a class="code" href="class_q_c_p_statistical_box.html#a0b62775bd67301b1eba5c785f2b26f14">setWidth</a>(0.5);
<a name="l10421"></a>10421   
<a name="l10422"></a>10422   <a class="code" href="class_q_c_p_abstract_plottable.html#ab74b09ae4c0e7e13142fe4b5bf46cac7">setPen</a>(QPen(Qt::black));
<a name="l10423"></a>10423   <a class="code" href="class_q_c_p_abstract_plottable.html#a6911603cad23ab0469b108224517516f">setSelectedPen</a>(QPen(Qt::blue, 2.5));
<a name="l10424"></a>10424   <a class="code" href="class_q_c_p_statistical_box.html#a7260ac55b669f5d0a74f16d5ca84c52c">setMedianPen</a>(QPen(Qt::black, 3, Qt::SolidLine, Qt::FlatCap));
<a name="l10425"></a>10425   <a class="code" href="class_q_c_p_statistical_box.html#a4a5034cb3b9b040444df05ab1684620b">setWhiskerPen</a>(QPen(Qt::black, 0, Qt::DashLine, Qt::FlatCap));
<a name="l10426"></a>10426   <a class="code" href="class_q_c_p_statistical_box.html#aa8d3e503897788e1abf68dc74b5f147f">setWhiskerBarPen</a>(QPen(Qt::black));
<a name="l10427"></a>10427   <a class="code" href="class_q_c_p_statistical_box.html#ac9079d5e27f1daf4d546f5a21246fc28">setOutlierPen</a>(QPen(Qt::blue));
<a name="l10428"></a>10428   <a class="code" href="class_q_c_p_abstract_plottable.html#a7a4b92144dca6453a1f0f210e27edc74">setBrush</a>(Qt::NoBrush);
<a name="l10429"></a>10429   <a class="code" href="class_q_c_p_abstract_plottable.html#ae8c816874089f7a44001e8618e81a9dc">setSelectedBrush</a>(Qt::NoBrush);
<a name="l10430"></a>10430 }
<a name="l10431"></a>10431 
<a name="l10432"></a><a class="code" href="class_q_c_p_statistical_box.html#a5a222d7a646b36bf6e77d6e6e1264690">10432</a> <a class="code" href="class_q_c_p_statistical_box.html#a5a222d7a646b36bf6e77d6e6e1264690">QCPStatisticalBox::~QCPStatisticalBox</a>()
<a name="l10433"></a>10433 {
<a name="l10434"></a>10434 }
<a name="l10435"></a>10435 
<a name="l10439"></a><a class="code" href="class_q_c_p_statistical_box.html#a84a1c6d34b2f9af40bca0c527d51e97e">10439</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_statistical_box.html#a84a1c6d34b2f9af40bca0c527d51e97e">QCPStatisticalBox::setKey</a>(<span class="keywordtype">double</span> key)
<a name="l10440"></a>10440 {
<a name="l10441"></a>10441   <a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a> = <a class="code" href="class_q_c_p_statistical_box.html#a767af754f39872d6308b900a0d1758ca">key</a>;
<a name="l10442"></a>10442 }
<a name="l10443"></a>10443 
<a name="l10450"></a><a class="code" href="class_q_c_p_statistical_box.html#a84ff7cc61ba44890f0c3e0c99c19941e">10450</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_statistical_box.html#a84ff7cc61ba44890f0c3e0c99c19941e">QCPStatisticalBox::setMinimum</a>(<span class="keywordtype">double</span> value)
<a name="l10451"></a>10451 {
<a name="l10452"></a>10452   <a class="code" href="class_q_c_p_statistical_box.html#a7143ece4e7e5f9ac010739fbc390bf0c">mMinimum</a> = value;
<a name="l10453"></a>10453 }
<a name="l10454"></a>10454 
<a name="l10462"></a><a class="code" href="class_q_c_p_statistical_box.html#a680941af5e23d902013962fa67223f9e">10462</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_statistical_box.html#a680941af5e23d902013962fa67223f9e">QCPStatisticalBox::setLowerQuartile</a>(<span class="keywordtype">double</span> value)
<a name="l10463"></a>10463 {
<a name="l10464"></a>10464   <a class="code" href="class_q_c_p_statistical_box.html#acac86cac93d9fa3d820b5aaa04ed96f6">mLowerQuartile</a> = value;
<a name="l10465"></a>10465 }
<a name="l10466"></a>10466 
<a name="l10474"></a><a class="code" href="class_q_c_p_statistical_box.html#a65970e77a897da4ecb4b15300868aad3">10474</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_statistical_box.html#a65970e77a897da4ecb4b15300868aad3">QCPStatisticalBox::setMedian</a>(<span class="keywordtype">double</span> value)
<a name="l10475"></a>10475 {
<a name="l10476"></a>10476   <a class="code" href="class_q_c_p_statistical_box.html#ae43287ca13c8166bde2ac19bf0969d23">mMedian</a> = value;
<a name="l10477"></a>10477 }
<a name="l10478"></a>10478 
<a name="l10486"></a><a class="code" href="class_q_c_p_statistical_box.html#a65a1375f941c5a2077b5201229e89346">10486</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_statistical_box.html#a65a1375f941c5a2077b5201229e89346">QCPStatisticalBox::setUpperQuartile</a>(<span class="keywordtype">double</span> value)
<a name="l10487"></a>10487 {
<a name="l10488"></a>10488   <a class="code" href="class_q_c_p_statistical_box.html#a865afbcca332ee851aa45807381bc80e">mUpperQuartile</a> = value;
<a name="l10489"></a>10489 }
<a name="l10490"></a>10490 
<a name="l10497"></a><a class="code" href="class_q_c_p_statistical_box.html#acec5ad1901f00f2c5387cfb4d9787eb3">10497</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_statistical_box.html#acec5ad1901f00f2c5387cfb4d9787eb3">QCPStatisticalBox::setMaximum</a>(<span class="keywordtype">double</span> value)
<a name="l10498"></a>10498 {
<a name="l10499"></a>10499   <a class="code" href="class_q_c_p_statistical_box.html#a16266f1e0e4e8e95b5d141c49479ef2e">mMaximum</a> = value;
<a name="l10500"></a>10500 }
<a name="l10501"></a>10501 
<a name="l10509"></a><a class="code" href="class_q_c_p_statistical_box.html#af9bc09620e0bf93bf444ee35e5800d1d">10509</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_statistical_box.html#af9bc09620e0bf93bf444ee35e5800d1d">QCPStatisticalBox::setOutliers</a>(<span class="keyword">const</span> QVector&lt;double&gt; &amp;values)
<a name="l10510"></a>10510 {
<a name="l10511"></a>10511   <a class="code" href="class_q_c_p_statistical_box.html#a415e2f77a89396c2af999afe027bdf6c">mOutliers</a> = values;
<a name="l10512"></a>10512 }
<a name="l10513"></a>10513 
<a name="l10519"></a><a class="code" href="class_q_c_p_statistical_box.html#adf50c57b635edb12470c0e4a986aff37">10519</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_statistical_box.html#adf50c57b635edb12470c0e4a986aff37">QCPStatisticalBox::setData</a>(<span class="keywordtype">double</span> key, <span class="keywordtype">double</span> minimum, <span class="keywordtype">double</span> lowerQuartile, <span class="keywordtype">double</span> median, <span class="keywordtype">double</span> upperQuartile, <span class="keywordtype">double</span> maximum)
<a name="l10520"></a>10520 {
<a name="l10521"></a>10521   <a class="code" href="class_q_c_p_statistical_box.html#a84a1c6d34b2f9af40bca0c527d51e97e">setKey</a>(key);
<a name="l10522"></a>10522   <a class="code" href="class_q_c_p_statistical_box.html#a84ff7cc61ba44890f0c3e0c99c19941e">setMinimum</a>(minimum);
<a name="l10523"></a>10523   <a class="code" href="class_q_c_p_statistical_box.html#a680941af5e23d902013962fa67223f9e">setLowerQuartile</a>(lowerQuartile);
<a name="l10524"></a>10524   <a class="code" href="class_q_c_p_statistical_box.html#a65970e77a897da4ecb4b15300868aad3">setMedian</a>(median);
<a name="l10525"></a>10525   <a class="code" href="class_q_c_p_statistical_box.html#a65a1375f941c5a2077b5201229e89346">setUpperQuartile</a>(upperQuartile);
<a name="l10526"></a>10526   <a class="code" href="class_q_c_p_statistical_box.html#acec5ad1901f00f2c5387cfb4d9787eb3">setMaximum</a>(maximum);
<a name="l10527"></a>10527 }
<a name="l10528"></a>10528 
<a name="l10534"></a><a class="code" href="class_q_c_p_statistical_box.html#a0b62775bd67301b1eba5c785f2b26f14">10534</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_statistical_box.html#a0b62775bd67301b1eba5c785f2b26f14">QCPStatisticalBox::setWidth</a>(<span class="keywordtype">double</span> width)
<a name="l10535"></a>10535 {
<a name="l10536"></a>10536   <a class="code" href="class_q_c_p_statistical_box.html#af365e40b0f706c3d76f857c7957f629d">mWidth</a> = <a class="code" href="class_q_c_p_statistical_box.html#a0733a7bd575fc5929ce6d507bcc2a04c">width</a>;
<a name="l10537"></a>10537 }
<a name="l10538"></a>10538 
<a name="l10544"></a><a class="code" href="class_q_c_p_statistical_box.html#adf378812446bd66f34d1f7f293d991cd">10544</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_statistical_box.html#adf378812446bd66f34d1f7f293d991cd">QCPStatisticalBox::setWhiskerWidth</a>(<span class="keywordtype">double</span> width)
<a name="l10545"></a>10545 {
<a name="l10546"></a>10546   <a class="code" href="class_q_c_p_statistical_box.html#a4d166474f845d5db626e8b11a0815a6f">mWhiskerWidth</a> = <a class="code" href="class_q_c_p_statistical_box.html#a0733a7bd575fc5929ce6d507bcc2a04c">width</a>;
<a name="l10547"></a>10547 }
<a name="l10548"></a>10548 
<a name="l10557"></a><a class="code" href="class_q_c_p_statistical_box.html#a4a5034cb3b9b040444df05ab1684620b">10557</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_statistical_box.html#a4a5034cb3b9b040444df05ab1684620b">QCPStatisticalBox::setWhiskerPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l10558"></a>10558 {
<a name="l10559"></a>10559   <a class="code" href="class_q_c_p_statistical_box.html#a25b7552499f0f090fcff02858b2265a5">mWhiskerPen</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#a41d060007cc6b3037c9c04d22d0c0398">pen</a>;
<a name="l10560"></a>10560 }
<a name="l10561"></a>10561 
<a name="l10568"></a><a class="code" href="class_q_c_p_statistical_box.html#aa8d3e503897788e1abf68dc74b5f147f">10568</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_statistical_box.html#aa8d3e503897788e1abf68dc74b5f147f">QCPStatisticalBox::setWhiskerBarPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l10569"></a>10569 {
<a name="l10570"></a>10570   <a class="code" href="class_q_c_p_statistical_box.html#aa719b1d722a9f82364df1497a6dc1da8">mWhiskerBarPen</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#a41d060007cc6b3037c9c04d22d0c0398">pen</a>;
<a name="l10571"></a>10571 }
<a name="l10572"></a>10572 
<a name="l10579"></a><a class="code" href="class_q_c_p_statistical_box.html#a7260ac55b669f5d0a74f16d5ca84c52c">10579</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_statistical_box.html#a7260ac55b669f5d0a74f16d5ca84c52c">QCPStatisticalBox::setMedianPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l10580"></a>10580 {
<a name="l10581"></a>10581   <a class="code" href="class_q_c_p_statistical_box.html#a1af5b601049c575f778ae270f40c9443">mMedianPen</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#a41d060007cc6b3037c9c04d22d0c0398">pen</a>;
<a name="l10582"></a>10582 }
<a name="l10583"></a>10583 
<a name="l10589"></a><a class="code" href="class_q_c_p_statistical_box.html#ae784a5ea2da652e24445d36fbc0b0854">10589</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_statistical_box.html#ae784a5ea2da652e24445d36fbc0b0854">QCPStatisticalBox::setOutlierSize</a>(<span class="keywordtype">double</span> pixels)
<a name="l10590"></a>10590 {
<a name="l10591"></a>10591   <a class="code" href="class_q_c_p_statistical_box.html#a18599f1d2e0358ea26cdaedb9f53c409">mOutlierSize</a> = pixels;
<a name="l10592"></a>10592 }
<a name="l10593"></a>10593 
<a name="l10599"></a><a class="code" href="class_q_c_p_statistical_box.html#ac9079d5e27f1daf4d546f5a21246fc28">10599</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_statistical_box.html#ac9079d5e27f1daf4d546f5a21246fc28">QCPStatisticalBox::setOutlierPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l10600"></a>10600 {
<a name="l10601"></a>10601   <a class="code" href="class_q_c_p_statistical_box.html#a356a264fcbca567a5d55fedaa9dfbc9c">mOutlierPen</a> = <a class="code" href="class_q_c_p_abstract_plottable.html#a41d060007cc6b3037c9c04d22d0c0398">pen</a>;
<a name="l10602"></a>10602 }
<a name="l10603"></a>10603 
<a name="l10609"></a><a class="code" href="class_q_c_p_statistical_box.html#a1cb2469552f6f6615b1f6d7398463e5c">10609</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_statistical_box.html#a1cb2469552f6f6615b1f6d7398463e5c">QCPStatisticalBox::setOutlierStyle</a>(<a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26f">QCP::ScatterStyle</a> style)
<a name="l10610"></a>10610 {
<a name="l10611"></a>10611   <a class="code" href="class_q_c_p_statistical_box.html#abf80fa499e29db8995bcf7f4be28bb5c">mOutlierStyle</a> = style;
<a name="l10612"></a>10612 }
<a name="l10613"></a>10613 
<a name="l10614"></a>10614 <span class="comment">/* inherits documentation from base class */</span>
<a name="l10615"></a><a class="code" href="class_q_c_p_statistical_box.html#a19112994449df0c20287858436cc68e3">10615</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_statistical_box.html#a19112994449df0c20287858436cc68e3">QCPStatisticalBox::clearData</a>()
<a name="l10616"></a>10616 {
<a name="l10617"></a>10617   <a class="code" href="class_q_c_p_statistical_box.html#af9bc09620e0bf93bf444ee35e5800d1d">setOutliers</a>(QVector&lt;double&gt;());
<a name="l10618"></a>10618   <a class="code" href="class_q_c_p_statistical_box.html#a84a1c6d34b2f9af40bca0c527d51e97e">setKey</a>(0);
<a name="l10619"></a>10619   <a class="code" href="class_q_c_p_statistical_box.html#a84ff7cc61ba44890f0c3e0c99c19941e">setMinimum</a>(0);
<a name="l10620"></a>10620   <a class="code" href="class_q_c_p_statistical_box.html#a680941af5e23d902013962fa67223f9e">setLowerQuartile</a>(0);
<a name="l10621"></a>10621   <a class="code" href="class_q_c_p_statistical_box.html#a65970e77a897da4ecb4b15300868aad3">setMedian</a>(0);
<a name="l10622"></a>10622   <a class="code" href="class_q_c_p_statistical_box.html#a65a1375f941c5a2077b5201229e89346">setUpperQuartile</a>(0);
<a name="l10623"></a>10623   <a class="code" href="class_q_c_p_statistical_box.html#acec5ad1901f00f2c5387cfb4d9787eb3">setMaximum</a>(0);
<a name="l10624"></a>10624 }
<a name="l10625"></a>10625 
<a name="l10626"></a>10626 <span class="comment">/* inherits documentation from base class */</span>
<a name="l10627"></a><a class="code" href="class_q_c_p_statistical_box.html#acf75fbec885886546ae11ca194ad2aec">10627</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_statistical_box.html#acf75fbec885886546ae11ca194ad2aec">QCPStatisticalBox::selectTest</a>(<span class="keyword">const</span> QPointF &amp;pos)<span class="keyword"> const</span>
<a name="l10628"></a>10628 <span class="keyword"></span>{
<a name="l10629"></a>10629   <span class="keywordtype">double</span> posKey, posValue;
<a name="l10630"></a>10630   <a class="code" href="class_q_c_p_abstract_plottable.html#a10408828446e9e0681c46d65120f382e">pixelsToCoords</a>(pos, posKey, posValue);
<a name="l10631"></a>10631   <span class="comment">// quartile box:</span>
<a name="l10632"></a>10632   <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> keyRange(<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>-<a class="code" href="class_q_c_p_statistical_box.html#af365e40b0f706c3d76f857c7957f629d">mWidth</a>*0.5, <a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>+<a class="code" href="class_q_c_p_statistical_box.html#af365e40b0f706c3d76f857c7957f629d">mWidth</a>*0.5);
<a name="l10633"></a>10633   <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> valueRange(<a class="code" href="class_q_c_p_statistical_box.html#acac86cac93d9fa3d820b5aaa04ed96f6">mLowerQuartile</a>, <a class="code" href="class_q_c_p_statistical_box.html#a865afbcca332ee851aa45807381bc80e">mUpperQuartile</a>);
<a name="l10634"></a>10634   <span class="keywordflow">if</span> (keyRange.<a class="code" href="class_q_c_p_range.html#a030ce95b527c32e01414d0351347b46d">contains</a>(posKey) &amp;&amp; valueRange.<a class="code" href="class_q_c_p_range.html#a030ce95b527c32e01414d0351347b46d">contains</a>(posValue))
<a name="l10635"></a>10635     <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a7b738074c75e80070ef6a10263c6cd69">selectionTolerance</a>()*0.99;
<a name="l10636"></a>10636   
<a name="l10637"></a>10637   <span class="comment">// min/max whiskers:</span>
<a name="l10638"></a>10638   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a>(<a class="code" href="class_q_c_p_statistical_box.html#a7143ece4e7e5f9ac010739fbc390bf0c">mMinimum</a>, <a class="code" href="class_q_c_p_statistical_box.html#a16266f1e0e4e8e95b5d141c49479ef2e">mMaximum</a>).contains(posValue))
<a name="l10639"></a>10639     <span class="keywordflow">return</span> qAbs(<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>)-<a class="code" href="class_q_c_p_abstract_plottable.html#a692421b963472fa6e16156a74ba96832">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(posKey));
<a name="l10640"></a>10640   
<a name="l10641"></a>10641   <span class="keywordflow">return</span> -1;
<a name="l10642"></a>10642 }
<a name="l10643"></a>10643 
<a name="l10644"></a>10644 <span class="comment">/* inherits documentation from base class */</span>
<a name="l10645"></a><a class="code" href="class_q_c_p_statistical_box.html#a753b62761217dd6b92f8a29e286a1317">10645</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_statistical_box.html#a753b62761217dd6b92f8a29e286a1317">QCPStatisticalBox::draw</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)
<a name="l10646"></a>10646 {
<a name="l10647"></a>10647   QRectF quartileBox;
<a name="l10648"></a>10648   <a class="code" href="class_q_c_p_statistical_box.html#a9ad0abdb154fefb04e9872f0db8e2ec7">drawQuartileBox</a>(painter, &amp;quartileBox);
<a name="l10649"></a>10649   
<a name="l10650"></a>10650   painter-&gt;<a class="code" href="class_q_c_p_painter.html#a8fd6821ee6fecbfa04444c9062912abd">save</a>();
<a name="l10651"></a>10651   painter-&gt;setClipRect(quartileBox, Qt::IntersectClip);
<a name="l10652"></a>10652   <a class="code" href="class_q_c_p_statistical_box.html#a16fef8bc19e5a09d82033edcfe919495">drawMedian</a>(painter);
<a name="l10653"></a>10653   painter-&gt;<a class="code" href="class_q_c_p_painter.html#a64908e6298d5bbd83457dc987cc3a022">restore</a>();
<a name="l10654"></a>10654   
<a name="l10655"></a>10655   <a class="code" href="class_q_c_p_statistical_box.html#a6f8d093ec7e404529388d02da4c72b34">drawWhiskers</a>(painter);
<a name="l10656"></a>10656   <a class="code" href="class_q_c_p_statistical_box.html#a60ebb332a497f51ace837767db5105b9">drawOutliers</a>(painter);
<a name="l10657"></a>10657 }
<a name="l10658"></a>10658 
<a name="l10659"></a>10659 <span class="comment">/* inherits documentation from base class */</span>
<a name="l10660"></a><a class="code" href="class_q_c_p_statistical_box.html#af010b2f9e32b8183984486e4d66e46c4">10660</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_statistical_box.html#af010b2f9e32b8183984486e4d66e46c4">QCPStatisticalBox::drawLegendIcon</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter, <span class="keyword">const</span> QRect &amp;rect)<span class="keyword"> const</span>
<a name="l10661"></a>10661 <span class="keyword"></span>{
<a name="l10662"></a>10662   <span class="comment">// draw filled rect:</span>
<a name="l10663"></a>10663   <a class="code" href="class_q_c_p_abstract_plottable.html#a76e9d6cc7972dc1528f526d163766aca">applyDefaultAntialiasingHint</a>(painter);
<a name="l10664"></a>10664   painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_abstract_plottable.html#a67bc0622fd1b9fa14e54c14922dcec66">mPen</a>);
<a name="l10665"></a>10665   painter-&gt;setBrush(<a class="code" href="class_q_c_p_abstract_plottable.html#a33f00674c0161c13315ab9da0895418e">mBrush</a>);
<a name="l10666"></a>10666   QRectF r = QRectF(0, 0, rect.width()*0.67, rect.height()*0.67);
<a name="l10667"></a>10667   r.moveCenter(rect.center());
<a name="l10668"></a>10668   painter-&gt;drawRect(r);
<a name="l10669"></a>10669 }
<a name="l10670"></a>10670 
<a name="l10677"></a><a class="code" href="class_q_c_p_statistical_box.html#a9ad0abdb154fefb04e9872f0db8e2ec7">10677</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_statistical_box.html#a9ad0abdb154fefb04e9872f0db8e2ec7">QCPStatisticalBox::drawQuartileBox</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter, QRectF *quartileBox)<span class="keyword"> const</span>
<a name="l10678"></a>10678 <span class="keyword"></span>{
<a name="l10679"></a>10679   QRectF box;
<a name="l10680"></a>10680   box.setTopLeft(<a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>-<a class="code" href="class_q_c_p_statistical_box.html#af365e40b0f706c3d76f857c7957f629d">mWidth</a>*0.5, <a class="code" href="class_q_c_p_statistical_box.html#a865afbcca332ee851aa45807381bc80e">mUpperQuartile</a>));
<a name="l10681"></a>10681   box.setBottomRight(<a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>+<a class="code" href="class_q_c_p_statistical_box.html#af365e40b0f706c3d76f857c7957f629d">mWidth</a>*0.5, <a class="code" href="class_q_c_p_statistical_box.html#acac86cac93d9fa3d820b5aaa04ed96f6">mLowerQuartile</a>));
<a name="l10682"></a>10682   <a class="code" href="class_q_c_p_abstract_plottable.html#a76e9d6cc7972dc1528f526d163766aca">applyDefaultAntialiasingHint</a>(painter);
<a name="l10683"></a>10683   painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_abstract_plottable.html#a19276ed2382a3a06464417b8788b1451">mainPen</a>());
<a name="l10684"></a>10684   painter-&gt;setBrush(<a class="code" href="class_q_c_p_abstract_plottable.html#ae74c123832da180c17e22203e748d9b7">mainBrush</a>());
<a name="l10685"></a>10685   painter-&gt;drawRect(box);
<a name="l10686"></a>10686   <span class="keywordflow">if</span> (quartileBox)
<a name="l10687"></a>10687     *quartileBox = box;
<a name="l10688"></a>10688 }
<a name="l10689"></a>10689 
<a name="l10694"></a><a class="code" href="class_q_c_p_statistical_box.html#a16fef8bc19e5a09d82033edcfe919495">10694</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_statistical_box.html#a16fef8bc19e5a09d82033edcfe919495">QCPStatisticalBox::drawMedian</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)<span class="keyword"> const</span>
<a name="l10695"></a>10695 <span class="keyword"></span>{
<a name="l10696"></a>10696   QLineF medianLine;
<a name="l10697"></a>10697   medianLine.setP1(<a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>-<a class="code" href="class_q_c_p_statistical_box.html#af365e40b0f706c3d76f857c7957f629d">mWidth</a>*0.5, <a class="code" href="class_q_c_p_statistical_box.html#ae43287ca13c8166bde2ac19bf0969d23">mMedian</a>));
<a name="l10698"></a>10698   medianLine.setP2(<a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>+<a class="code" href="class_q_c_p_statistical_box.html#af365e40b0f706c3d76f857c7957f629d">mWidth</a>*0.5, <a class="code" href="class_q_c_p_statistical_box.html#ae43287ca13c8166bde2ac19bf0969d23">mMedian</a>));
<a name="l10699"></a>10699   <a class="code" href="class_q_c_p_abstract_plottable.html#a76e9d6cc7972dc1528f526d163766aca">applyDefaultAntialiasingHint</a>(painter);
<a name="l10700"></a>10700   painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_statistical_box.html#a1af5b601049c575f778ae270f40c9443">mMedianPen</a>);
<a name="l10701"></a>10701   painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(medianLine);
<a name="l10702"></a>10702 }
<a name="l10703"></a>10703 
<a name="l10708"></a><a class="code" href="class_q_c_p_statistical_box.html#a6f8d093ec7e404529388d02da4c72b34">10708</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_statistical_box.html#a6f8d093ec7e404529388d02da4c72b34">QCPStatisticalBox::drawWhiskers</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)<span class="keyword"> const</span>
<a name="l10709"></a>10709 <span class="keyword"></span>{
<a name="l10710"></a>10710   QLineF backboneMin, backboneMax, barMin, barMax;
<a name="l10711"></a>10711   backboneMax.setPoints(<a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>, <a class="code" href="class_q_c_p_statistical_box.html#a865afbcca332ee851aa45807381bc80e">mUpperQuartile</a>), <a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>, <a class="code" href="class_q_c_p_statistical_box.html#a16266f1e0e4e8e95b5d141c49479ef2e">mMaximum</a>));
<a name="l10712"></a>10712   backboneMin.setPoints(<a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>, <a class="code" href="class_q_c_p_statistical_box.html#acac86cac93d9fa3d820b5aaa04ed96f6">mLowerQuartile</a>), <a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>, <a class="code" href="class_q_c_p_statistical_box.html#a7143ece4e7e5f9ac010739fbc390bf0c">mMinimum</a>));
<a name="l10713"></a>10713   barMax.setPoints(<a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>-<a class="code" href="class_q_c_p_statistical_box.html#a4d166474f845d5db626e8b11a0815a6f">mWhiskerWidth</a>*0.5, <a class="code" href="class_q_c_p_statistical_box.html#a16266f1e0e4e8e95b5d141c49479ef2e">mMaximum</a>), <a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>+<a class="code" href="class_q_c_p_statistical_box.html#a4d166474f845d5db626e8b11a0815a6f">mWhiskerWidth</a>*0.5, <a class="code" href="class_q_c_p_statistical_box.html#a16266f1e0e4e8e95b5d141c49479ef2e">mMaximum</a>));
<a name="l10714"></a>10714   barMin.setPoints(<a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>-<a class="code" href="class_q_c_p_statistical_box.html#a4d166474f845d5db626e8b11a0815a6f">mWhiskerWidth</a>*0.5, <a class="code" href="class_q_c_p_statistical_box.html#a7143ece4e7e5f9ac010739fbc390bf0c">mMinimum</a>), <a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>+<a class="code" href="class_q_c_p_statistical_box.html#a4d166474f845d5db626e8b11a0815a6f">mWhiskerWidth</a>*0.5, <a class="code" href="class_q_c_p_statistical_box.html#a7143ece4e7e5f9ac010739fbc390bf0c">mMinimum</a>));
<a name="l10715"></a>10715   <a class="code" href="class_q_c_p_abstract_plottable.html#af687bfe6160255960558eb71f1f81e73">applyErrorBarsAntialiasingHint</a>(painter);
<a name="l10716"></a>10716   painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_statistical_box.html#a25b7552499f0f090fcff02858b2265a5">mWhiskerPen</a>);
<a name="l10717"></a>10717   painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(backboneMin);
<a name="l10718"></a>10718   painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(backboneMax);
<a name="l10719"></a>10719   painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_statistical_box.html#aa719b1d722a9f82364df1497a6dc1da8">mWhiskerBarPen</a>);
<a name="l10720"></a>10720   painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(barMin);
<a name="l10721"></a>10721   painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(barMax);
<a name="l10722"></a>10722 }
<a name="l10723"></a>10723 
<a name="l10728"></a><a class="code" href="class_q_c_p_statistical_box.html#a60ebb332a497f51ace837767db5105b9">10728</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_statistical_box.html#a60ebb332a497f51ace837767db5105b9">QCPStatisticalBox::drawOutliers</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)<span class="keyword"> const</span>
<a name="l10729"></a>10729 <span class="keyword"></span>{
<a name="l10730"></a>10730   <a class="code" href="class_q_c_p_abstract_plottable.html#a753272ee225a62827e90c3e1e78de4b1">applyScattersAntialiasingHint</a>(painter);
<a name="l10731"></a>10731   painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_statistical_box.html#a356a264fcbca567a5d55fedaa9dfbc9c">mOutlierPen</a>);
<a name="l10732"></a>10732   painter-&gt;setBrush(Qt::NoBrush);
<a name="l10733"></a>10733   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_c_p_statistical_box.html#a415e2f77a89396c2af999afe027bdf6c">mOutliers</a>.size(); ++i)
<a name="l10734"></a>10734   {
<a name="l10735"></a>10735     QPointF dataPoint = <a class="code" href="class_q_c_p_abstract_plottable.html#ade710a776104b14c1c835168ce1bfc5c">coordsToPixels</a>(<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>, <a class="code" href="class_q_c_p_statistical_box.html#a415e2f77a89396c2af999afe027bdf6c">mOutliers</a>.at(i));
<a name="l10736"></a>10736     painter-&gt;<a class="code" href="class_q_c_p_painter.html#a3aa145eb9865752d583c40ef995c5049">drawScatter</a>(dataPoint.x(), dataPoint.y(), <a class="code" href="class_q_c_p_statistical_box.html#a18599f1d2e0358ea26cdaedb9f53c409">mOutlierSize</a>, <a class="code" href="class_q_c_p_statistical_box.html#abf80fa499e29db8995bcf7f4be28bb5c">mOutlierStyle</a>);
<a name="l10737"></a>10737   }
<a name="l10738"></a>10738 }
<a name="l10739"></a>10739 
<a name="l10740"></a>10740 <span class="comment">/* inherits documentation from base class */</span>
<a name="l10741"></a><a class="code" href="class_q_c_p_statistical_box.html#a2f66940ae92d7ad438834c861fc2d57f">10741</a> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> <a class="code" href="class_q_c_p_statistical_box.html#a2f66940ae92d7ad438834c861fc2d57f">QCPStatisticalBox::getKeyRange</a>(<span class="keywordtype">bool</span> &amp;validRange, <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8">SignDomain</a> inSignDomain)<span class="keyword"> const</span>
<a name="l10742"></a>10742 <span class="keyword"></span>{
<a name="l10743"></a>10743   validRange = <a class="code" href="class_q_c_p_statistical_box.html#af365e40b0f706c3d76f857c7957f629d">mWidth</a> &gt; 0;
<a name="l10744"></a>10744   <span class="keywordflow">if</span> (inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60" title="Both sign domains, including zero, i.e. all (rational) numbers.">sdBoth</a>)
<a name="l10745"></a>10745   {
<a name="l10746"></a>10746     <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a>(<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>-<a class="code" href="class_q_c_p_statistical_box.html#af365e40b0f706c3d76f857c7957f629d">mWidth</a>*0.5, <a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>+<a class="code" href="class_q_c_p_statistical_box.html#af365e40b0f706c3d76f857c7957f629d">mWidth</a>*0.5);
<a name="l10747"></a>10747   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63" title="The negative sign domain, i.e. numbers smaller than zero.">sdNegative</a>)
<a name="l10748"></a>10748   {
<a name="l10749"></a>10749     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>+<a class="code" href="class_q_c_p_statistical_box.html#af365e40b0f706c3d76f857c7957f629d">mWidth</a>*0.5 &lt; 0)
<a name="l10750"></a>10750       <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a>(<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>-<a class="code" href="class_q_c_p_statistical_box.html#af365e40b0f706c3d76f857c7957f629d">mWidth</a>*0.5, <a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>+<a class="code" href="class_q_c_p_statistical_box.html#af365e40b0f706c3d76f857c7957f629d">mWidth</a>*0.5);
<a name="l10751"></a>10751     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a> &lt; 0)
<a name="l10752"></a>10752       <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a>(<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>-<a class="code" href="class_q_c_p_statistical_box.html#af365e40b0f706c3d76f857c7957f629d">mWidth</a>*0.5, <a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>);
<a name="l10753"></a>10753     <span class="keywordflow">else</span>
<a name="l10754"></a>10754     {
<a name="l10755"></a>10755       validRange = <span class="keyword">false</span>;
<a name="l10756"></a>10756       <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a>();
<a name="l10757"></a>10757     }
<a name="l10758"></a>10758   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030" title="The positive sign domain, i.e. numbers greater than zero.">sdPositive</a>)
<a name="l10759"></a>10759   {
<a name="l10760"></a>10760     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>-<a class="code" href="class_q_c_p_statistical_box.html#af365e40b0f706c3d76f857c7957f629d">mWidth</a>*0.5 &gt; 0)
<a name="l10761"></a>10761       <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a>(<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>-<a class="code" href="class_q_c_p_statistical_box.html#af365e40b0f706c3d76f857c7957f629d">mWidth</a>*0.5, <a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>+<a class="code" href="class_q_c_p_statistical_box.html#af365e40b0f706c3d76f857c7957f629d">mWidth</a>*0.5);
<a name="l10762"></a>10762     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a> &gt; 0)
<a name="l10763"></a>10763       <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a>(<a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>, <a class="code" href="class_q_c_p_statistical_box.html#a86fd1d3be5c5bc11d11eda7517069af4">mKey</a>+<a class="code" href="class_q_c_p_statistical_box.html#af365e40b0f706c3d76f857c7957f629d">mWidth</a>*0.5);
<a name="l10764"></a>10764     <span class="keywordflow">else</span>
<a name="l10765"></a>10765     {
<a name="l10766"></a>10766       validRange = <span class="keyword">false</span>;
<a name="l10767"></a>10767       <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a>();
<a name="l10768"></a>10768     }
<a name="l10769"></a>10769   }
<a name="l10770"></a>10770   validRange = <span class="keyword">false</span>;
<a name="l10771"></a>10771   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a>();
<a name="l10772"></a>10772 }
<a name="l10773"></a>10773 
<a name="l10774"></a>10774 <span class="comment">/* inherits documentation from base class */</span>
<a name="l10775"></a><a class="code" href="class_q_c_p_statistical_box.html#a2db77e9a3c2cc016381340968a250be0">10775</a> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a> <a class="code" href="class_q_c_p_statistical_box.html#a2db77e9a3c2cc016381340968a250be0">QCPStatisticalBox::getValueRange</a>(<span class="keywordtype">bool</span> &amp;validRange, <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8">SignDomain</a> inSignDomain)<span class="keyword"> const</span>
<a name="l10776"></a>10776 <span class="keyword"></span>{
<a name="l10777"></a>10777   <span class="keywordflow">if</span> (inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60" title="Both sign domains, including zero, i.e. all (rational) numbers.">sdBoth</a>)
<a name="l10778"></a>10778   {
<a name="l10779"></a>10779     <span class="keywordtype">double</span> lower = qMin(<a class="code" href="class_q_c_p_statistical_box.html#a7143ece4e7e5f9ac010739fbc390bf0c">mMinimum</a>, qMin(<a class="code" href="class_q_c_p_statistical_box.html#ae43287ca13c8166bde2ac19bf0969d23">mMedian</a>, <a class="code" href="class_q_c_p_statistical_box.html#acac86cac93d9fa3d820b5aaa04ed96f6">mLowerQuartile</a>));
<a name="l10780"></a>10780     <span class="keywordtype">double</span> upper = qMax(<a class="code" href="class_q_c_p_statistical_box.html#a16266f1e0e4e8e95b5d141c49479ef2e">mMaximum</a>, qMax(<a class="code" href="class_q_c_p_statistical_box.html#ae43287ca13c8166bde2ac19bf0969d23">mMedian</a>, <a class="code" href="class_q_c_p_statistical_box.html#a865afbcca332ee851aa45807381bc80e">mUpperQuartile</a>));
<a name="l10781"></a>10781     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_c_p_statistical_box.html#a415e2f77a89396c2af999afe027bdf6c">mOutliers</a>.size(); ++i)
<a name="l10782"></a>10782     {
<a name="l10783"></a>10783       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_statistical_box.html#a415e2f77a89396c2af999afe027bdf6c">mOutliers</a>.at(i) &lt; lower)
<a name="l10784"></a>10784         lower = <a class="code" href="class_q_c_p_statistical_box.html#a415e2f77a89396c2af999afe027bdf6c">mOutliers</a>.at(i);
<a name="l10785"></a>10785       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_statistical_box.html#a415e2f77a89396c2af999afe027bdf6c">mOutliers</a>.at(i) &gt; upper)
<a name="l10786"></a>10786         upper = <a class="code" href="class_q_c_p_statistical_box.html#a415e2f77a89396c2af999afe027bdf6c">mOutliers</a>.at(i);
<a name="l10787"></a>10787     }
<a name="l10788"></a>10788     validRange = upper &gt; lower;
<a name="l10789"></a>10789     <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a>(lower, upper);
<a name="l10790"></a>10790   } <span class="keywordflow">else</span>
<a name="l10791"></a>10791   {
<a name="l10792"></a>10792     QVector&lt;double&gt; values; <span class="comment">// values that must be considered (i.e. all outliers and the five box-parameters)</span>
<a name="l10793"></a>10793     values.reserve(<a class="code" href="class_q_c_p_statistical_box.html#a415e2f77a89396c2af999afe027bdf6c">mOutliers</a>.size() + 5);
<a name="l10794"></a>10794     values &lt;&lt; <a class="code" href="class_q_c_p_statistical_box.html#a16266f1e0e4e8e95b5d141c49479ef2e">mMaximum</a> &lt;&lt; <a class="code" href="class_q_c_p_statistical_box.html#a865afbcca332ee851aa45807381bc80e">mUpperQuartile</a> &lt;&lt; <a class="code" href="class_q_c_p_statistical_box.html#ae43287ca13c8166bde2ac19bf0969d23">mMedian</a> &lt;&lt; <a class="code" href="class_q_c_p_statistical_box.html#acac86cac93d9fa3d820b5aaa04ed96f6">mLowerQuartile</a> &lt;&lt; <a class="code" href="class_q_c_p_statistical_box.html#a7143ece4e7e5f9ac010739fbc390bf0c">mMinimum</a>;
<a name="l10795"></a>10795     values &lt;&lt; <a class="code" href="class_q_c_p_statistical_box.html#a415e2f77a89396c2af999afe027bdf6c">mOutliers</a>;
<a name="l10796"></a>10796     <span class="comment">// go through values and find the ones in legal range:</span>
<a name="l10797"></a>10797     <span class="keywordtype">bool</span> haveUpper = <span class="keyword">false</span>;
<a name="l10798"></a>10798     <span class="keywordtype">bool</span> haveLower = <span class="keyword">false</span>;
<a name="l10799"></a>10799     <span class="keywordtype">double</span> upper = 0;
<a name="l10800"></a>10800     <span class="keywordtype">double</span> lower = 0;
<a name="l10801"></a>10801     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;values.size(); ++i)
<a name="l10802"></a>10802     {
<a name="l10803"></a>10803       <span class="keywordflow">if</span> ((inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63" title="The negative sign domain, i.e. numbers smaller than zero.">sdNegative</a> &amp;&amp; values.at(i) &lt; 0) ||
<a name="l10804"></a>10804           (inSignDomain == <a class="code" href="class_q_c_p_abstract_plottable.html#a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030" title="The positive sign domain, i.e. numbers greater than zero.">sdPositive</a> &amp;&amp; values.at(i) &gt; 0))
<a name="l10805"></a>10805       {
<a name="l10806"></a>10806         <span class="keywordflow">if</span> (values.at(i) &gt; upper || !haveUpper)
<a name="l10807"></a>10807         {
<a name="l10808"></a>10808           upper = values.at(i);
<a name="l10809"></a>10809           haveUpper = <span class="keyword">true</span>;
<a name="l10810"></a>10810         }
<a name="l10811"></a>10811         <span class="keywordflow">if</span> (values.at(i) &lt; lower || !haveLower)
<a name="l10812"></a>10812         {
<a name="l10813"></a>10813           lower = values.at(i);
<a name="l10814"></a>10814           haveLower = <span class="keyword">true</span>;
<a name="l10815"></a>10815         }
<a name="l10816"></a>10816       }
<a name="l10817"></a>10817     }
<a name="l10818"></a>10818     <span class="comment">// return the bounds if we found some sensible values:</span>
<a name="l10819"></a>10819     <span class="keywordflow">if</span> (haveLower &amp;&amp; haveUpper &amp;&amp; lower &lt; upper)
<a name="l10820"></a>10820     {
<a name="l10821"></a>10821       validRange = <span class="keyword">true</span>;
<a name="l10822"></a>10822       <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a>(lower, upper);
<a name="l10823"></a>10823     } <span class="keywordflow">else</span>
<a name="l10824"></a>10824     {
<a name="l10825"></a>10825       validRange = <span class="keyword">false</span>;
<a name="l10826"></a>10826       <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_range.html" title="Represents the range an axis is encompassing.">QCPRange</a>();
<a name="l10827"></a>10827     }
<a name="l10828"></a>10828   }
<a name="l10829"></a>10829 }
<a name="l10830"></a>10830 
<a name="l10831"></a>10831 
<a name="l10832"></a>10832 <span class="comment">// ================================================================================</span>
<a name="l10833"></a>10833 <span class="comment">// =================== QCPAbstractItem</span>
<a name="l10834"></a>10834 <span class="comment">// ================================================================================</span>
<a name="l10835"></a>10835 
<a name="l10955"></a>10955 <span class="comment">/* start of documentation of inline functions */</span>
<a name="l10956"></a>10956 
<a name="l10972"></a>10972 <span class="comment">/* end of documentation of inline functions */</span>
<a name="l10973"></a>10973 <span class="comment">/* start documentation of pure virtual functions */</span>
<a name="l10974"></a>10974 
<a name="l11010"></a>11010 <span class="comment">/* end documentation of pure virtual functions */</span>
<a name="l11011"></a>11011 <span class="comment">/* start documentation of signals */</span>
<a name="l11012"></a>11012 
<a name="l11018"></a>11018 <span class="comment">/* end documentation of signals */</span>
<a name="l11019"></a>11019 
<a name="l11023"></a><a class="code" href="class_q_c_p_abstract_item.html#a9922507d8b4503a1fe1ed0b1030e23b6">11023</a> <a class="code" href="class_q_c_p_abstract_item.html#a9922507d8b4503a1fe1ed0b1030e23b6">QCPAbstractItem::QCPAbstractItem</a>(<a class="code" href="class_q_custom_plot.html" title="The central class of the library, the QWidget which displays the plot and interacts with the user...">QCustomPlot</a> *parentPlot) :
<a name="l11024"></a>11024   <a class="code" href="class_q_c_p_layerable.html" title="Base class for all objects that can be placed on layers.">QCPLayerable</a>(parentPlot),
<a name="l11025"></a>11025   mClipToAxisRect(true),
<a name="l11026"></a>11026   mClipKeyAxis(parentPlot-&gt;xAxis),
<a name="l11027"></a>11027   mClipValueAxis(parentPlot-&gt;yAxis),
<a name="l11028"></a>11028   mSelectable(true),
<a name="l11029"></a>11029   mSelected(false)
<a name="l11030"></a>11030 {
<a name="l11031"></a>11031 }
<a name="l11032"></a>11032 
<a name="l11033"></a><a class="code" href="class_q_c_p_abstract_item.html#a375bd1b7d3218b04a6ff7ff06fff917c">11033</a> <a class="code" href="class_q_c_p_abstract_item.html#a375bd1b7d3218b04a6ff7ff06fff917c">QCPAbstractItem::~QCPAbstractItem</a>()
<a name="l11034"></a>11034 {
<a name="l11035"></a>11035   <span class="comment">// don&#39;t delete mPositions because every position is also an anchor and thus in mAnchors</span>
<a name="l11036"></a>11036   qDeleteAll(<a class="code" href="class_q_c_p_abstract_item.html#a909a3abab783de302ebf0a0e6f2bbc15">mAnchors</a>);
<a name="l11037"></a>11037 }
<a name="l11038"></a>11038 
<a name="l11044"></a><a class="code" href="class_q_c_p_abstract_item.html#a39e05b9d4176b9accafc746d16ca6a06">11044</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_item.html#a39e05b9d4176b9accafc746d16ca6a06">QCPAbstractItem::setClipToAxisRect</a>(<span class="keywordtype">bool</span> clip)
<a name="l11045"></a>11045 {
<a name="l11046"></a>11046   <a class="code" href="class_q_c_p_abstract_item.html#ad2a70ff6b658fcb84a9427f69d3f587d">mClipToAxisRect</a> = clip;
<a name="l11047"></a>11047 }
<a name="l11048"></a>11048 
<a name="l11055"></a><a class="code" href="class_q_c_p_abstract_item.html#aa80abbbdcbfc40994443b03108160aee">11055</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_item.html#aa80abbbdcbfc40994443b03108160aee">QCPAbstractItem::setClipAxes</a>(<a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *keyAxis, <a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *valueAxis)
<a name="l11056"></a>11056 {
<a name="l11057"></a>11057   <a class="code" href="class_q_c_p_abstract_item.html#aa789a7e04cef1f8291409eef58068518">mClipKeyAxis</a> = keyAxis;
<a name="l11058"></a>11058   <a class="code" href="class_q_c_p_abstract_item.html#a5305649de1638fcd59b4356f101d81a9">mClipValueAxis</a> = valueAxis;
<a name="l11059"></a>11059 }
<a name="l11060"></a>11060 
<a name="l11067"></a><a class="code" href="class_q_c_p_abstract_item.html#a8c3e15a8a99fd011c3c017324cd9e4b1">11067</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_item.html#a8c3e15a8a99fd011c3c017324cd9e4b1">QCPAbstractItem::setClipKeyAxis</a>(<a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *axis)
<a name="l11068"></a>11068 {
<a name="l11069"></a>11069   <a class="code" href="class_q_c_p_abstract_item.html#aa789a7e04cef1f8291409eef58068518">mClipKeyAxis</a> = axis;
<a name="l11070"></a>11070 }
<a name="l11071"></a>11071 
<a name="l11078"></a><a class="code" href="class_q_c_p_abstract_item.html#a3cf88353e12d1d0d3bdc20a3b17e1a01">11078</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_item.html#a3cf88353e12d1d0d3bdc20a3b17e1a01">QCPAbstractItem::setClipValueAxis</a>(<a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *axis)
<a name="l11079"></a>11079 {
<a name="l11080"></a>11080   <a class="code" href="class_q_c_p_abstract_item.html#a5305649de1638fcd59b4356f101d81a9">mClipValueAxis</a> = axis;
<a name="l11081"></a>11081 }
<a name="l11082"></a>11082 
<a name="l11092"></a><a class="code" href="class_q_c_p_abstract_item.html#a8a8e32a55bc478b849756a78c2d87fd2">11092</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_item.html#a8a8e32a55bc478b849756a78c2d87fd2">QCPAbstractItem::setSelectable</a>(<span class="keywordtype">bool</span> selectable)
<a name="l11093"></a>11093 {
<a name="l11094"></a>11094   <a class="code" href="class_q_c_p_abstract_item.html#ad81eb35c8726a0f458db9df9732e0e41">mSelectable</a> = <a class="code" href="class_q_c_p_abstract_item.html#a9189e752025533e1595eaade0009a3bc">selectable</a>;
<a name="l11095"></a>11095 }
<a name="l11096"></a>11096 
<a name="l11111"></a><a class="code" href="class_q_c_p_abstract_item.html#a203de94ad586cc44d16c9565f49d3378">11111</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_item.html#a203de94ad586cc44d16c9565f49d3378">QCPAbstractItem::setSelected</a>(<span class="keywordtype">bool</span> selected)
<a name="l11112"></a>11112 {
<a name="l11113"></a>11113   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_item.html#a4bdb3457dad1d268c0f78a44152b9645">mSelected</a> != selected)
<a name="l11114"></a>11114   {
<a name="l11115"></a>11115     <a class="code" href="class_q_c_p_abstract_item.html#a4bdb3457dad1d268c0f78a44152b9645">mSelected</a> = <a class="code" href="class_q_c_p_abstract_item.html#a225865808640d8d9a7dd19f09a2e93f2">selected</a>;
<a name="l11116"></a>11116     emit <a class="code" href="class_q_c_p_abstract_item.html#aa5cffb034fc65dbb91c77e02c1c14251">selectionChanged</a>(<a class="code" href="class_q_c_p_abstract_item.html#a4bdb3457dad1d268c0f78a44152b9645">mSelected</a>);
<a name="l11117"></a>11117   }
<a name="l11118"></a>11118 }
<a name="l11119"></a>11119 
<a name="l11130"></a><a class="code" href="class_q_c_p_abstract_item.html#af71345bd150f87fa1d2442837b87bb59">11130</a> <a class="code" href="class_q_c_p_item_position.html" title="Manages the position of an item.">QCPItemPosition</a> *<a class="code" href="class_q_c_p_abstract_item.html#af71345bd150f87fa1d2442837b87bb59">QCPAbstractItem::position</a>(<span class="keyword">const</span> QString &amp;name)<span class="keyword"> const</span>
<a name="l11131"></a>11131 <span class="keyword"></span>{
<a name="l11132"></a>11132   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_c_p_abstract_item.html#af94ff71b6a15ea6d028ab8bd8eccd012">mPositions</a>.size(); ++i)
<a name="l11133"></a>11133   {
<a name="l11134"></a>11134     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_item.html#af94ff71b6a15ea6d028ab8bd8eccd012">mPositions</a>.at(i)-&gt;name() == name)
<a name="l11135"></a>11135       <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#af94ff71b6a15ea6d028ab8bd8eccd012">mPositions</a>.at(i);
<a name="l11136"></a>11136   }
<a name="l11137"></a>11137   qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;position with name not found:&quot;</span> &lt;&lt; name;
<a name="l11138"></a>11138   <span class="keywordflow">return</span> 0;
<a name="l11139"></a>11139 }
<a name="l11140"></a>11140 
<a name="l11151"></a><a class="code" href="class_q_c_p_abstract_item.html#abed974cba7cc02608c71dad4638e008d">11151</a> <a class="code" href="class_q_c_p_item_anchor.html" title="An anchor of an item to which positions can be attached to.">QCPItemAnchor</a> *<a class="code" href="class_q_c_p_abstract_item.html#abed974cba7cc02608c71dad4638e008d">QCPAbstractItem::anchor</a>(<span class="keyword">const</span> QString &amp;name)<span class="keyword"> const</span>
<a name="l11152"></a>11152 <span class="keyword"></span>{
<a name="l11153"></a>11153   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_c_p_abstract_item.html#a909a3abab783de302ebf0a0e6f2bbc15">mAnchors</a>.size(); ++i)
<a name="l11154"></a>11154   {
<a name="l11155"></a>11155     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_item.html#a909a3abab783de302ebf0a0e6f2bbc15">mAnchors</a>.at(i)-&gt;name() == name)
<a name="l11156"></a>11156       <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#a909a3abab783de302ebf0a0e6f2bbc15">mAnchors</a>.at(i);
<a name="l11157"></a>11157   }
<a name="l11158"></a>11158   qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;anchor with name not found:&quot;</span> &lt;&lt; name;
<a name="l11159"></a>11159   <span class="keywordflow">return</span> 0;
<a name="l11160"></a>11160 }
<a name="l11161"></a>11161 
<a name="l11170"></a><a class="code" href="class_q_c_p_abstract_item.html#acbce9e5ba5252541d19db0c40303357a">11170</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_c_p_abstract_item.html#acbce9e5ba5252541d19db0c40303357a">QCPAbstractItem::hasAnchor</a>(<span class="keyword">const</span> QString &amp;name)<span class="keyword"> const</span>
<a name="l11171"></a>11171 <span class="keyword"></span>{
<a name="l11172"></a>11172   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_c_p_abstract_item.html#a909a3abab783de302ebf0a0e6f2bbc15">mAnchors</a>.size(); ++i)
<a name="l11173"></a>11173   {
<a name="l11174"></a>11174     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_item.html#a909a3abab783de302ebf0a0e6f2bbc15">mAnchors</a>.at(i)-&gt;name() == name)
<a name="l11175"></a>11175       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l11176"></a>11176   }
<a name="l11177"></a>11177   <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l11178"></a>11178 }
<a name="l11179"></a>11179 
<a name="l11189"></a><a class="code" href="class_q_c_p_abstract_item.html#a538e25ff8856534582f5b2b400a46405">11189</a> QRect <a class="code" href="class_q_c_p_abstract_item.html#a538e25ff8856534582f5b2b400a46405">QCPAbstractItem::clipRect</a>()<span class="keyword"> const</span>
<a name="l11190"></a>11190 <span class="keyword"></span>{
<a name="l11191"></a>11191   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_item.html#ad2a70ff6b658fcb84a9427f69d3f587d">mClipToAxisRect</a>)
<a name="l11192"></a>11192   {
<a name="l11193"></a>11193     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_item.html#aa789a7e04cef1f8291409eef58068518">mClipKeyAxis</a> &amp;&amp; <a class="code" href="class_q_c_p_abstract_item.html#a5305649de1638fcd59b4356f101d81a9">mClipValueAxis</a>)
<a name="l11194"></a>11194       <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#aa789a7e04cef1f8291409eef58068518">mClipKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a7fe5b84f4891838b63ed5181f5811dc5">axisRect</a>() | <a class="code" href="class_q_c_p_abstract_item.html#a5305649de1638fcd59b4356f101d81a9">mClipValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a7fe5b84f4891838b63ed5181f5811dc5">axisRect</a>();
<a name="l11195"></a>11195     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_item.html#aa789a7e04cef1f8291409eef58068518">mClipKeyAxis</a>)
<a name="l11196"></a>11196       <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#aa789a7e04cef1f8291409eef58068518">mClipKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a7fe5b84f4891838b63ed5181f5811dc5">axisRect</a>();
<a name="l11197"></a>11197     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_item.html#a5305649de1638fcd59b4356f101d81a9">mClipValueAxis</a>)
<a name="l11198"></a>11198       <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#a5305649de1638fcd59b4356f101d81a9">mClipValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a7fe5b84f4891838b63ed5181f5811dc5">axisRect</a>();
<a name="l11199"></a>11199   }
<a name="l11200"></a>11200   
<a name="l11201"></a>11201   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a953ecdbc28018e7e84cb6213ad3d88c2">viewport</a>();
<a name="l11202"></a>11202 }
<a name="l11203"></a>11203 
<a name="l11216"></a><a class="code" href="class_q_c_p_abstract_item.html#a0839031abdd71067e2256a4d53c7a011">11216</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_abstract_item.html#a0839031abdd71067e2256a4d53c7a011">QCPAbstractItem::applyDefaultAntialiasingHint</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)<span class="keyword"> const</span>
<a name="l11217"></a>11217 <span class="keyword"></span>{
<a name="l11218"></a>11218   <a class="code" href="class_q_c_p_layerable.html#a62bd552d1a45aa9accb24b310542279e">applyAntialiasingHint</a>(painter, <a class="code" href="class_q_c_p_layerable.html#a3ab45a4c76a3333ce42eb217a81733ec">mAntialiased</a>, <a class="code" href="namespace_q_c_p.html#ae55dbe315d41fe80f29ba88100843a0caf7712a85d6b0c75b24301d2fe9484db3" title="0x0040 Main lines of items">QCP::aeItems</a>);
<a name="l11219"></a>11219 }
<a name="l11220"></a>11220 
<a name="l11233"></a><a class="code" href="class_q_c_p_abstract_item.html#acdca343717d625b8abb3c3e38c0ed39d">11233</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_abstract_item.html#acdca343717d625b8abb3c3e38c0ed39d">QCPAbstractItem::distSqrToLine</a>(<span class="keyword">const</span> QPointF &amp;start, <span class="keyword">const</span> QPointF &amp;end, <span class="keyword">const</span> QPointF &amp;point)<span class="keyword"> const</span>
<a name="l11234"></a>11234 <span class="keyword"></span>{
<a name="l11235"></a>11235   QVector2D a(start);
<a name="l11236"></a>11236   QVector2D b(end);
<a name="l11237"></a>11237   QVector2D p(point);
<a name="l11238"></a>11238   QVector2D v(b-a);
<a name="l11239"></a>11239   
<a name="l11240"></a>11240   <span class="keywordtype">double</span> vLengthSqr = v.lengthSquared();
<a name="l11241"></a>11241   <span class="keywordflow">if</span> (!qFuzzyIsNull(vLengthSqr))
<a name="l11242"></a>11242   {
<a name="l11243"></a>11243     <span class="keywordtype">double</span> mu = QVector2D::dotProduct(p-a, v)/vLengthSqr;
<a name="l11244"></a>11244     <span class="keywordflow">if</span> (mu &lt; 0)
<a name="l11245"></a>11245       <span class="keywordflow">return</span> (a-p).lengthSquared();
<a name="l11246"></a>11246     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mu &gt; 1)
<a name="l11247"></a>11247       <span class="keywordflow">return</span> (b-p).lengthSquared();
<a name="l11248"></a>11248     <span class="keywordflow">else</span>
<a name="l11249"></a>11249       <span class="keywordflow">return</span> ((a + mu*v)-p).lengthSquared();
<a name="l11250"></a>11250   } <span class="keywordflow">else</span>
<a name="l11251"></a>11251     <span class="keywordflow">return</span> (a-p).lengthSquared();
<a name="l11252"></a>11252 }
<a name="l11253"></a>11253 
<a name="l11271"></a><a class="code" href="class_q_c_p_abstract_item.html#a4c0e14c4e92df91174cb7183fb363069">11271</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_abstract_item.html#a4c0e14c4e92df91174cb7183fb363069">QCPAbstractItem::rectSelectTest</a>(<span class="keyword">const</span> QRectF &amp;rect, <span class="keyword">const</span> QPointF &amp;pos, <span class="keywordtype">bool</span> filledRect)<span class="keyword"> const</span>
<a name="l11272"></a>11272 <span class="keyword"></span>{
<a name="l11273"></a>11273   <span class="keywordtype">double</span> result = -1;
<a name="l11274"></a>11274 
<a name="l11275"></a>11275   <span class="comment">// distance to border:</span>
<a name="l11276"></a>11276   QList&lt;QLineF&gt; lines;
<a name="l11277"></a>11277   lines &lt;&lt; QLineF(rect.topLeft(), rect.topRight()) &lt;&lt; QLineF(rect.bottomLeft(), rect.bottomRight())
<a name="l11278"></a>11278         &lt;&lt; QLineF(rect.topLeft(), rect.bottomLeft()) &lt;&lt; QLineF(rect.topRight(), rect.bottomRight());
<a name="l11279"></a>11279   <span class="keywordtype">double</span> minDistSqr = std::numeric_limits&lt;double&gt;::max();
<a name="l11280"></a>11280   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;lines.size(); ++i)
<a name="l11281"></a>11281   {
<a name="l11282"></a>11282     <span class="keywordtype">double</span> distSqr = <a class="code" href="class_q_c_p_abstract_item.html#acdca343717d625b8abb3c3e38c0ed39d">distSqrToLine</a>(lines.at(i).p1(), lines.at(i).p2(), pos);
<a name="l11283"></a>11283     <span class="keywordflow">if</span> (distSqr &lt; minDistSqr)
<a name="l11284"></a>11284       minDistSqr = distSqr;
<a name="l11285"></a>11285   }
<a name="l11286"></a>11286   result = qSqrt(minDistSqr);
<a name="l11287"></a>11287   
<a name="l11288"></a>11288   <span class="comment">// filled rect, allow click inside to count as hit:</span>
<a name="l11289"></a>11289   <span class="keywordflow">if</span> (filledRect &amp;&amp; result &gt; <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a7b738074c75e80070ef6a10263c6cd69">selectionTolerance</a>()*0.99)
<a name="l11290"></a>11290   {
<a name="l11291"></a>11291     <span class="keywordflow">if</span> (rect.contains(pos))
<a name="l11292"></a>11292       result = <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a7b738074c75e80070ef6a10263c6cd69">selectionTolerance</a>()*0.99;
<a name="l11293"></a>11293   }
<a name="l11294"></a>11294   <span class="keywordflow">return</span> result;
<a name="l11295"></a>11295 }
<a name="l11296"></a>11296 
<a name="l11307"></a><a class="code" href="class_q_c_p_abstract_item.html#a94bde62b8a2fc133666dcbb8035deeed">11307</a> QPointF <a class="code" href="class_q_c_p_abstract_item.html#a94bde62b8a2fc133666dcbb8035deeed">QCPAbstractItem::anchorPixelPoint</a>(<span class="keywordtype">int</span> anchorId)<span class="keyword"> const</span>
<a name="l11308"></a>11308 <span class="keyword"></span>{
<a name="l11309"></a>11309   qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;called on item which shouldn&#39;t have any anchors (anchorPixelPos not reimplemented). anchorId&quot;</span> &lt;&lt; anchorId;
<a name="l11310"></a>11310   <span class="keywordflow">return</span> QPointF();
<a name="l11311"></a>11311 }
<a name="l11312"></a>11312 
<a name="l11327"></a><a class="code" href="class_q_c_p_abstract_item.html#a75036d39c4d4e2e1a7dd145fff915d32">11327</a> <a class="code" href="class_q_c_p_item_position.html" title="Manages the position of an item.">QCPItemPosition</a> *<a class="code" href="class_q_c_p_abstract_item.html#a75036d39c4d4e2e1a7dd145fff915d32">QCPAbstractItem::createPosition</a>(<span class="keyword">const</span> QString &amp;name)
<a name="l11328"></a>11328 {
<a name="l11329"></a>11329   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_item.html#acbce9e5ba5252541d19db0c40303357a">hasAnchor</a>(name))
<a name="l11330"></a>11330     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;anchor/position with name exists already:&quot;</span> &lt;&lt; name;
<a name="l11331"></a>11331   <a class="code" href="class_q_c_p_item_position.html" title="Manages the position of an item.">QCPItemPosition</a> *newPosition = <span class="keyword">new</span> <a class="code" href="class_q_c_p_item_position.html" title="Manages the position of an item.">QCPItemPosition</a>(<a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>, <span class="keyword">this</span>, name);
<a name="l11332"></a>11332   <a class="code" href="class_q_c_p_abstract_item.html#af94ff71b6a15ea6d028ab8bd8eccd012">mPositions</a>.append(newPosition);
<a name="l11333"></a>11333   <a class="code" href="class_q_c_p_abstract_item.html#a909a3abab783de302ebf0a0e6f2bbc15">mAnchors</a>.append(newPosition); <span class="comment">// every position is also an anchor</span>
<a name="l11334"></a>11334   newPosition-&gt;<a class="code" href="class_q_c_p_item_position.html#aa476abf71ed8fa4c537457ebb1a754ad">setType</a>(<a class="code" href="class_q_c_p_item_position.html#aad9936c22bf43e3d358552f6e86dbdc8ad5ffb8dc99ad73263f7010c77342294c" title="Dynamic positioning at a plot coordinate defined by two axes (see setAxes).">QCPItemPosition::ptPlotCoords</a>);
<a name="l11335"></a>11335   newPosition-&gt;<a class="code" href="class_q_c_p_item_position.html#a2185f45c75ac8cb9be89daeaaad50e37">setAxes</a>(<a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a968b5ac86c181a49bba78c2b62a80cb3">xAxis</a>, <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#af6fea5679725b152c14facd920b19367">yAxis</a>);
<a name="l11336"></a>11336   newPosition-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(0, 0);
<a name="l11337"></a>11337   <span class="keywordflow">return</span> newPosition;
<a name="l11338"></a>11338 }
<a name="l11339"></a>11339 
<a name="l11359"></a><a class="code" href="class_q_c_p_abstract_item.html#af3fc92527802078ca395138748b629a7">11359</a> <a class="code" href="class_q_c_p_item_anchor.html" title="An anchor of an item to which positions can be attached to.">QCPItemAnchor</a> *<a class="code" href="class_q_c_p_abstract_item.html#af3fc92527802078ca395138748b629a7">QCPAbstractItem::createAnchor</a>(<span class="keyword">const</span> QString &amp;name, <span class="keywordtype">int</span> anchorId)
<a name="l11360"></a>11360 {
<a name="l11361"></a>11361   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_item.html#acbce9e5ba5252541d19db0c40303357a">hasAnchor</a>(name))
<a name="l11362"></a>11362     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;anchor/position with name exists already:&quot;</span> &lt;&lt; name;
<a name="l11363"></a>11363   <a class="code" href="class_q_c_p_item_anchor.html" title="An anchor of an item to which positions can be attached to.">QCPItemAnchor</a> *newAnchor = <span class="keyword">new</span> <a class="code" href="class_q_c_p_abstract_item.html#a61767d414fd57af9eb1741b34268c7fc">QCPItemAnchor</a>(<a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>, <span class="keyword">this</span>, name, anchorId);
<a name="l11364"></a>11364   <a class="code" href="class_q_c_p_abstract_item.html#a909a3abab783de302ebf0a0e6f2bbc15">mAnchors</a>.append(newAnchor);
<a name="l11365"></a>11365   <span class="keywordflow">return</span> newAnchor;
<a name="l11366"></a>11366 }
<a name="l11367"></a>11367 
<a name="l11368"></a>11368 
<a name="l11369"></a>11369 <span class="comment">// ================================================================================</span>
<a name="l11370"></a>11370 <span class="comment">// =================== QCPItemPosition</span>
<a name="l11371"></a>11371 <span class="comment">// ================================================================================</span>
<a name="l11372"></a>11372 
<a name="l11404"></a><a class="code" href="class_q_c_p_item_position.html#a3efc524f37fdcd22907545eb77555ce4">11404</a> <a class="code" href="class_q_c_p_item_position.html#a3efc524f37fdcd22907545eb77555ce4">QCPItemPosition::QCPItemPosition</a>(<a class="code" href="class_q_custom_plot.html" title="The central class of the library, the QWidget which displays the plot and interacts with the user...">QCustomPlot</a> *parentPlot, <a class="code" href="class_q_c_p_abstract_item.html" title="The abstract base class for all items in a plot.">QCPAbstractItem</a> *parentItem, <span class="keyword">const</span> QString name) :
<a name="l11405"></a>11405   <a class="code" href="class_q_c_p_item_anchor.html" title="An anchor of an item to which positions can be attached to.">QCPItemAnchor</a>(parentPlot, parentItem, name),
<a name="l11406"></a>11406   mPositionType(ptAbsolute),
<a name="l11407"></a>11407   mKeyAxis(0),
<a name="l11408"></a>11408   mValueAxis(0),
<a name="l11409"></a>11409   mKey(0),
<a name="l11410"></a>11410   mValue(0),
<a name="l11411"></a>11411   mParentAnchor(0)
<a name="l11412"></a>11412 {
<a name="l11413"></a>11413 }
<a name="l11414"></a>11414 
<a name="l11415"></a><a class="code" href="class_q_c_p_item_position.html#ad8a289016f7a62332f9c865c39ab2047">11415</a> <a class="code" href="class_q_c_p_item_position.html#ad8a289016f7a62332f9c865c39ab2047">QCPItemPosition::~QCPItemPosition</a>()
<a name="l11416"></a>11416 {
<a name="l11417"></a>11417   <span class="comment">// unregister as parent at children:</span>
<a name="l11418"></a>11418   <span class="comment">// Note: this is done in ~QCPItemAnchor again, but it&#39;s important QCPItemPosition does it itself, because only then</span>
<a name="l11419"></a>11419   <span class="comment">//       the setParentAnchor(0) call the correct QCPItemPosition::pixelPos function instead of QCPItemAnchor::pixelPos</span>
<a name="l11420"></a>11420   QList&lt;QCPItemPosition*&gt; currentChildren(<a class="code" href="class_q_c_p_item_anchor.html#a5f0e67f395a63e2dd0e29ff1dcaf37b7">mChildren</a>.toList());
<a name="l11421"></a>11421   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;currentChildren.size(); ++i)
<a name="l11422"></a>11422     currentChildren.at(i)-&gt;setParentAnchor(0); <span class="comment">// this acts back on this anchor and child removes itself from mChildren</span>
<a name="l11423"></a>11423   <span class="comment">// unregister as child in parent:</span>
<a name="l11424"></a>11424   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_position.html#a21e37c5a8cabe747a2c60773b23eddeb">mParentAnchor</a>)
<a name="l11425"></a>11425     <a class="code" href="class_q_c_p_item_position.html#a21e37c5a8cabe747a2c60773b23eddeb">mParentAnchor</a>-&gt;<a class="code" href="class_q_c_p_item_anchor.html#ab65ec61984575f737f43c2bb59dd0d76">removeChild</a>(<span class="keyword">this</span>);
<a name="l11426"></a>11426 }
<a name="l11427"></a>11427 
<a name="l11448"></a><a class="code" href="class_q_c_p_item_position.html#aa476abf71ed8fa4c537457ebb1a754ad">11448</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_position.html#aa476abf71ed8fa4c537457ebb1a754ad">QCPItemPosition::setType</a>(<a class="code" href="class_q_c_p_item_position.html#aad9936c22bf43e3d358552f6e86dbdc8">QCPItemPosition::PositionType</a> type)
<a name="l11449"></a>11449 {
<a name="l11450"></a>11450   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_position.html#ac9c7bbca809601323d3ae2542ef2801a">mPositionType</a> != type)
<a name="l11451"></a>11451   {
<a name="l11452"></a>11452     QPointF pixelP = <a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>();
<a name="l11453"></a>11453     <a class="code" href="class_q_c_p_item_position.html#ac9c7bbca809601323d3ae2542ef2801a">mPositionType</a> = <a class="code" href="class_q_c_p_item_position.html#ad64a1a26fbed5b8917e0eb8843099fd6">type</a>;
<a name="l11454"></a>11454     <a class="code" href="class_q_c_p_item_position.html#ab404e56d9ac2ac2df0382c57933a71ef">setPixelPoint</a>(pixelP);
<a name="l11455"></a>11455   }
<a name="l11456"></a>11456 }
<a name="l11457"></a>11457 
<a name="l11473"></a><a class="code" href="class_q_c_p_item_position.html#ac094d67a95d2dceafa0d50b9db3a7e51">11473</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_c_p_item_position.html#ac094d67a95d2dceafa0d50b9db3a7e51">QCPItemPosition::setParentAnchor</a>(<a class="code" href="class_q_c_p_item_anchor.html" title="An anchor of an item to which positions can be attached to.">QCPItemAnchor</a> *parentAnchor, <span class="keywordtype">bool</span> keepPixelPosition)
<a name="l11474"></a>11474 {
<a name="l11475"></a>11475   <span class="comment">// make sure self is not assigned as parent:</span>
<a name="l11476"></a>11476   <span class="keywordflow">if</span> (parentAnchor == <span class="keyword">this</span>)
<a name="l11477"></a>11477   {
<a name="l11478"></a>11478     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;can&#39;t set self as parent anchor&quot;</span> &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span>quintptr<span class="keyword">&gt;</span>(<a class="code" href="class_q_c_p_item_position.html#a0db87cc41efabc1cf94acee7ebe14eee">parentAnchor</a>);
<a name="l11479"></a>11479     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l11480"></a>11480   }
<a name="l11481"></a>11481   <span class="comment">// make sure no recursive parent-child-relationships are created:</span>
<a name="l11482"></a>11482   <a class="code" href="class_q_c_p_item_anchor.html" title="An anchor of an item to which positions can be attached to.">QCPItemAnchor</a> *currentParent = <a class="code" href="class_q_c_p_item_position.html#a0db87cc41efabc1cf94acee7ebe14eee">parentAnchor</a>;
<a name="l11483"></a>11483   <span class="keywordflow">while</span> (currentParent)
<a name="l11484"></a>11484   {
<a name="l11485"></a>11485     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_position.html" title="Manages the position of an item.">QCPItemPosition</a> *currentParentPos = dynamic_cast&lt;QCPItemPosition*&gt;(currentParent))
<a name="l11486"></a>11486     {
<a name="l11487"></a>11487       <span class="comment">// is a QCPItemPosition, might have further parent, so keep iterating</span>
<a name="l11488"></a>11488       <span class="keywordflow">if</span> (currentParentPos == <span class="keyword">this</span>)
<a name="l11489"></a>11489       {
<a name="l11490"></a>11490         qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;can&#39;t create recursive parent-child-relationship&quot;</span> &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span>quintptr<span class="keyword">&gt;</span>(<a class="code" href="class_q_c_p_item_position.html#a0db87cc41efabc1cf94acee7ebe14eee">parentAnchor</a>);
<a name="l11491"></a>11491         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l11492"></a>11492       }
<a name="l11493"></a>11493       currentParent = currentParentPos-&gt;mParentAnchor;
<a name="l11494"></a>11494     } <span class="keywordflow">else</span>
<a name="l11495"></a>11495     {
<a name="l11496"></a>11496       <span class="comment">// is a QCPItemAnchor, can&#39;t have further parent, so just compare parent items</span>
<a name="l11497"></a>11497       <span class="keywordflow">if</span> (currentParent-&gt;<a class="code" href="class_q_c_p_item_anchor.html#a80fad480ad3bb980446ed6ebc00818ae">mParentItem</a> == <a class="code" href="class_q_c_p_item_anchor.html#a80fad480ad3bb980446ed6ebc00818ae">mParentItem</a>)
<a name="l11498"></a>11498       {
<a name="l11499"></a>11499         qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;can&#39;t create recursive parent-child-relationship&quot;</span> &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span>quintptr<span class="keyword">&gt;</span>(<a class="code" href="class_q_c_p_item_position.html#a0db87cc41efabc1cf94acee7ebe14eee">parentAnchor</a>);
<a name="l11500"></a>11500         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l11501"></a>11501       }
<a name="l11502"></a>11502       <span class="keywordflow">break</span>;
<a name="l11503"></a>11503     }
<a name="l11504"></a>11504   }
<a name="l11505"></a>11505   
<a name="l11506"></a>11506   <span class="comment">// if previously no parent set and PosType is still ptPlotCoords, set to ptAbsolute:</span>
<a name="l11507"></a>11507   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_item_position.html#a21e37c5a8cabe747a2c60773b23eddeb">mParentAnchor</a> &amp;&amp; <a class="code" href="class_q_c_p_item_position.html#ac9c7bbca809601323d3ae2542ef2801a">mPositionType</a> == <a class="code" href="class_q_c_p_item_position.html#aad9936c22bf43e3d358552f6e86dbdc8ad5ffb8dc99ad73263f7010c77342294c" title="Dynamic positioning at a plot coordinate defined by two axes (see setAxes).">ptPlotCoords</a>)
<a name="l11508"></a>11508     <a class="code" href="class_q_c_p_item_position.html#aa476abf71ed8fa4c537457ebb1a754ad">setType</a>(<a class="code" href="class_q_c_p_item_position.html#aad9936c22bf43e3d358552f6e86dbdc8a564f5e53e550ead1ec5fc7fc7d0b73e0" title="Static positioning in pixels, starting from the top left corner of the viewport/widget.">ptAbsolute</a>);
<a name="l11509"></a>11509   
<a name="l11510"></a>11510   <span class="comment">// save pixel position:</span>
<a name="l11511"></a>11511   QPointF pixelP;
<a name="l11512"></a>11512   <span class="keywordflow">if</span> (keepPixelPosition)
<a name="l11513"></a>11513     pixelP = <a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>();
<a name="l11514"></a>11514   <span class="comment">// unregister at current parent anchor:</span>
<a name="l11515"></a>11515   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_position.html#a21e37c5a8cabe747a2c60773b23eddeb">mParentAnchor</a>)
<a name="l11516"></a>11516     <a class="code" href="class_q_c_p_item_position.html#a21e37c5a8cabe747a2c60773b23eddeb">mParentAnchor</a>-&gt;<a class="code" href="class_q_c_p_item_anchor.html#ab65ec61984575f737f43c2bb59dd0d76">removeChild</a>(<span class="keyword">this</span>);
<a name="l11517"></a>11517   <span class="comment">// register at new parent anchor:</span>
<a name="l11518"></a>11518   <span class="keywordflow">if</span> (parentAnchor)
<a name="l11519"></a>11519     parentAnchor-&gt;<a class="code" href="class_q_c_p_item_anchor.html#ad11517e2ce5c2f9a798e78fb45e2e0d0">addChild</a>(<span class="keyword">this</span>);
<a name="l11520"></a>11520   <a class="code" href="class_q_c_p_item_position.html#a21e37c5a8cabe747a2c60773b23eddeb">mParentAnchor</a> = <a class="code" href="class_q_c_p_item_position.html#a0db87cc41efabc1cf94acee7ebe14eee">parentAnchor</a>;
<a name="l11521"></a>11521   <span class="comment">// restore pixel position under new parent:</span>
<a name="l11522"></a>11522   <span class="keywordflow">if</span> (keepPixelPosition)
<a name="l11523"></a>11523     <a class="code" href="class_q_c_p_item_position.html#ab404e56d9ac2ac2df0382c57933a71ef">setPixelPoint</a>(pixelP);
<a name="l11524"></a>11524   <span class="keywordflow">else</span>
<a name="l11525"></a>11525     <a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(0, 0);
<a name="l11526"></a>11526   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l11527"></a>11527 }
<a name="l11528"></a>11528 
<a name="l11541"></a><a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">11541</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">QCPItemPosition::setCoords</a>(<span class="keywordtype">double</span> key, <span class="keywordtype">double</span> value)
<a name="l11542"></a>11542 {
<a name="l11543"></a>11543   <a class="code" href="class_q_c_p_item_position.html#a4ff3931ad115603dfb4c7000b24bb415">mKey</a> = <a class="code" href="class_q_c_p_item_position.html#ac3cb2bddf5f89e5181830be30b93d090">key</a>;
<a name="l11544"></a>11544   <a class="code" href="class_q_c_p_item_position.html#a67bf5df69f587d53731724a7d61c6c3f">mValue</a> = <a class="code" href="class_q_c_p_item_position.html#a6817f7356d3a2b63e8446c6b6106dae1">value</a>;
<a name="l11545"></a>11545 }
<a name="l11546"></a>11546 
<a name="l11552"></a><a class="code" href="class_q_c_p_item_position.html#acc70b3abc143287f806e5f154e5e07b0">11552</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">QCPItemPosition::setCoords</a>(<span class="keyword">const</span> QPointF &amp;pos)
<a name="l11553"></a>11553 {
<a name="l11554"></a>11554   <a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(pos.x(), pos.y());
<a name="l11555"></a>11555 }
<a name="l11556"></a>11556 
<a name="l11563"></a><a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">11563</a> QPointF <a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">QCPItemPosition::pixelPoint</a>()<span class="keyword"> const</span>
<a name="l11564"></a>11564 <span class="keyword"></span>{
<a name="l11565"></a>11565   <span class="keywordflow">switch</span> (<a class="code" href="class_q_c_p_item_position.html#ac9c7bbca809601323d3ae2542ef2801a">mPositionType</a>)
<a name="l11566"></a>11566   {
<a name="l11567"></a>11567     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_position.html#aad9936c22bf43e3d358552f6e86dbdc8a564f5e53e550ead1ec5fc7fc7d0b73e0" title="Static positioning in pixels, starting from the top left corner of the viewport/widget.">ptAbsolute</a>:
<a name="l11568"></a>11568     {
<a name="l11569"></a>11569       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_position.html#a21e37c5a8cabe747a2c60773b23eddeb">mParentAnchor</a>)
<a name="l11570"></a>11570         <span class="keywordflow">return</span> QPointF(<a class="code" href="class_q_c_p_item_position.html#a4ff3931ad115603dfb4c7000b24bb415">mKey</a>, <a class="code" href="class_q_c_p_item_position.html#a67bf5df69f587d53731724a7d61c6c3f">mValue</a>) + <a class="code" href="class_q_c_p_item_position.html#a21e37c5a8cabe747a2c60773b23eddeb">mParentAnchor</a>-&gt;<a class="code" href="class_q_c_p_item_anchor.html#ae92def8f9297c5d73f5806c586517bb3">pixelPoint</a>();
<a name="l11571"></a>11571       <span class="keywordflow">else</span>
<a name="l11572"></a>11572         <span class="keywordflow">return</span> QPointF(<a class="code" href="class_q_c_p_item_position.html#a4ff3931ad115603dfb4c7000b24bb415">mKey</a>, <a class="code" href="class_q_c_p_item_position.html#a67bf5df69f587d53731724a7d61c6c3f">mValue</a>);
<a name="l11573"></a>11573     }
<a name="l11574"></a>11574     
<a name="l11575"></a>11575     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_position.html#aad9936c22bf43e3d358552f6e86dbdc8ac7d6aa89ceacb39658b0d6da061c789a" title="Static positioning given by a ratio of the current viewport (coordinates 0 to 1).">ptViewportRatio</a>:
<a name="l11576"></a>11576     {
<a name="l11577"></a>11577       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_position.html#a21e37c5a8cabe747a2c60773b23eddeb">mParentAnchor</a>)
<a name="l11578"></a>11578       {
<a name="l11579"></a>11579         <span class="keywordflow">return</span> QPointF(<a class="code" href="class_q_c_p_item_position.html#a4ff3931ad115603dfb4c7000b24bb415">mKey</a>*<a class="code" href="class_q_c_p_item_anchor.html#a59b968410831ba91a25cc75a77dde6f5">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a953ecdbc28018e7e84cb6213ad3d88c2">viewport</a>().width(),
<a name="l11580"></a>11580                        <a class="code" href="class_q_c_p_item_position.html#a67bf5df69f587d53731724a7d61c6c3f">mValue</a>*<a class="code" href="class_q_c_p_item_anchor.html#a59b968410831ba91a25cc75a77dde6f5">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a953ecdbc28018e7e84cb6213ad3d88c2">viewport</a>().height()) + <a class="code" href="class_q_c_p_item_position.html#a21e37c5a8cabe747a2c60773b23eddeb">mParentAnchor</a>-&gt;<a class="code" href="class_q_c_p_item_anchor.html#ae92def8f9297c5d73f5806c586517bb3">pixelPoint</a>();
<a name="l11581"></a>11581       } <span class="keywordflow">else</span>
<a name="l11582"></a>11582       {
<a name="l11583"></a>11583         <span class="keywordflow">return</span> QPointF(<a class="code" href="class_q_c_p_item_position.html#a4ff3931ad115603dfb4c7000b24bb415">mKey</a>*<a class="code" href="class_q_c_p_item_anchor.html#a59b968410831ba91a25cc75a77dde6f5">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a953ecdbc28018e7e84cb6213ad3d88c2">viewport</a>().width(),
<a name="l11584"></a>11584                        <a class="code" href="class_q_c_p_item_position.html#a67bf5df69f587d53731724a7d61c6c3f">mValue</a>*<a class="code" href="class_q_c_p_item_anchor.html#a59b968410831ba91a25cc75a77dde6f5">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a953ecdbc28018e7e84cb6213ad3d88c2">viewport</a>().height()) + <a class="code" href="class_q_c_p_item_anchor.html#a59b968410831ba91a25cc75a77dde6f5">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a953ecdbc28018e7e84cb6213ad3d88c2">viewport</a>().topLeft();
<a name="l11585"></a>11585       }
<a name="l11586"></a>11586     }
<a name="l11587"></a>11587       
<a name="l11588"></a>11588     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_position.html#aad9936c22bf43e3d358552f6e86dbdc8a01080fd00eaf09fa238ef6b73bbfef75" title="Static positioning given by a ratio of the current axis rect (coordinates 0 to 1).">ptAxisRectRatio</a>:
<a name="l11589"></a>11589     {
<a name="l11590"></a>11590       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_position.html#a21e37c5a8cabe747a2c60773b23eddeb">mParentAnchor</a>)
<a name="l11591"></a>11591       {
<a name="l11592"></a>11592         <span class="keywordflow">return</span> QPointF(<a class="code" href="class_q_c_p_item_position.html#a4ff3931ad115603dfb4c7000b24bb415">mKey</a>*<a class="code" href="class_q_c_p_item_anchor.html#a59b968410831ba91a25cc75a77dde6f5">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a4a31c39953a7050955ea97eb9e06078c">axisRect</a>().width(),
<a name="l11593"></a>11593                        <a class="code" href="class_q_c_p_item_position.html#a67bf5df69f587d53731724a7d61c6c3f">mValue</a>*<a class="code" href="class_q_c_p_item_anchor.html#a59b968410831ba91a25cc75a77dde6f5">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a4a31c39953a7050955ea97eb9e06078c">axisRect</a>().height()) + <a class="code" href="class_q_c_p_item_position.html#a21e37c5a8cabe747a2c60773b23eddeb">mParentAnchor</a>-&gt;<a class="code" href="class_q_c_p_item_anchor.html#ae92def8f9297c5d73f5806c586517bb3">pixelPoint</a>();
<a name="l11594"></a>11594       } <span class="keywordflow">else</span>
<a name="l11595"></a>11595       {
<a name="l11596"></a>11596         <span class="keywordflow">return</span> QPointF(<a class="code" href="class_q_c_p_item_position.html#a4ff3931ad115603dfb4c7000b24bb415">mKey</a>*<a class="code" href="class_q_c_p_item_anchor.html#a59b968410831ba91a25cc75a77dde6f5">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a4a31c39953a7050955ea97eb9e06078c">axisRect</a>().width(),
<a name="l11597"></a>11597                        <a class="code" href="class_q_c_p_item_position.html#a67bf5df69f587d53731724a7d61c6c3f">mValue</a>*<a class="code" href="class_q_c_p_item_anchor.html#a59b968410831ba91a25cc75a77dde6f5">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a4a31c39953a7050955ea97eb9e06078c">axisRect</a>().height()) + <a class="code" href="class_q_c_p_item_anchor.html#a59b968410831ba91a25cc75a77dde6f5">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a4a31c39953a7050955ea97eb9e06078c">axisRect</a>().topLeft();
<a name="l11598"></a>11598       }
<a name="l11599"></a>11599     }
<a name="l11600"></a>11600     
<a name="l11601"></a>11601     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_position.html#aad9936c22bf43e3d358552f6e86dbdc8ad5ffb8dc99ad73263f7010c77342294c" title="Dynamic positioning at a plot coordinate defined by two axes (see setAxes).">ptPlotCoords</a>:
<a name="l11602"></a>11602     {
<a name="l11603"></a>11603       <span class="keywordtype">double</span> x, y;
<a name="l11604"></a>11604       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_position.html#a05b13a027fd0b07663fd70b8ab1c8842">mKeyAxis</a> &amp;&amp; <a class="code" href="class_q_c_p_item_position.html#acd281f6bd352758ff00d852f1f0fa06f">mValueAxis</a>)
<a name="l11605"></a>11605       {
<a name="l11606"></a>11606         <span class="comment">// both key and value axis are given, translate key/value to x/y coordinates:</span>
<a name="l11607"></a>11607         <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_position.html#a05b13a027fd0b07663fd70b8ab1c8842">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Horizontal)
<a name="l11608"></a>11608         {
<a name="l11609"></a>11609           x = <a class="code" href="class_q_c_p_item_position.html#a05b13a027fd0b07663fd70b8ab1c8842">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(<a class="code" href="class_q_c_p_item_position.html#a4ff3931ad115603dfb4c7000b24bb415">mKey</a>);
<a name="l11610"></a>11610           y = <a class="code" href="class_q_c_p_item_position.html#acd281f6bd352758ff00d852f1f0fa06f">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(<a class="code" href="class_q_c_p_item_position.html#a67bf5df69f587d53731724a7d61c6c3f">mValue</a>);
<a name="l11611"></a>11611         } <span class="keywordflow">else</span>
<a name="l11612"></a>11612         {
<a name="l11613"></a>11613           y = <a class="code" href="class_q_c_p_item_position.html#a05b13a027fd0b07663fd70b8ab1c8842">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(<a class="code" href="class_q_c_p_item_position.html#a4ff3931ad115603dfb4c7000b24bb415">mKey</a>);
<a name="l11614"></a>11614           x = <a class="code" href="class_q_c_p_item_position.html#acd281f6bd352758ff00d852f1f0fa06f">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(<a class="code" href="class_q_c_p_item_position.html#a67bf5df69f587d53731724a7d61c6c3f">mValue</a>);
<a name="l11615"></a>11615         }
<a name="l11616"></a>11616       } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_position.html#a05b13a027fd0b07663fd70b8ab1c8842">mKeyAxis</a>)
<a name="l11617"></a>11617       {
<a name="l11618"></a>11618         <span class="comment">// only key axis is given, depending on orientation only transform x or y to key coordinate, other stays pixel:</span>
<a name="l11619"></a>11619         <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_position.html#a05b13a027fd0b07663fd70b8ab1c8842">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Horizontal)
<a name="l11620"></a>11620         {
<a name="l11621"></a>11621           x = <a class="code" href="class_q_c_p_item_position.html#a05b13a027fd0b07663fd70b8ab1c8842">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(<a class="code" href="class_q_c_p_item_position.html#a4ff3931ad115603dfb4c7000b24bb415">mKey</a>);
<a name="l11622"></a>11622           y = <a class="code" href="class_q_c_p_item_position.html#a67bf5df69f587d53731724a7d61c6c3f">mValue</a>;
<a name="l11623"></a>11623         } <span class="keywordflow">else</span>
<a name="l11624"></a>11624         {
<a name="l11625"></a>11625           y = <a class="code" href="class_q_c_p_item_position.html#a05b13a027fd0b07663fd70b8ab1c8842">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(<a class="code" href="class_q_c_p_item_position.html#a4ff3931ad115603dfb4c7000b24bb415">mKey</a>);
<a name="l11626"></a>11626           x = <a class="code" href="class_q_c_p_item_position.html#a67bf5df69f587d53731724a7d61c6c3f">mValue</a>;
<a name="l11627"></a>11627         }
<a name="l11628"></a>11628       } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_position.html#acd281f6bd352758ff00d852f1f0fa06f">mValueAxis</a>)
<a name="l11629"></a>11629       {
<a name="l11630"></a>11630         <span class="comment">// only value axis is given, depending on orientation only transform x or y to value coordinate, other stays pixel:</span>
<a name="l11631"></a>11631         <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_position.html#acd281f6bd352758ff00d852f1f0fa06f">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Horizontal)
<a name="l11632"></a>11632         {
<a name="l11633"></a>11633           x = <a class="code" href="class_q_c_p_item_position.html#acd281f6bd352758ff00d852f1f0fa06f">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(<a class="code" href="class_q_c_p_item_position.html#a67bf5df69f587d53731724a7d61c6c3f">mValue</a>);
<a name="l11634"></a>11634           y = <a class="code" href="class_q_c_p_item_position.html#a4ff3931ad115603dfb4c7000b24bb415">mKey</a>;
<a name="l11635"></a>11635         } <span class="keywordflow">else</span>
<a name="l11636"></a>11636         {
<a name="l11637"></a>11637           y = <a class="code" href="class_q_c_p_item_position.html#acd281f6bd352758ff00d852f1f0fa06f">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(<a class="code" href="class_q_c_p_item_position.html#a67bf5df69f587d53731724a7d61c6c3f">mValue</a>);
<a name="l11638"></a>11638           x = <a class="code" href="class_q_c_p_item_position.html#a4ff3931ad115603dfb4c7000b24bb415">mKey</a>;
<a name="l11639"></a>11639         }
<a name="l11640"></a>11640       } <span class="keywordflow">else</span>
<a name="l11641"></a>11641       {
<a name="l11642"></a>11642         <span class="comment">// no axis given, basically the same as if mAnchorType were atNone</span>
<a name="l11643"></a>11643         x = <a class="code" href="class_q_c_p_item_position.html#a4ff3931ad115603dfb4c7000b24bb415">mKey</a>;
<a name="l11644"></a>11644         y = <a class="code" href="class_q_c_p_item_position.html#a67bf5df69f587d53731724a7d61c6c3f">mValue</a>;
<a name="l11645"></a>11645       }
<a name="l11646"></a>11646       <span class="keywordflow">return</span> QPointF(x, y);
<a name="l11647"></a>11647     }
<a name="l11648"></a>11648   }
<a name="l11649"></a>11649   <span class="keywordflow">return</span> QPointF();
<a name="l11650"></a>11650 }
<a name="l11651"></a>11651 
<a name="l11656"></a><a class="code" href="class_q_c_p_item_position.html#a2185f45c75ac8cb9be89daeaaad50e37">11656</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_position.html#a2185f45c75ac8cb9be89daeaaad50e37">QCPItemPosition::setAxes</a>(<a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *keyAxis, <a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *valueAxis)
<a name="l11657"></a>11657 {
<a name="l11658"></a>11658   <a class="code" href="class_q_c_p_item_position.html#a05b13a027fd0b07663fd70b8ab1c8842">mKeyAxis</a> = <a class="code" href="class_q_c_p_item_position.html#ab99de7ae5766d246defb2de9f47eaf51">keyAxis</a>;
<a name="l11659"></a>11659   <a class="code" href="class_q_c_p_item_position.html#acd281f6bd352758ff00d852f1f0fa06f">mValueAxis</a> = <a class="code" href="class_q_c_p_item_position.html#a8d3a039fb2e69df86b4015daa30dfd2d">valueAxis</a>;
<a name="l11660"></a>11660 }
<a name="l11661"></a>11661 
<a name="l11672"></a><a class="code" href="class_q_c_p_item_position.html#ab404e56d9ac2ac2df0382c57933a71ef">11672</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_position.html#ab404e56d9ac2ac2df0382c57933a71ef">QCPItemPosition::setPixelPoint</a>(<span class="keyword">const</span> QPointF &amp;pixelPoint)
<a name="l11673"></a>11673 {
<a name="l11674"></a>11674   <span class="keywordflow">switch</span> (<a class="code" href="class_q_c_p_item_position.html#ac9c7bbca809601323d3ae2542ef2801a">mPositionType</a>)
<a name="l11675"></a>11675   {
<a name="l11676"></a>11676     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_position.html#aad9936c22bf43e3d358552f6e86dbdc8a564f5e53e550ead1ec5fc7fc7d0b73e0" title="Static positioning in pixels, starting from the top left corner of the viewport/widget.">ptAbsolute</a>:
<a name="l11677"></a>11677     {
<a name="l11678"></a>11678       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_position.html#a21e37c5a8cabe747a2c60773b23eddeb">mParentAnchor</a>)
<a name="l11679"></a>11679         <a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(pixelPoint-<a class="code" href="class_q_c_p_item_position.html#a21e37c5a8cabe747a2c60773b23eddeb">mParentAnchor</a>-&gt;<a class="code" href="class_q_c_p_item_anchor.html#ae92def8f9297c5d73f5806c586517bb3">pixelPoint</a>());
<a name="l11680"></a>11680       <span class="keywordflow">else</span>
<a name="l11681"></a>11681         <a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(pixelPoint);
<a name="l11682"></a>11682       <span class="keywordflow">break</span>;
<a name="l11683"></a>11683     }
<a name="l11684"></a>11684       
<a name="l11685"></a>11685     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_position.html#aad9936c22bf43e3d358552f6e86dbdc8ac7d6aa89ceacb39658b0d6da061c789a" title="Static positioning given by a ratio of the current viewport (coordinates 0 to 1).">ptViewportRatio</a>:
<a name="l11686"></a>11686     {
<a name="l11687"></a>11687       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_position.html#a21e37c5a8cabe747a2c60773b23eddeb">mParentAnchor</a>)
<a name="l11688"></a>11688       {
<a name="l11689"></a>11689         QPointF p(pixelPoint-<a class="code" href="class_q_c_p_item_position.html#a21e37c5a8cabe747a2c60773b23eddeb">mParentAnchor</a>-&gt;<a class="code" href="class_q_c_p_item_anchor.html#ae92def8f9297c5d73f5806c586517bb3">pixelPoint</a>());
<a name="l11690"></a>11690         p.rx() /= (double)<a class="code" href="class_q_c_p_item_anchor.html#a59b968410831ba91a25cc75a77dde6f5">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a953ecdbc28018e7e84cb6213ad3d88c2">viewport</a>().width();
<a name="l11691"></a>11691         p.ry() /= (double)<a class="code" href="class_q_c_p_item_anchor.html#a59b968410831ba91a25cc75a77dde6f5">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a953ecdbc28018e7e84cb6213ad3d88c2">viewport</a>().height();
<a name="l11692"></a>11692         <a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(p);
<a name="l11693"></a>11693       } <span class="keywordflow">else</span>
<a name="l11694"></a>11694       {
<a name="l11695"></a>11695         QPointF p(pixelPoint-<a class="code" href="class_q_c_p_item_anchor.html#a59b968410831ba91a25cc75a77dde6f5">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a953ecdbc28018e7e84cb6213ad3d88c2">viewport</a>().topLeft());
<a name="l11696"></a>11696         p.rx() /= (double)<a class="code" href="class_q_c_p_item_anchor.html#a59b968410831ba91a25cc75a77dde6f5">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a953ecdbc28018e7e84cb6213ad3d88c2">viewport</a>().width();
<a name="l11697"></a>11697         p.ry() /= (double)<a class="code" href="class_q_c_p_item_anchor.html#a59b968410831ba91a25cc75a77dde6f5">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a953ecdbc28018e7e84cb6213ad3d88c2">viewport</a>().height();
<a name="l11698"></a>11698         <a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(p);
<a name="l11699"></a>11699       }
<a name="l11700"></a>11700       <span class="keywordflow">break</span>;
<a name="l11701"></a>11701     }
<a name="l11702"></a>11702       
<a name="l11703"></a>11703     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_position.html#aad9936c22bf43e3d358552f6e86dbdc8a01080fd00eaf09fa238ef6b73bbfef75" title="Static positioning given by a ratio of the current axis rect (coordinates 0 to 1).">ptAxisRectRatio</a>:
<a name="l11704"></a>11704     {
<a name="l11705"></a>11705       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_position.html#a21e37c5a8cabe747a2c60773b23eddeb">mParentAnchor</a>)
<a name="l11706"></a>11706       {
<a name="l11707"></a>11707         QPointF p(pixelPoint-<a class="code" href="class_q_c_p_item_position.html#a21e37c5a8cabe747a2c60773b23eddeb">mParentAnchor</a>-&gt;<a class="code" href="class_q_c_p_item_anchor.html#ae92def8f9297c5d73f5806c586517bb3">pixelPoint</a>());
<a name="l11708"></a>11708         p.rx() /= (double)<a class="code" href="class_q_c_p_item_anchor.html#a59b968410831ba91a25cc75a77dde6f5">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a4a31c39953a7050955ea97eb9e06078c">axisRect</a>().width();
<a name="l11709"></a>11709         p.ry() /= (double)<a class="code" href="class_q_c_p_item_anchor.html#a59b968410831ba91a25cc75a77dde6f5">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a4a31c39953a7050955ea97eb9e06078c">axisRect</a>().height();
<a name="l11710"></a>11710         <a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(p);
<a name="l11711"></a>11711       } <span class="keywordflow">else</span>
<a name="l11712"></a>11712       {
<a name="l11713"></a>11713         QPointF p(pixelPoint-<a class="code" href="class_q_c_p_item_anchor.html#a59b968410831ba91a25cc75a77dde6f5">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a4a31c39953a7050955ea97eb9e06078c">axisRect</a>().topLeft());
<a name="l11714"></a>11714         p.rx() /= (double)<a class="code" href="class_q_c_p_item_anchor.html#a59b968410831ba91a25cc75a77dde6f5">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a4a31c39953a7050955ea97eb9e06078c">axisRect</a>().width();
<a name="l11715"></a>11715         p.ry() /= (double)<a class="code" href="class_q_c_p_item_anchor.html#a59b968410831ba91a25cc75a77dde6f5">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a4a31c39953a7050955ea97eb9e06078c">axisRect</a>().height();
<a name="l11716"></a>11716         <a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(p);
<a name="l11717"></a>11717       }
<a name="l11718"></a>11718       <span class="keywordflow">break</span>;
<a name="l11719"></a>11719     }
<a name="l11720"></a>11720       
<a name="l11721"></a>11721     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_position.html#aad9936c22bf43e3d358552f6e86dbdc8ad5ffb8dc99ad73263f7010c77342294c" title="Dynamic positioning at a plot coordinate defined by two axes (see setAxes).">ptPlotCoords</a>:
<a name="l11722"></a>11722     {
<a name="l11723"></a>11723       <span class="keywordtype">double</span> newKey, newValue;
<a name="l11724"></a>11724       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_position.html#a05b13a027fd0b07663fd70b8ab1c8842">mKeyAxis</a> &amp;&amp; <a class="code" href="class_q_c_p_item_position.html#acd281f6bd352758ff00d852f1f0fa06f">mValueAxis</a>)
<a name="l11725"></a>11725       {
<a name="l11726"></a>11726         <span class="comment">// both key and value axis are given, translate point to key/value coordinates:</span>
<a name="l11727"></a>11727         <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_position.html#a05b13a027fd0b07663fd70b8ab1c8842">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Horizontal)
<a name="l11728"></a>11728         {
<a name="l11729"></a>11729           newKey = <a class="code" href="class_q_c_p_item_position.html#a05b13a027fd0b07663fd70b8ab1c8842">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">pixelToCoord</a>(pixelPoint.x());
<a name="l11730"></a>11730           newValue = <a class="code" href="class_q_c_p_item_position.html#acd281f6bd352758ff00d852f1f0fa06f">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">pixelToCoord</a>(pixelPoint.y());
<a name="l11731"></a>11731         } <span class="keywordflow">else</span>
<a name="l11732"></a>11732         {
<a name="l11733"></a>11733           newKey = <a class="code" href="class_q_c_p_item_position.html#a05b13a027fd0b07663fd70b8ab1c8842">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">pixelToCoord</a>(pixelPoint.y());
<a name="l11734"></a>11734           newValue = <a class="code" href="class_q_c_p_item_position.html#acd281f6bd352758ff00d852f1f0fa06f">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">pixelToCoord</a>(pixelPoint.x());
<a name="l11735"></a>11735         }
<a name="l11736"></a>11736       } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_position.html#a05b13a027fd0b07663fd70b8ab1c8842">mKeyAxis</a>)
<a name="l11737"></a>11737       {
<a name="l11738"></a>11738         <span class="comment">// only key axis is given, depending on orientation only transform x or y to key coordinate, other stays pixel:</span>
<a name="l11739"></a>11739         <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_position.html#a05b13a027fd0b07663fd70b8ab1c8842">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Horizontal)
<a name="l11740"></a>11740         {
<a name="l11741"></a>11741           newKey = <a class="code" href="class_q_c_p_item_position.html#a05b13a027fd0b07663fd70b8ab1c8842">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">pixelToCoord</a>(pixelPoint.x());
<a name="l11742"></a>11742           newValue = pixelPoint.y();
<a name="l11743"></a>11743         } <span class="keywordflow">else</span>
<a name="l11744"></a>11744         {
<a name="l11745"></a>11745           newKey = <a class="code" href="class_q_c_p_item_position.html#a05b13a027fd0b07663fd70b8ab1c8842">mKeyAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">pixelToCoord</a>(pixelPoint.y());
<a name="l11746"></a>11746           newValue = pixelPoint.x();
<a name="l11747"></a>11747         }
<a name="l11748"></a>11748       } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_position.html#acd281f6bd352758ff00d852f1f0fa06f">mValueAxis</a>)
<a name="l11749"></a>11749       {
<a name="l11750"></a>11750         <span class="comment">// only value axis is given, depending on orientation only transform x or y to value coordinate, other stays pixel:</span>
<a name="l11751"></a>11751         <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_position.html#acd281f6bd352758ff00d852f1f0fa06f">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Horizontal)
<a name="l11752"></a>11752         {
<a name="l11753"></a>11753           newKey = pixelPoint.y();
<a name="l11754"></a>11754           newValue = <a class="code" href="class_q_c_p_item_position.html#acd281f6bd352758ff00d852f1f0fa06f">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">pixelToCoord</a>(pixelPoint.x());
<a name="l11755"></a>11755         } <span class="keywordflow">else</span>
<a name="l11756"></a>11756         {
<a name="l11757"></a>11757           newKey = pixelPoint.x();
<a name="l11758"></a>11758           newValue = <a class="code" href="class_q_c_p_item_position.html#acd281f6bd352758ff00d852f1f0fa06f">mValueAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ae9289ef7043b9d966af88eaa95b037d1">pixelToCoord</a>(pixelPoint.y());
<a name="l11759"></a>11759         }
<a name="l11760"></a>11760       } <span class="keywordflow">else</span>
<a name="l11761"></a>11761       {
<a name="l11762"></a>11762         <span class="comment">// no axis given, basically the same as if mAnchorType were atNone</span>
<a name="l11763"></a>11763         newKey = pixelPoint.x();
<a name="l11764"></a>11764         newValue = pixelPoint.y();
<a name="l11765"></a>11765       }
<a name="l11766"></a>11766       <a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(newKey, newValue);
<a name="l11767"></a>11767       <span class="keywordflow">break</span>;
<a name="l11768"></a>11768     }
<a name="l11769"></a>11769   }
<a name="l11770"></a>11770 }
<a name="l11771"></a>11771 
<a name="l11772"></a>11772 
<a name="l11773"></a>11773 <span class="comment">// ================================================================================</span>
<a name="l11774"></a>11774 <span class="comment">// =================== QCPItemStraightLine</span>
<a name="l11775"></a>11775 <span class="comment">// ================================================================================</span>
<a name="l11776"></a>11776 
<a name="l11790"></a><a class="code" href="class_q_c_p_item_straight_line.html#a41fd2e1f006983449eca9830930c3b10">11790</a> <a class="code" href="class_q_c_p_item_straight_line.html#a41fd2e1f006983449eca9830930c3b10">QCPItemStraightLine::QCPItemStraightLine</a>(<a class="code" href="class_q_custom_plot.html" title="The central class of the library, the QWidget which displays the plot and interacts with the user...">QCustomPlot</a> *parentPlot) :
<a name="l11791"></a>11791   <a class="code" href="class_q_c_p_abstract_item.html" title="The abstract base class for all items in a plot.">QCPAbstractItem</a>(parentPlot),
<a name="l11792"></a>11792   point1(createPosition(<span class="stringliteral">&quot;point1&quot;</span>)),
<a name="l11793"></a>11793   point2(createPosition(<span class="stringliteral">&quot;point2&quot;</span>))
<a name="l11794"></a>11794 {
<a name="l11795"></a>11795   <a class="code" href="class_q_c_p_item_straight_line.html#ac131a6ffe456f2cc7364dce541fe0120">point1</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(0, 0);
<a name="l11796"></a>11796   <a class="code" href="class_q_c_p_item_straight_line.html#ad26c0a732e471f63f75d481dcd48cfc9">point2</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(1, 1);
<a name="l11797"></a>11797   
<a name="l11798"></a>11798   <a class="code" href="class_q_c_p_item_straight_line.html#a9f36c9c9e60d7d9ac084c80380ac8601">setPen</a>(QPen(Qt::black));
<a name="l11799"></a>11799   <a class="code" href="class_q_c_p_item_straight_line.html#a5c33559498d33543fa95cf0a36e851ff">setSelectedPen</a>(QPen(Qt::blue,2));
<a name="l11800"></a>11800 }
<a name="l11801"></a>11801 
<a name="l11802"></a><a class="code" href="class_q_c_p_item_straight_line.html#a1f0730759916ce203baeaad1ad2af3ea">11802</a> <a class="code" href="class_q_c_p_item_straight_line.html#a1f0730759916ce203baeaad1ad2af3ea">QCPItemStraightLine::~QCPItemStraightLine</a>()
<a name="l11803"></a>11803 {
<a name="l11804"></a>11804 }
<a name="l11805"></a>11805 
<a name="l11811"></a><a class="code" href="class_q_c_p_item_straight_line.html#a9f36c9c9e60d7d9ac084c80380ac8601">11811</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_straight_line.html#a9f36c9c9e60d7d9ac084c80380ac8601">QCPItemStraightLine::setPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l11812"></a>11812 {
<a name="l11813"></a>11813   <a class="code" href="class_q_c_p_item_straight_line.html#a15106ddc2ebd73ed5c1bc57aa92bee8f">mPen</a> = <a class="code" href="class_q_c_p_item_straight_line.html#ad858ab1a444391aab778f765453ea222">pen</a>;
<a name="l11814"></a>11814 }
<a name="l11815"></a>11815 
<a name="l11821"></a><a class="code" href="class_q_c_p_item_straight_line.html#a5c33559498d33543fa95cf0a36e851ff">11821</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_straight_line.html#a5c33559498d33543fa95cf0a36e851ff">QCPItemStraightLine::setSelectedPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l11822"></a>11822 {
<a name="l11823"></a>11823   <a class="code" href="class_q_c_p_item_straight_line.html#a0307a0d56a018656adbf798bc84c2a4b">mSelectedPen</a> = <a class="code" href="class_q_c_p_item_straight_line.html#ad858ab1a444391aab778f765453ea222">pen</a>;
<a name="l11824"></a>11824 }
<a name="l11825"></a>11825 
<a name="l11826"></a>11826 <span class="comment">/* inherits documentation from base class */</span>
<a name="l11827"></a><a class="code" href="class_q_c_p_item_straight_line.html#a8cd13e1da2d82613934401e2a9eec26d">11827</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_item_straight_line.html#a8cd13e1da2d82613934401e2a9eec26d">QCPItemStraightLine::selectTest</a>(<span class="keyword">const</span> QPointF &amp;pos)<span class="keyword"> const</span>
<a name="l11828"></a>11828 <span class="keyword"></span>{
<a name="l11829"></a>11829   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_layerable.html#a62e3aed8427d6ce3ccf716f285106cb3">mVisible</a>)
<a name="l11830"></a>11830     <span class="keywordflow">return</span> -1;
<a name="l11831"></a>11831   
<a name="l11832"></a>11832   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_item_straight_line.html#adc9b6c5bd33c7f806b748b79dfa25926">distToStraightLine</a>(QVector2D(<a class="code" href="class_q_c_p_item_straight_line.html#ac131a6ffe456f2cc7364dce541fe0120">point1</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>()), QVector2D(<a class="code" href="class_q_c_p_item_straight_line.html#ad26c0a732e471f63f75d481dcd48cfc9">point2</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>()-<a class="code" href="class_q_c_p_item_straight_line.html#ac131a6ffe456f2cc7364dce541fe0120">point1</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>()), QVector2D(pos));
<a name="l11833"></a>11833 }
<a name="l11834"></a>11834 
<a name="l11835"></a>11835 <span class="comment">/* inherits documentation from base class */</span>
<a name="l11836"></a><a class="code" href="class_q_c_p_item_straight_line.html#a2daa1e1253216c26565d56a2d5530170">11836</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_straight_line.html#a2daa1e1253216c26565d56a2d5530170">QCPItemStraightLine::draw</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)
<a name="l11837"></a>11837 {
<a name="l11838"></a>11838   QVector2D start(<a class="code" href="class_q_c_p_item_straight_line.html#ac131a6ffe456f2cc7364dce541fe0120">point1</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l11839"></a>11839   QVector2D end(<a class="code" href="class_q_c_p_item_straight_line.html#ad26c0a732e471f63f75d481dcd48cfc9">point2</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l11840"></a>11840   <span class="comment">// get visible segment of straight line inside clipRect:</span>
<a name="l11841"></a>11841   <span class="keywordtype">double</span> clipPad = <a class="code" href="class_q_c_p_item_straight_line.html#a63ef39814c5b560dbb7b13e3fec1d940">mainPen</a>().widthF();
<a name="l11842"></a>11842   QLineF line = <a class="code" href="class_q_c_p_item_straight_line.html#af18ac29577b5b96fece15b0ffea70177">getRectClippedStraightLine</a>(start, end-start, <a class="code" href="class_q_c_p_abstract_item.html#a538e25ff8856534582f5b2b400a46405">clipRect</a>().adjusted(-clipPad, -clipPad, clipPad, clipPad));
<a name="l11843"></a>11843   <span class="comment">// paint visible segment, if existent:</span>
<a name="l11844"></a>11844   <span class="keywordflow">if</span> (!line.isNull())
<a name="l11845"></a>11845   {
<a name="l11846"></a>11846     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_item_straight_line.html#a63ef39814c5b560dbb7b13e3fec1d940">mainPen</a>());
<a name="l11847"></a>11847     painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(line);
<a name="l11848"></a>11848   }
<a name="l11849"></a>11849 }
<a name="l11850"></a>11850 
<a name="l11858"></a><a class="code" href="class_q_c_p_item_straight_line.html#adc9b6c5bd33c7f806b748b79dfa25926">11858</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_item_straight_line.html#adc9b6c5bd33c7f806b748b79dfa25926">QCPItemStraightLine::distToStraightLine</a>(<span class="keyword">const</span> QVector2D &amp;base, <span class="keyword">const</span> QVector2D &amp;vec, <span class="keyword">const</span> QVector2D &amp;point)<span class="keyword"> const</span>
<a name="l11859"></a>11859 <span class="keyword"></span>{
<a name="l11860"></a>11860   <span class="keywordflow">return</span> qAbs((base.y()-point.y())*vec.x()-(base.x()-point.x())*vec.y())/vec.length();
<a name="l11861"></a>11861 }
<a name="l11862"></a>11862 
<a name="l11870"></a><a class="code" href="class_q_c_p_item_straight_line.html#af18ac29577b5b96fece15b0ffea70177">11870</a> QLineF <a class="code" href="class_q_c_p_item_straight_line.html#af18ac29577b5b96fece15b0ffea70177">QCPItemStraightLine::getRectClippedStraightLine</a>(<span class="keyword">const</span> QVector2D &amp;base, <span class="keyword">const</span> QVector2D &amp;vec, <span class="keyword">const</span> QRect &amp;rect)<span class="keyword"> const</span>
<a name="l11871"></a>11871 <span class="keyword"></span>{
<a name="l11872"></a>11872   <span class="keywordtype">double</span> bx, by;
<a name="l11873"></a>11873   <span class="keywordtype">double</span> gamma;
<a name="l11874"></a>11874   QLineF result;
<a name="l11875"></a>11875   <span class="keywordflow">if</span> (vec.x() == 0 &amp;&amp; vec.y() == 0)
<a name="l11876"></a>11876     <span class="keywordflow">return</span> result;
<a name="l11877"></a>11877   <span class="keywordflow">if</span> (qFuzzyIsNull(vec.x())) <span class="comment">// line is vertical</span>
<a name="l11878"></a>11878   {
<a name="l11879"></a>11879     <span class="comment">// check top of rect:</span>
<a name="l11880"></a>11880     bx = rect.left();
<a name="l11881"></a>11881     by = rect.top();
<a name="l11882"></a>11882     gamma = base.x()-bx + (by-base.y())*vec.x()/vec.y();
<a name="l11883"></a>11883     <span class="keywordflow">if</span> (gamma &gt;= 0 &amp;&amp; gamma &lt;= rect.width())
<a name="l11884"></a>11884       result.setLine(bx+gamma, rect.top(), bx+gamma, rect.bottom()); <span class="comment">// no need to check bottom because we know line is vertical</span>
<a name="l11885"></a>11885   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (qFuzzyIsNull(vec.y())) <span class="comment">// line is horizontal</span>
<a name="l11886"></a>11886   {
<a name="l11887"></a>11887     <span class="comment">// check left of rect:</span>
<a name="l11888"></a>11888     bx = rect.left();
<a name="l11889"></a>11889     by = rect.top();
<a name="l11890"></a>11890     gamma = base.y()-by + (bx-base.x())*vec.y()/vec.x();
<a name="l11891"></a>11891     <span class="keywordflow">if</span> (gamma &gt;= 0 &amp;&amp; gamma &lt;= rect.height())
<a name="l11892"></a>11892       result.setLine(rect.left(), by+gamma, rect.right(), by+gamma); <span class="comment">// no need to check right because we know line is horizontal</span>
<a name="l11893"></a>11893   } <span class="keywordflow">else</span> <span class="comment">// line is skewed</span>
<a name="l11894"></a>11894   {
<a name="l11895"></a>11895     QList&lt;QVector2D&gt; pointVectors;
<a name="l11896"></a>11896     <span class="comment">// check top of rect:</span>
<a name="l11897"></a>11897     bx = rect.left();
<a name="l11898"></a>11898     by = rect.top();
<a name="l11899"></a>11899     gamma = base.x()-bx + (by-base.y())*vec.x()/vec.y();
<a name="l11900"></a>11900     <span class="keywordflow">if</span> (gamma &gt;= 0 &amp;&amp; gamma &lt;= rect.width())
<a name="l11901"></a>11901       pointVectors.append(QVector2D(bx+gamma, by));
<a name="l11902"></a>11902     <span class="comment">// check bottom of rect:</span>
<a name="l11903"></a>11903     bx = rect.left();
<a name="l11904"></a>11904     by = rect.bottom();
<a name="l11905"></a>11905     gamma = base.x()-bx + (by-base.y())*vec.x()/vec.y();
<a name="l11906"></a>11906     <span class="keywordflow">if</span> (gamma &gt;= 0 &amp;&amp; gamma &lt;= rect.width())
<a name="l11907"></a>11907       pointVectors.append(QVector2D(bx+gamma, by));
<a name="l11908"></a>11908     <span class="comment">// check left of rect:</span>
<a name="l11909"></a>11909     bx = rect.left();
<a name="l11910"></a>11910     by = rect.top();
<a name="l11911"></a>11911     gamma = base.y()-by + (bx-base.x())*vec.y()/vec.x();
<a name="l11912"></a>11912     <span class="keywordflow">if</span> (gamma &gt;= 0 &amp;&amp; gamma &lt;= rect.height())
<a name="l11913"></a>11913       pointVectors.append(QVector2D(bx, by+gamma));
<a name="l11914"></a>11914     <span class="comment">// check right of rect:</span>
<a name="l11915"></a>11915     bx = rect.right();
<a name="l11916"></a>11916     by = rect.top();
<a name="l11917"></a>11917     gamma = base.y()-by + (bx-base.x())*vec.y()/vec.x();
<a name="l11918"></a>11918     <span class="keywordflow">if</span> (gamma &gt;= 0 &amp;&amp; gamma &lt;= rect.height())
<a name="l11919"></a>11919       pointVectors.append(QVector2D(bx, by+gamma));
<a name="l11920"></a>11920     
<a name="l11921"></a>11921     <span class="comment">// evaluate points:</span>
<a name="l11922"></a>11922     <span class="keywordflow">if</span> (pointVectors.size() == 2)
<a name="l11923"></a>11923     {
<a name="l11924"></a>11924       result.setPoints(pointVectors.at(0).toPointF(), pointVectors.at(1).toPointF());
<a name="l11925"></a>11925     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pointVectors.size() &gt; 2)
<a name="l11926"></a>11926     {
<a name="l11927"></a>11927       <span class="comment">// line probably goes through corner of rect, and we got two points there. single out the point pair with greatest distance:</span>
<a name="l11928"></a>11928       <span class="keywordtype">double</span> distSqrMax = 0;
<a name="l11929"></a>11929       QVector2D pv1, pv2;
<a name="l11930"></a>11930       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;pointVectors.size()-1; ++i)
<a name="l11931"></a>11931       {
<a name="l11932"></a>11932         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=i+1; k&lt;pointVectors.size(); ++k)
<a name="l11933"></a>11933         {
<a name="l11934"></a>11934           <span class="keywordtype">double</span> distSqr = (pointVectors.at(i)-pointVectors.at(k)).lengthSquared();
<a name="l11935"></a>11935           <span class="keywordflow">if</span> (distSqr &gt; distSqrMax)
<a name="l11936"></a>11936           {
<a name="l11937"></a>11937             pv1 = pointVectors.at(i);
<a name="l11938"></a>11938             pv2 = pointVectors.at(k);
<a name="l11939"></a>11939             distSqrMax = distSqr;
<a name="l11940"></a>11940           }
<a name="l11941"></a>11941         }
<a name="l11942"></a>11942       }
<a name="l11943"></a>11943       result.setPoints(pv1.toPointF(), pv2.toPointF());
<a name="l11944"></a>11944     }
<a name="l11945"></a>11945   }
<a name="l11946"></a>11946   <span class="keywordflow">return</span> result;
<a name="l11947"></a>11947 }
<a name="l11948"></a>11948 
<a name="l11954"></a><a class="code" href="class_q_c_p_item_straight_line.html#a63ef39814c5b560dbb7b13e3fec1d940">11954</a> QPen <a class="code" href="class_q_c_p_item_straight_line.html#a63ef39814c5b560dbb7b13e3fec1d940">QCPItemStraightLine::mainPen</a>()<span class="keyword"> const</span>
<a name="l11955"></a>11955 <span class="keyword"></span>{
<a name="l11956"></a>11956   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#a4bdb3457dad1d268c0f78a44152b9645">mSelected</a> ? <a class="code" href="class_q_c_p_item_straight_line.html#a0307a0d56a018656adbf798bc84c2a4b">mSelectedPen</a> : <a class="code" href="class_q_c_p_item_straight_line.html#a15106ddc2ebd73ed5c1bc57aa92bee8f">mPen</a>;
<a name="l11957"></a>11957 }
<a name="l11958"></a>11958 
<a name="l11959"></a>11959 
<a name="l11960"></a>11960 <span class="comment">// ================================================================================</span>
<a name="l11961"></a>11961 <span class="comment">// =================== QCPItemLine</span>
<a name="l11962"></a>11962 <span class="comment">// ================================================================================</span>
<a name="l11963"></a>11963 
<a name="l11979"></a><a class="code" href="class_q_c_p_item_line.html#a17804b7f64961c6accf25b61e85142e3">11979</a> <a class="code" href="class_q_c_p_item_line.html#a17804b7f64961c6accf25b61e85142e3">QCPItemLine::QCPItemLine</a>(<a class="code" href="class_q_custom_plot.html" title="The central class of the library, the QWidget which displays the plot and interacts with the user...">QCustomPlot</a> *parentPlot) :
<a name="l11980"></a>11980   <a class="code" href="class_q_c_p_abstract_item.html" title="The abstract base class for all items in a plot.">QCPAbstractItem</a>(parentPlot),
<a name="l11981"></a>11981   start(createPosition(<span class="stringliteral">&quot;start&quot;</span>)),
<a name="l11982"></a>11982   end(createPosition(<span class="stringliteral">&quot;end&quot;</span>))
<a name="l11983"></a>11983 {
<a name="l11984"></a>11984   <a class="code" href="class_q_c_p_item_line.html#a602da607a09498b0f152ada1d6851bc5">start</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(0, 0);
<a name="l11985"></a>11985   <a class="code" href="class_q_c_p_item_line.html#a15598864c1c22a2497a1979c4980c4e1">end</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(1, 1);
<a name="l11986"></a>11986   
<a name="l11987"></a>11987   <a class="code" href="class_q_c_p_item_line.html#a572528dab61c1abe205822fbd5db4b27">setPen</a>(QPen(Qt::black));
<a name="l11988"></a>11988   <a class="code" href="class_q_c_p_item_line.html#a3e2fec44503277e77717e9c24f87f1ea">setSelectedPen</a>(QPen(Qt::blue,2));
<a name="l11989"></a>11989 }
<a name="l11990"></a>11990 
<a name="l11991"></a><a class="code" href="class_q_c_p_item_line.html#a94b5aaae048171e5306dc4695b991283">11991</a> <a class="code" href="class_q_c_p_item_line.html#a94b5aaae048171e5306dc4695b991283">QCPItemLine::~QCPItemLine</a>()
<a name="l11992"></a>11992 {
<a name="l11993"></a>11993 }
<a name="l11994"></a>11994 
<a name="l12000"></a><a class="code" href="class_q_c_p_item_line.html#a572528dab61c1abe205822fbd5db4b27">12000</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_line.html#a572528dab61c1abe205822fbd5db4b27">QCPItemLine::setPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l12001"></a>12001 {
<a name="l12002"></a>12002   <a class="code" href="class_q_c_p_item_line.html#abbb544d5bb927dfe4e81a7f3ca4c65ac">mPen</a> = <a class="code" href="class_q_c_p_item_line.html#a235779dd079a263bedb20b3daecc40eb">pen</a>;
<a name="l12003"></a>12003 }
<a name="l12004"></a>12004 
<a name="l12010"></a><a class="code" href="class_q_c_p_item_line.html#a3e2fec44503277e77717e9c24f87f1ea">12010</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_line.html#a3e2fec44503277e77717e9c24f87f1ea">QCPItemLine::setSelectedPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l12011"></a>12011 {
<a name="l12012"></a>12012   <a class="code" href="class_q_c_p_item_line.html#aff858ad6dde3b90024814ca4b116f278">mSelectedPen</a> = <a class="code" href="class_q_c_p_item_line.html#a235779dd079a263bedb20b3daecc40eb">pen</a>;
<a name="l12013"></a>12013 }
<a name="l12014"></a>12014 
<a name="l12023"></a><a class="code" href="class_q_c_p_item_line.html#aebf3d687114d584e0459db6759e2c3c3">12023</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_line.html#aebf3d687114d584e0459db6759e2c3c3">QCPItemLine::setHead</a>(<span class="keyword">const</span> <a class="code" href="class_q_c_p_line_ending.html" title="Handles the different ending decorations for line-like items.">QCPLineEnding</a> &amp;head)
<a name="l12024"></a>12024 {
<a name="l12025"></a>12025   <a class="code" href="class_q_c_p_item_line.html#a51603f28ab7ddb1c1a95ea384791d3ed">mHead</a> = <a class="code" href="class_q_c_p_item_line.html#a5f6cbc5c763feae9dfbce71748fc43f1">head</a>;
<a name="l12026"></a>12026 }
<a name="l12027"></a>12027 
<a name="l12036"></a><a class="code" href="class_q_c_p_item_line.html#ac264222c3297a7efe33df9345c811a5f">12036</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_line.html#ac264222c3297a7efe33df9345c811a5f">QCPItemLine::setTail</a>(<span class="keyword">const</span> <a class="code" href="class_q_c_p_line_ending.html" title="Handles the different ending decorations for line-like items.">QCPLineEnding</a> &amp;tail)
<a name="l12037"></a>12037 {
<a name="l12038"></a>12038   <a class="code" href="class_q_c_p_item_line.html#ab8ed61dfe15bbb1cbf9b95eae95e242f">mTail</a> = <a class="code" href="class_q_c_p_item_line.html#a5d2ca0f784933e80f3e6e1d15dceebb3">tail</a>;
<a name="l12039"></a>12039 }
<a name="l12040"></a>12040 
<a name="l12041"></a>12041 <span class="comment">/* inherits documentation from base class */</span>
<a name="l12042"></a><a class="code" href="class_q_c_p_item_line.html#abc195de27d00ffa02c9047489308a6a7">12042</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_item_line.html#abc195de27d00ffa02c9047489308a6a7">QCPItemLine::selectTest</a>(<span class="keyword">const</span> QPointF &amp;pos)<span class="keyword"> const</span>
<a name="l12043"></a>12043 <span class="keyword"></span>{
<a name="l12044"></a>12044   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_layerable.html#a62e3aed8427d6ce3ccf716f285106cb3">mVisible</a>)
<a name="l12045"></a>12045     <span class="keywordflow">return</span> -1;
<a name="l12046"></a>12046   
<a name="l12047"></a>12047   <span class="keywordflow">return</span> qSqrt(<a class="code" href="class_q_c_p_abstract_item.html#acdca343717d625b8abb3c3e38c0ed39d">distSqrToLine</a>(<a class="code" href="class_q_c_p_item_line.html#a602da607a09498b0f152ada1d6851bc5">start</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>(), <a class="code" href="class_q_c_p_item_line.html#a15598864c1c22a2497a1979c4980c4e1">end</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>(), pos));
<a name="l12048"></a>12048 }
<a name="l12049"></a>12049 
<a name="l12050"></a>12050 <span class="comment">/* inherits documentation from base class */</span>
<a name="l12051"></a><a class="code" href="class_q_c_p_item_line.html#a1fc045dd33919f8006df0692aeb0e84a">12051</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_line.html#a1fc045dd33919f8006df0692aeb0e84a">QCPItemLine::draw</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)
<a name="l12052"></a>12052 {
<a name="l12053"></a>12053   QVector2D startVec(<a class="code" href="class_q_c_p_item_line.html#a602da607a09498b0f152ada1d6851bc5">start</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l12054"></a>12054   QVector2D endVec(<a class="code" href="class_q_c_p_item_line.html#a15598864c1c22a2497a1979c4980c4e1">end</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l12055"></a>12055   <span class="keywordflow">if</span> (startVec.toPoint() == endVec.toPoint())
<a name="l12056"></a>12056     <span class="keywordflow">return</span>;
<a name="l12057"></a>12057   <span class="comment">// get visible segment of straight line inside clipRect:</span>
<a name="l12058"></a>12058   <span class="keywordtype">double</span> clipPad = qMax(<a class="code" href="class_q_c_p_item_line.html#a51603f28ab7ddb1c1a95ea384791d3ed">mHead</a>.<a class="code" href="class_q_c_p_line_ending.html#a586b45cf738881a70119e353dc1ed59c">boundingDistance</a>(), <a class="code" href="class_q_c_p_item_line.html#ab8ed61dfe15bbb1cbf9b95eae95e242f">mTail</a>.<a class="code" href="class_q_c_p_line_ending.html#a586b45cf738881a70119e353dc1ed59c">boundingDistance</a>());
<a name="l12059"></a>12059   clipPad = qMax(clipPad, <a class="code" href="class_q_c_p_item_line.html#a7b5bc4ebacb55774b87c91b308ca7912">mainPen</a>().widthF());
<a name="l12060"></a>12060   QLineF line = <a class="code" href="class_q_c_p_item_line.html#a36e8620019a221ccea4357f0287b81c2">getRectClippedLine</a>(startVec, endVec, <a class="code" href="class_q_c_p_abstract_item.html#a538e25ff8856534582f5b2b400a46405">clipRect</a>().adjusted(-clipPad, -clipPad, clipPad, clipPad));
<a name="l12061"></a>12061   <span class="comment">// paint visible segment, if existent:</span>
<a name="l12062"></a>12062   <span class="keywordflow">if</span> (!line.isNull())
<a name="l12063"></a>12063   {
<a name="l12064"></a>12064     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_item_line.html#a7b5bc4ebacb55774b87c91b308ca7912">mainPen</a>());
<a name="l12065"></a>12065     painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(line);
<a name="l12066"></a>12066     painter-&gt;setBrush(Qt::SolidPattern);
<a name="l12067"></a>12067     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_line.html#ab8ed61dfe15bbb1cbf9b95eae95e242f">mTail</a>.<a class="code" href="class_q_c_p_line_ending.html#aea324dbfddbca9895ca8a3a968671299">style</a>() != <a class="code" href="class_q_c_p_line_ending.html#a5ef16e6876b4b74959c7261d8d4c2cd5aca12d500f50cd6871766801bac30fb03" title="No ending decoration.">QCPLineEnding::esNone</a>)
<a name="l12068"></a>12068       <a class="code" href="class_q_c_p_item_line.html#ab8ed61dfe15bbb1cbf9b95eae95e242f">mTail</a>.<a class="code" href="class_q_c_p_line_ending.html#ac4b2fa94bd27b2f008b5fc090fcd7c0b">draw</a>(painter, startVec, startVec-endVec);
<a name="l12069"></a>12069     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_line.html#a51603f28ab7ddb1c1a95ea384791d3ed">mHead</a>.<a class="code" href="class_q_c_p_line_ending.html#aea324dbfddbca9895ca8a3a968671299">style</a>() != <a class="code" href="class_q_c_p_line_ending.html#a5ef16e6876b4b74959c7261d8d4c2cd5aca12d500f50cd6871766801bac30fb03" title="No ending decoration.">QCPLineEnding::esNone</a>)
<a name="l12070"></a>12070       <a class="code" href="class_q_c_p_item_line.html#a51603f28ab7ddb1c1a95ea384791d3ed">mHead</a>.<a class="code" href="class_q_c_p_line_ending.html#ac4b2fa94bd27b2f008b5fc090fcd7c0b">draw</a>(painter, endVec, endVec-startVec);
<a name="l12071"></a>12071   }
<a name="l12072"></a>12072 }
<a name="l12073"></a>12073 
<a name="l12081"></a><a class="code" href="class_q_c_p_item_line.html#a36e8620019a221ccea4357f0287b81c2">12081</a> QLineF <a class="code" href="class_q_c_p_item_line.html#a36e8620019a221ccea4357f0287b81c2">QCPItemLine::getRectClippedLine</a>(<span class="keyword">const</span> QVector2D &amp;start, <span class="keyword">const</span> QVector2D &amp;end, <span class="keyword">const</span> QRect &amp;rect)<span class="keyword"> const</span>
<a name="l12082"></a>12082 <span class="keyword"></span>{
<a name="l12083"></a>12083   <span class="keywordtype">bool</span> containsStart = rect.contains(start.x(), start.y());
<a name="l12084"></a>12084   <span class="keywordtype">bool</span> containsEnd = rect.contains(end.x(), end.y());
<a name="l12085"></a>12085   <span class="keywordflow">if</span> (containsStart &amp;&amp; containsEnd)
<a name="l12086"></a>12086     <span class="keywordflow">return</span> QLineF(start.toPointF(), end.toPointF());
<a name="l12087"></a>12087   
<a name="l12088"></a>12088   QVector2D base = <a class="code" href="class_q_c_p_item_line.html#a602da607a09498b0f152ada1d6851bc5">start</a>;
<a name="l12089"></a>12089   QVector2D vec = end-<a class="code" href="class_q_c_p_item_line.html#a602da607a09498b0f152ada1d6851bc5">start</a>;
<a name="l12090"></a>12090   <span class="keywordtype">double</span> bx, by;
<a name="l12091"></a>12091   <span class="keywordtype">double</span> gamma, mu;
<a name="l12092"></a>12092   QLineF result;
<a name="l12093"></a>12093   QList&lt;QVector2D&gt; pointVectors;
<a name="l12094"></a>12094 
<a name="l12095"></a>12095   <span class="keywordflow">if</span> (!qFuzzyIsNull(vec.y())) <span class="comment">// line is not horizontal</span>
<a name="l12096"></a>12096   {
<a name="l12097"></a>12097     <span class="comment">// check top of rect:</span>
<a name="l12098"></a>12098     bx = rect.left();
<a name="l12099"></a>12099     by = rect.top();
<a name="l12100"></a>12100     mu = (by-base.y())/vec.y();
<a name="l12101"></a>12101     <span class="keywordflow">if</span> (mu &gt;= 0 &amp;&amp; mu &lt;= 1)
<a name="l12102"></a>12102     {
<a name="l12103"></a>12103       gamma = base.x()-bx + mu*vec.x();
<a name="l12104"></a>12104       <span class="keywordflow">if</span> (gamma &gt;= 0 &amp;&amp; gamma &lt;= rect.width())
<a name="l12105"></a>12105         pointVectors.append(QVector2D(bx+gamma, by));
<a name="l12106"></a>12106     }
<a name="l12107"></a>12107     <span class="comment">// check bottom of rect:</span>
<a name="l12108"></a>12108     bx = rect.left();
<a name="l12109"></a>12109     by = rect.bottom();
<a name="l12110"></a>12110     mu = (by-base.y())/vec.y();
<a name="l12111"></a>12111     <span class="keywordflow">if</span> (mu &gt;= 0 &amp;&amp; mu &lt;= 1)
<a name="l12112"></a>12112     {
<a name="l12113"></a>12113       gamma = base.x()-bx + mu*vec.x();
<a name="l12114"></a>12114       <span class="keywordflow">if</span> (gamma &gt;= 0 &amp;&amp; gamma &lt;= rect.width())
<a name="l12115"></a>12115         pointVectors.append(QVector2D(bx+gamma, by));
<a name="l12116"></a>12116     }
<a name="l12117"></a>12117   }
<a name="l12118"></a>12118   <span class="keywordflow">if</span> (!qFuzzyIsNull(vec.x())) <span class="comment">// line is not vertical</span>
<a name="l12119"></a>12119   {
<a name="l12120"></a>12120     <span class="comment">// check left of rect:</span>
<a name="l12121"></a>12121     bx = rect.left();
<a name="l12122"></a>12122     by = rect.top();
<a name="l12123"></a>12123     mu = (bx-base.x())/vec.x();
<a name="l12124"></a>12124     <span class="keywordflow">if</span> (mu &gt;= 0 &amp;&amp; mu &lt;= 1)
<a name="l12125"></a>12125     {
<a name="l12126"></a>12126       gamma = base.y()-by + mu*vec.y();
<a name="l12127"></a>12127       <span class="keywordflow">if</span> (gamma &gt;= 0 &amp;&amp; gamma &lt;= rect.height())
<a name="l12128"></a>12128         pointVectors.append(QVector2D(bx, by+gamma));
<a name="l12129"></a>12129     }
<a name="l12130"></a>12130     <span class="comment">// check right of rect:</span>
<a name="l12131"></a>12131     bx = rect.right();
<a name="l12132"></a>12132     by = rect.top();
<a name="l12133"></a>12133     mu = (bx-base.x())/vec.x();
<a name="l12134"></a>12134     <span class="keywordflow">if</span> (mu &gt;= 0 &amp;&amp; mu &lt;= 1)
<a name="l12135"></a>12135     {
<a name="l12136"></a>12136       gamma = base.y()-by + mu*vec.y();
<a name="l12137"></a>12137       <span class="keywordflow">if</span> (gamma &gt;= 0 &amp;&amp; gamma &lt;= rect.height())
<a name="l12138"></a>12138         pointVectors.append(QVector2D(bx, by+gamma));
<a name="l12139"></a>12139     }
<a name="l12140"></a>12140   }
<a name="l12141"></a>12141   
<a name="l12142"></a>12142   <span class="keywordflow">if</span> (containsStart)
<a name="l12143"></a>12143     pointVectors.append(start);
<a name="l12144"></a>12144   <span class="keywordflow">if</span> (containsEnd)
<a name="l12145"></a>12145     pointVectors.append(end);
<a name="l12146"></a>12146   
<a name="l12147"></a>12147   <span class="comment">// evaluate points:</span>
<a name="l12148"></a>12148   <span class="keywordflow">if</span> (pointVectors.size() == 2)
<a name="l12149"></a>12149   {
<a name="l12150"></a>12150     result.setPoints(pointVectors.at(0).toPointF(), pointVectors.at(1).toPointF());
<a name="l12151"></a>12151   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pointVectors.size() &gt; 2)
<a name="l12152"></a>12152   {
<a name="l12153"></a>12153     <span class="comment">// line probably goes through corner of rect, and we got two points there. single out the point pair with greatest distance:</span>
<a name="l12154"></a>12154     <span class="keywordtype">double</span> distSqrMax = 0;
<a name="l12155"></a>12155     QVector2D pv1, pv2;
<a name="l12156"></a>12156     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;pointVectors.size()-1; ++i)
<a name="l12157"></a>12157     {
<a name="l12158"></a>12158       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=i+1; k&lt;pointVectors.size(); ++k)
<a name="l12159"></a>12159       {
<a name="l12160"></a>12160         <span class="keywordtype">double</span> distSqr = (pointVectors.at(i)-pointVectors.at(k)).lengthSquared();
<a name="l12161"></a>12161         <span class="keywordflow">if</span> (distSqr &gt; distSqrMax)
<a name="l12162"></a>12162         {
<a name="l12163"></a>12163           pv1 = pointVectors.at(i);
<a name="l12164"></a>12164           pv2 = pointVectors.at(k);
<a name="l12165"></a>12165           distSqrMax = distSqr;
<a name="l12166"></a>12166         }
<a name="l12167"></a>12167       }
<a name="l12168"></a>12168     }
<a name="l12169"></a>12169     result.setPoints(pv1.toPointF(), pv2.toPointF());
<a name="l12170"></a>12170   }
<a name="l12171"></a>12171   <span class="keywordflow">return</span> result;
<a name="l12172"></a>12172 }
<a name="l12173"></a>12173 
<a name="l12179"></a><a class="code" href="class_q_c_p_item_line.html#a7b5bc4ebacb55774b87c91b308ca7912">12179</a> QPen <a class="code" href="class_q_c_p_item_line.html#a7b5bc4ebacb55774b87c91b308ca7912">QCPItemLine::mainPen</a>()<span class="keyword"> const</span>
<a name="l12180"></a>12180 <span class="keyword"></span>{
<a name="l12181"></a>12181   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#a4bdb3457dad1d268c0f78a44152b9645">mSelected</a> ? <a class="code" href="class_q_c_p_item_line.html#aff858ad6dde3b90024814ca4b116f278">mSelectedPen</a> : <a class="code" href="class_q_c_p_item_line.html#abbb544d5bb927dfe4e81a7f3ca4c65ac">mPen</a>;
<a name="l12182"></a>12182 }
<a name="l12183"></a>12183 
<a name="l12184"></a>12184 
<a name="l12185"></a>12185 <span class="comment">// ================================================================================</span>
<a name="l12186"></a>12186 <span class="comment">// =================== QCPItemEllipse</span>
<a name="l12187"></a>12187 <span class="comment">// ================================================================================</span>
<a name="l12188"></a>12188 
<a name="l12202"></a><a class="code" href="class_q_c_p_item_ellipse.html#a759b77ef002515eba0263b5447ecb3fb">12202</a> <a class="code" href="class_q_c_p_item_ellipse.html#a759b77ef002515eba0263b5447ecb3fb">QCPItemEllipse::QCPItemEllipse</a>(<a class="code" href="class_q_custom_plot.html" title="The central class of the library, the QWidget which displays the plot and interacts with the user...">QCustomPlot</a> *parentPlot) :
<a name="l12203"></a>12203   <a class="code" href="class_q_c_p_abstract_item.html" title="The abstract base class for all items in a plot.">QCPAbstractItem</a>(parentPlot),
<a name="l12204"></a>12204   topLeft(createPosition(<span class="stringliteral">&quot;topLeft&quot;</span>)),
<a name="l12205"></a>12205   bottomRight(createPosition(<span class="stringliteral">&quot;bottomRight&quot;</span>)),
<a name="l12206"></a>12206   topLeftRim(createAnchor(<span class="stringliteral">&quot;topLeftRim&quot;</span>, aiTopLeftRim)),
<a name="l12207"></a>12207   top(createAnchor(<span class="stringliteral">&quot;top&quot;</span>, aiTop)),
<a name="l12208"></a>12208   topRightRim(createAnchor(<span class="stringliteral">&quot;topRightRim&quot;</span>, aiTopRightRim)),
<a name="l12209"></a>12209   right(createAnchor(<span class="stringliteral">&quot;right&quot;</span>, aiRight)),
<a name="l12210"></a>12210   bottomRightRim(createAnchor(<span class="stringliteral">&quot;bottomRightRim&quot;</span>, aiBottomRightRim)),
<a name="l12211"></a>12211   bottom(createAnchor(<span class="stringliteral">&quot;bottom&quot;</span>, aiBottom)),
<a name="l12212"></a>12212   bottomLeftRim(createAnchor(<span class="stringliteral">&quot;bottomLeftRim&quot;</span>, aiBottomLeftRim)),
<a name="l12213"></a>12213   left(createAnchor(<span class="stringliteral">&quot;left&quot;</span>, aiLeft))
<a name="l12214"></a>12214 {
<a name="l12215"></a>12215   <a class="code" href="class_q_c_p_item_ellipse.html#a12fd8420c06718d0c8a2303d6a652848">topLeft</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(0, 1);
<a name="l12216"></a>12216   <a class="code" href="class_q_c_p_item_ellipse.html#ab73c8deafc0d8d1ef7d75b6cdcc37159">bottomRight</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(1, 0);
<a name="l12217"></a>12217   
<a name="l12218"></a>12218   <a class="code" href="class_q_c_p_item_ellipse.html#adb81a663ed2420fcfa011e49f678d1a6">setPen</a>(QPen(Qt::black));
<a name="l12219"></a>12219   <a class="code" href="class_q_c_p_item_ellipse.html#a6c542fba1dc918041c583f58a50dde99">setSelectedPen</a>(QPen(Qt::blue, 2));
<a name="l12220"></a>12220   <a class="code" href="class_q_c_p_item_ellipse.html#a49fc74e6965834e873d027d026def798">setBrush</a>(Qt::NoBrush);
<a name="l12221"></a>12221   <a class="code" href="class_q_c_p_item_ellipse.html#a9693501cfaa43a099655c75bed0dab3f">setSelectedBrush</a>(Qt::NoBrush);
<a name="l12222"></a>12222 }
<a name="l12223"></a>12223 
<a name="l12224"></a><a class="code" href="class_q_c_p_item_ellipse.html#a3c17073a1805d32b4e09b6ccde0bef76">12224</a> <a class="code" href="class_q_c_p_item_ellipse.html#a3c17073a1805d32b4e09b6ccde0bef76">QCPItemEllipse::~QCPItemEllipse</a>()
<a name="l12225"></a>12225 {
<a name="l12226"></a>12226 }
<a name="l12227"></a>12227 
<a name="l12233"></a><a class="code" href="class_q_c_p_item_ellipse.html#adb81a663ed2420fcfa011e49f678d1a6">12233</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_ellipse.html#adb81a663ed2420fcfa011e49f678d1a6">QCPItemEllipse::setPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l12234"></a>12234 {
<a name="l12235"></a>12235   <a class="code" href="class_q_c_p_item_ellipse.html#a16ad9389acf028a7e4ac8fd7a550b2e4">mPen</a> = <a class="code" href="class_q_c_p_item_ellipse.html#adb67471eabaf1214c99767f1653ca0ed">pen</a>;
<a name="l12236"></a>12236 }
<a name="l12237"></a>12237 
<a name="l12243"></a><a class="code" href="class_q_c_p_item_ellipse.html#a6c542fba1dc918041c583f58a50dde99">12243</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_ellipse.html#a6c542fba1dc918041c583f58a50dde99">QCPItemEllipse::setSelectedPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l12244"></a>12244 {
<a name="l12245"></a>12245   <a class="code" href="class_q_c_p_item_ellipse.html#a57b047abfce6f1a84ed46ca668c90e21">mSelectedPen</a> = <a class="code" href="class_q_c_p_item_ellipse.html#adb67471eabaf1214c99767f1653ca0ed">pen</a>;
<a name="l12246"></a>12246 }
<a name="l12247"></a>12247 
<a name="l12254"></a><a class="code" href="class_q_c_p_item_ellipse.html#a49fc74e6965834e873d027d026def798">12254</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_ellipse.html#a49fc74e6965834e873d027d026def798">QCPItemEllipse::setBrush</a>(<span class="keyword">const</span> QBrush &amp;brush)
<a name="l12255"></a>12255 {
<a name="l12256"></a>12256   <a class="code" href="class_q_c_p_item_ellipse.html#a6fa59478cd3ad1b10e6c1f6cedc84bd6">mBrush</a> = <a class="code" href="class_q_c_p_item_ellipse.html#ac012e4fd59fdb1afb6554937bae8f7e1">brush</a>;
<a name="l12257"></a>12257 }
<a name="l12258"></a>12258 
<a name="l12265"></a><a class="code" href="class_q_c_p_item_ellipse.html#a9693501cfaa43a099655c75bed0dab3f">12265</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_ellipse.html#a9693501cfaa43a099655c75bed0dab3f">QCPItemEllipse::setSelectedBrush</a>(<span class="keyword">const</span> QBrush &amp;brush)
<a name="l12266"></a>12266 {
<a name="l12267"></a>12267   <a class="code" href="class_q_c_p_item_ellipse.html#a2e49d5547478aa36910ed8a2dcc8a5c0">mSelectedBrush</a> = <a class="code" href="class_q_c_p_item_ellipse.html#ac012e4fd59fdb1afb6554937bae8f7e1">brush</a>;
<a name="l12268"></a>12268 }
<a name="l12269"></a>12269 
<a name="l12270"></a>12270 <span class="comment">/* inherits documentation from base class */</span>
<a name="l12271"></a><a class="code" href="class_q_c_p_item_ellipse.html#ac456143773711ea2e3782e51ff2f7eb4">12271</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_item_ellipse.html#ac456143773711ea2e3782e51ff2f7eb4">QCPItemEllipse::selectTest</a>(<span class="keyword">const</span> QPointF &amp;pos)<span class="keyword"> const</span>
<a name="l12272"></a>12272 <span class="keyword"></span>{
<a name="l12273"></a>12273   <span class="keywordtype">double</span> result = -1;
<a name="l12274"></a>12274   QPointF p1 = <a class="code" href="class_q_c_p_item_ellipse.html#a12fd8420c06718d0c8a2303d6a652848">topLeft</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>();
<a name="l12275"></a>12275   QPointF p2 = <a class="code" href="class_q_c_p_item_ellipse.html#ab73c8deafc0d8d1ef7d75b6cdcc37159">bottomRight</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>();
<a name="l12276"></a>12276   QPointF center((p1+p2)/2.0);
<a name="l12277"></a>12277   <span class="keywordtype">double</span> a = qAbs(p1.x()-p2.x())/2.0;
<a name="l12278"></a>12278   <span class="keywordtype">double</span> b = qAbs(p1.y()-p2.y())/2.0;
<a name="l12279"></a>12279   <span class="keywordtype">double</span> x = pos.x()-center.x();
<a name="l12280"></a>12280   <span class="keywordtype">double</span> y = pos.y()-center.y();
<a name="l12281"></a>12281   
<a name="l12282"></a>12282   <span class="comment">// distance to border:</span>
<a name="l12283"></a>12283   <span class="keywordtype">double</span> c = 1.0/qSqrt(x*x/(a*a)+y*y/(b*b));
<a name="l12284"></a>12284   result = qAbs(c-1)*qSqrt(x*x+y*y);
<a name="l12285"></a>12285   <span class="comment">// filled ellipse, allow click inside to count as hit:</span>
<a name="l12286"></a>12286   <span class="keywordflow">if</span> (result &gt; <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a7b738074c75e80070ef6a10263c6cd69">selectionTolerance</a>()*0.99 &amp;&amp; <a class="code" href="class_q_c_p_item_ellipse.html#a6fa59478cd3ad1b10e6c1f6cedc84bd6">mBrush</a>.style() != Qt::NoBrush &amp;&amp; <a class="code" href="class_q_c_p_item_ellipse.html#a6fa59478cd3ad1b10e6c1f6cedc84bd6">mBrush</a>.color().alpha() != 0)
<a name="l12287"></a>12287   {
<a name="l12288"></a>12288     <span class="keywordflow">if</span> (x*x/(a*a) + y*y/(b*b) &lt;= 1)
<a name="l12289"></a>12289       result = <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a7b738074c75e80070ef6a10263c6cd69">selectionTolerance</a>()*0.99;
<a name="l12290"></a>12290   }
<a name="l12291"></a>12291   <span class="keywordflow">return</span> result;
<a name="l12292"></a>12292 }
<a name="l12293"></a>12293 
<a name="l12294"></a>12294 <span class="comment">/* inherits documentation from base class */</span>
<a name="l12295"></a><a class="code" href="class_q_c_p_item_ellipse.html#afe97ec827adb05f000fe007783faae3c">12295</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_ellipse.html#afe97ec827adb05f000fe007783faae3c">QCPItemEllipse::draw</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)
<a name="l12296"></a>12296 {
<a name="l12297"></a>12297   QPointF p1 = <a class="code" href="class_q_c_p_item_ellipse.html#a12fd8420c06718d0c8a2303d6a652848">topLeft</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>();
<a name="l12298"></a>12298   QPointF p2 = <a class="code" href="class_q_c_p_item_ellipse.html#ab73c8deafc0d8d1ef7d75b6cdcc37159">bottomRight</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>();
<a name="l12299"></a>12299   <span class="keywordflow">if</span> (p1.toPoint() == p2.toPoint())
<a name="l12300"></a>12300     <span class="keywordflow">return</span>;
<a name="l12301"></a>12301   QRectF ellipseRect = QRectF(p1, p2).normalized();
<a name="l12302"></a>12302   QRect clip = <a class="code" href="class_q_c_p_abstract_item.html#a538e25ff8856534582f5b2b400a46405">clipRect</a>().adjusted(-<a class="code" href="class_q_c_p_item_ellipse.html#afc78d49ed5ffa886bccf18f297f83d30">mainPen</a>().widthF(), -<a class="code" href="class_q_c_p_item_ellipse.html#afc78d49ed5ffa886bccf18f297f83d30">mainPen</a>().widthF(), <a class="code" href="class_q_c_p_item_ellipse.html#afc78d49ed5ffa886bccf18f297f83d30">mainPen</a>().widthF(), <a class="code" href="class_q_c_p_item_ellipse.html#afc78d49ed5ffa886bccf18f297f83d30">mainPen</a>().widthF());
<a name="l12303"></a>12303   <span class="keywordflow">if</span> (ellipseRect.intersects(clip)) <span class="comment">// only draw if bounding rect of ellipse is visible in cliprect</span>
<a name="l12304"></a>12304   {
<a name="l12305"></a>12305     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_item_ellipse.html#afc78d49ed5ffa886bccf18f297f83d30">mainPen</a>());
<a name="l12306"></a>12306     painter-&gt;setBrush(<a class="code" href="class_q_c_p_item_ellipse.html#a2a9757204877c9d0fd07adfb26d6b1d8">mainBrush</a>());
<a name="l12307"></a>12307     <span class="keywordflow">try</span>
<a name="l12308"></a>12308     {
<a name="l12309"></a>12309       painter-&gt;drawEllipse(ellipseRect);
<a name="l12310"></a>12310     } <span class="keywordflow">catch</span> (...)
<a name="l12311"></a>12311     {
<a name="l12312"></a>12312       qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;Item too large for memory, setting invisible&quot;</span>;
<a name="l12313"></a>12313       <a class="code" href="class_q_c_p_layerable.html#a3bed99ddc396b48ce3ebfdc0418744f8">setVisible</a>(<span class="keyword">false</span>);
<a name="l12314"></a>12314     }
<a name="l12315"></a>12315   }
<a name="l12316"></a>12316 }
<a name="l12317"></a>12317 
<a name="l12318"></a>12318 <span class="comment">/* inherits documentation from base class */</span>
<a name="l12319"></a><a class="code" href="class_q_c_p_item_ellipse.html#ad3c607304dba081e2f778b6a81b903bb">12319</a> QPointF <a class="code" href="class_q_c_p_item_ellipse.html#ad3c607304dba081e2f778b6a81b903bb">QCPItemEllipse::anchorPixelPoint</a>(<span class="keywordtype">int</span> anchorId)<span class="keyword"> const</span>
<a name="l12320"></a>12320 <span class="keyword"></span>{
<a name="l12321"></a>12321   QRectF rect = QRectF(<a class="code" href="class_q_c_p_item_ellipse.html#a12fd8420c06718d0c8a2303d6a652848">topLeft</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>(), <a class="code" href="class_q_c_p_item_ellipse.html#ab73c8deafc0d8d1ef7d75b6cdcc37159">bottomRight</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l12322"></a>12322   <span class="keywordflow">switch</span> (anchorId)
<a name="l12323"></a>12323   {
<a name="l12324"></a>12324     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_ellipse.html#a415009889543169f35b70795f415e45eab2538849b88921e7fc1dcc15b2a6109d">aiTopLeftRim</a>:     <span class="keywordflow">return</span> rect.center()+(rect.topLeft()-rect.center())*1/qSqrt(2);
<a name="l12325"></a>12325     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_ellipse.html#a415009889543169f35b70795f415e45ea83e55b0c1799baac1eecab52bcbe096d">aiTop</a>:            <span class="keywordflow">return</span> (rect.topLeft()+rect.topRight())*0.5;
<a name="l12326"></a>12326     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_ellipse.html#a415009889543169f35b70795f415e45ea415d82233c14f0c70c245d50e706e75b">aiTopRightRim</a>:    <span class="keywordflow">return</span> rect.center()+(rect.topRight()-rect.center())*1/qSqrt(2);
<a name="l12327"></a>12327     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_ellipse.html#a415009889543169f35b70795f415e45ea0f0dcfdf87d9405b53b2129740fb6ba6">aiRight</a>:          <span class="keywordflow">return</span> (rect.topRight()+rect.bottomRight())*0.5;
<a name="l12328"></a>12328     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_ellipse.html#a415009889543169f35b70795f415e45eab62732e96d67801d50c6a9bdebc374d0">aiBottomRightRim</a>: <span class="keywordflow">return</span> rect.center()+(rect.bottomRight()-rect.center())*1/qSqrt(2);
<a name="l12329"></a>12329     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_ellipse.html#a415009889543169f35b70795f415e45ea5894287dedaeec1f48394fd950ccff5b">aiBottom</a>:         <span class="keywordflow">return</span> (rect.bottomLeft()+rect.bottomRight())*0.5;
<a name="l12330"></a>12330     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_ellipse.html#a415009889543169f35b70795f415e45ea7b8101bfc590af8ce32961f6545c4f90">aiBottomLeftRim</a>:  <span class="keywordflow">return</span> rect.center()+(rect.bottomLeft()-rect.center())*1/qSqrt(2);
<a name="l12331"></a>12331     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_ellipse.html#a415009889543169f35b70795f415e45eae74dad00419a0e1f42877510158fb922">aiLeft</a>:           <span class="keywordflow">return</span> (rect.topLeft()+rect.bottomLeft())*0.5;;
<a name="l12332"></a>12332   }
<a name="l12333"></a>12333   
<a name="l12334"></a>12334   qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;invalid anchorId&quot;</span> &lt;&lt; anchorId;
<a name="l12335"></a>12335   <span class="keywordflow">return</span> QPointF();
<a name="l12336"></a>12336 }
<a name="l12337"></a>12337 
<a name="l12343"></a><a class="code" href="class_q_c_p_item_ellipse.html#afc78d49ed5ffa886bccf18f297f83d30">12343</a> QPen <a class="code" href="class_q_c_p_item_ellipse.html#afc78d49ed5ffa886bccf18f297f83d30">QCPItemEllipse::mainPen</a>()<span class="keyword"> const</span>
<a name="l12344"></a>12344 <span class="keyword"></span>{
<a name="l12345"></a>12345   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#a4bdb3457dad1d268c0f78a44152b9645">mSelected</a> ? <a class="code" href="class_q_c_p_item_ellipse.html#a57b047abfce6f1a84ed46ca668c90e21">mSelectedPen</a> : <a class="code" href="class_q_c_p_item_ellipse.html#a16ad9389acf028a7e4ac8fd7a550b2e4">mPen</a>;
<a name="l12346"></a>12346 }
<a name="l12347"></a>12347 
<a name="l12353"></a><a class="code" href="class_q_c_p_item_ellipse.html#a2a9757204877c9d0fd07adfb26d6b1d8">12353</a> QBrush <a class="code" href="class_q_c_p_item_ellipse.html#a2a9757204877c9d0fd07adfb26d6b1d8">QCPItemEllipse::mainBrush</a>()<span class="keyword"> const</span>
<a name="l12354"></a>12354 <span class="keyword"></span>{
<a name="l12355"></a>12355   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#a4bdb3457dad1d268c0f78a44152b9645">mSelected</a> ? <a class="code" href="class_q_c_p_item_ellipse.html#a2e49d5547478aa36910ed8a2dcc8a5c0">mSelectedBrush</a> : <a class="code" href="class_q_c_p_item_ellipse.html#a6fa59478cd3ad1b10e6c1f6cedc84bd6">mBrush</a>;
<a name="l12356"></a>12356 }
<a name="l12357"></a>12357 
<a name="l12358"></a>12358 
<a name="l12359"></a>12359 <span class="comment">// ================================================================================</span>
<a name="l12360"></a>12360 <span class="comment">// =================== QCPItemRect</span>
<a name="l12361"></a>12361 <span class="comment">// ================================================================================</span>
<a name="l12362"></a>12362 
<a name="l12376"></a><a class="code" href="class_q_c_p_item_rect.html#a412ad1579f7a1fba453d0fa28c496cbc">12376</a> <a class="code" href="class_q_c_p_item_rect.html#a412ad1579f7a1fba453d0fa28c496cbc">QCPItemRect::QCPItemRect</a>(<a class="code" href="class_q_custom_plot.html" title="The central class of the library, the QWidget which displays the plot and interacts with the user...">QCustomPlot</a> *parentPlot) :
<a name="l12377"></a>12377   <a class="code" href="class_q_c_p_abstract_item.html" title="The abstract base class for all items in a plot.">QCPAbstractItem</a>(parentPlot),
<a name="l12378"></a>12378   topLeft(createPosition(<span class="stringliteral">&quot;topLeft&quot;</span>)),
<a name="l12379"></a>12379   bottomRight(createPosition(<span class="stringliteral">&quot;bottomRight&quot;</span>)),
<a name="l12380"></a>12380   top(createAnchor(<span class="stringliteral">&quot;top&quot;</span>, aiTop)),
<a name="l12381"></a>12381   topRight(createAnchor(<span class="stringliteral">&quot;topRight&quot;</span>, aiTopRight)),
<a name="l12382"></a>12382   right(createAnchor(<span class="stringliteral">&quot;right&quot;</span>, aiRight)),
<a name="l12383"></a>12383   bottom(createAnchor(<span class="stringliteral">&quot;bottom&quot;</span>, aiBottom)),
<a name="l12384"></a>12384   bottomLeft(createAnchor(<span class="stringliteral">&quot;bottomLeft&quot;</span>, aiBottomLeft)),
<a name="l12385"></a>12385   left(createAnchor(<span class="stringliteral">&quot;left&quot;</span>, aiLeft))
<a name="l12386"></a>12386 {
<a name="l12387"></a>12387   <a class="code" href="class_q_c_p_item_rect.html#aa70feeef173489b03c3fbe906a5023c4">topLeft</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(0, 1);
<a name="l12388"></a>12388   <a class="code" href="class_q_c_p_item_rect.html#a409f3bfe615a7e322bb3d4d193d85b26">bottomRight</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(1, 0);
<a name="l12389"></a>12389   
<a name="l12390"></a>12390   <a class="code" href="class_q_c_p_item_rect.html#a483c0da5a17e1646cd17ddea2c124e7d">setPen</a>(QPen(Qt::black));
<a name="l12391"></a>12391   <a class="code" href="class_q_c_p_item_rect.html#a52a1bcb2dc753a538e406a2ba3cf21ce">setSelectedPen</a>(QPen(Qt::blue,2));
<a name="l12392"></a>12392   <a class="code" href="class_q_c_p_item_rect.html#abbd4e346a03513ee466afc25d9c75446">setBrush</a>(Qt::NoBrush);
<a name="l12393"></a>12393   <a class="code" href="class_q_c_p_item_rect.html#abd1792859844118dedee86223cede7af">setSelectedBrush</a>(Qt::NoBrush);
<a name="l12394"></a>12394 }
<a name="l12395"></a>12395 
<a name="l12396"></a><a class="code" href="class_q_c_p_item_rect.html#af9e89f80457afc2d0fd2c6527b40a5f2">12396</a> <a class="code" href="class_q_c_p_item_rect.html#af9e89f80457afc2d0fd2c6527b40a5f2">QCPItemRect::~QCPItemRect</a>()
<a name="l12397"></a>12397 {
<a name="l12398"></a>12398 }
<a name="l12399"></a>12399 
<a name="l12405"></a><a class="code" href="class_q_c_p_item_rect.html#a483c0da5a17e1646cd17ddea2c124e7d">12405</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_rect.html#a483c0da5a17e1646cd17ddea2c124e7d">QCPItemRect::setPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l12406"></a>12406 {
<a name="l12407"></a>12407   <a class="code" href="class_q_c_p_item_rect.html#aa0d49323628d6752026056bfb52afd86">mPen</a> = <a class="code" href="class_q_c_p_item_rect.html#a3cb7b6de5e82cc5a3c99e9de919a55e6">pen</a>;
<a name="l12408"></a>12408 }
<a name="l12409"></a>12409 
<a name="l12415"></a><a class="code" href="class_q_c_p_item_rect.html#a52a1bcb2dc753a538e406a2ba3cf21ce">12415</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_rect.html#a52a1bcb2dc753a538e406a2ba3cf21ce">QCPItemRect::setSelectedPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l12416"></a>12416 {
<a name="l12417"></a>12417   <a class="code" href="class_q_c_p_item_rect.html#a73cc0bee61de3c67221ec8c7a76a29ed">mSelectedPen</a> = <a class="code" href="class_q_c_p_item_rect.html#a3cb7b6de5e82cc5a3c99e9de919a55e6">pen</a>;
<a name="l12418"></a>12418 }
<a name="l12419"></a>12419 
<a name="l12426"></a><a class="code" href="class_q_c_p_item_rect.html#abbd4e346a03513ee466afc25d9c75446">12426</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_rect.html#abbd4e346a03513ee466afc25d9c75446">QCPItemRect::setBrush</a>(<span class="keyword">const</span> QBrush &amp;brush)
<a name="l12427"></a>12427 {
<a name="l12428"></a>12428   <a class="code" href="class_q_c_p_item_rect.html#a2d7f207fada27588b3a52b19234d3c2e">mBrush</a> = <a class="code" href="class_q_c_p_item_rect.html#a03d2d26ffcac78b25b8e90915f9c4abe">brush</a>;
<a name="l12429"></a>12429 }
<a name="l12430"></a>12430 
<a name="l12437"></a><a class="code" href="class_q_c_p_item_rect.html#abd1792859844118dedee86223cede7af">12437</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_rect.html#abd1792859844118dedee86223cede7af">QCPItemRect::setSelectedBrush</a>(<span class="keyword">const</span> QBrush &amp;brush)
<a name="l12438"></a>12438 {
<a name="l12439"></a>12439   <a class="code" href="class_q_c_p_item_rect.html#a21b70eee59b6e19ae0bbdf037b13508f">mSelectedBrush</a> = <a class="code" href="class_q_c_p_item_rect.html#a03d2d26ffcac78b25b8e90915f9c4abe">brush</a>;
<a name="l12440"></a>12440 }
<a name="l12441"></a>12441 
<a name="l12442"></a>12442 <span class="comment">/* inherits documentation from base class */</span>
<a name="l12443"></a><a class="code" href="class_q_c_p_item_rect.html#a0406a7da87557006f63b5d98ee6c397b">12443</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_item_rect.html#a0406a7da87557006f63b5d98ee6c397b">QCPItemRect::selectTest</a>(<span class="keyword">const</span> QPointF &amp;pos)<span class="keyword"> const</span>
<a name="l12444"></a>12444 <span class="keyword"></span>{
<a name="l12445"></a>12445   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_layerable.html#a62e3aed8427d6ce3ccf716f285106cb3">mVisible</a>)
<a name="l12446"></a>12446     <span class="keywordflow">return</span> -1;
<a name="l12447"></a>12447   
<a name="l12448"></a>12448   QRectF rect = QRectF(<a class="code" href="class_q_c_p_item_rect.html#aa70feeef173489b03c3fbe906a5023c4">topLeft</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>(), <a class="code" href="class_q_c_p_item_rect.html#a409f3bfe615a7e322bb3d4d193d85b26">bottomRight</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>()).normalized();
<a name="l12449"></a>12449   <span class="keywordtype">bool</span> filledRect = <a class="code" href="class_q_c_p_item_rect.html#a2d7f207fada27588b3a52b19234d3c2e">mBrush</a>.style() != Qt::NoBrush &amp;&amp; <a class="code" href="class_q_c_p_item_rect.html#a2d7f207fada27588b3a52b19234d3c2e">mBrush</a>.color().alpha() != 0;
<a name="l12450"></a>12450   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#a4c0e14c4e92df91174cb7183fb363069">rectSelectTest</a>(rect, pos, filledRect);
<a name="l12451"></a>12451 }
<a name="l12452"></a>12452 
<a name="l12453"></a>12453 <span class="comment">/* inherits documentation from base class */</span>
<a name="l12454"></a><a class="code" href="class_q_c_p_item_rect.html#a18cd583638b876cdd50f1a155ec182aa">12454</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_rect.html#a18cd583638b876cdd50f1a155ec182aa">QCPItemRect::draw</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)
<a name="l12455"></a>12455 {
<a name="l12456"></a>12456   QPointF p1 = <a class="code" href="class_q_c_p_item_rect.html#aa70feeef173489b03c3fbe906a5023c4">topLeft</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>();
<a name="l12457"></a>12457   QPointF p2 = <a class="code" href="class_q_c_p_item_rect.html#a409f3bfe615a7e322bb3d4d193d85b26">bottomRight</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>();
<a name="l12458"></a>12458   <span class="keywordflow">if</span> (p1.toPoint() == p2.toPoint())
<a name="l12459"></a>12459     <span class="keywordflow">return</span>;
<a name="l12460"></a>12460   QRectF rect = QRectF(p1, p2).normalized();
<a name="l12461"></a>12461   <span class="keywordtype">double</span> clipPad = <a class="code" href="class_q_c_p_item_rect.html#afa0fb7c6328a1e197ecd537de36daf8f">mainPen</a>().widthF();
<a name="l12462"></a>12462   QRectF boundingRect = rect.adjusted(-clipPad, -clipPad, clipPad, clipPad);
<a name="l12463"></a>12463   <span class="keywordflow">if</span> (boundingRect.intersects(<a class="code" href="class_q_c_p_abstract_item.html#a538e25ff8856534582f5b2b400a46405">clipRect</a>())) <span class="comment">// only draw if bounding rect of rect item is visible in cliprect</span>
<a name="l12464"></a>12464   {
<a name="l12465"></a>12465     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_item_rect.html#afa0fb7c6328a1e197ecd537de36daf8f">mainPen</a>());
<a name="l12466"></a>12466     painter-&gt;setBrush(<a class="code" href="class_q_c_p_item_rect.html#ab0bd8e272e822ec851ba5b0c20e9200e">mainBrush</a>());
<a name="l12467"></a>12467     painter-&gt;drawRect(rect);
<a name="l12468"></a>12468   }
<a name="l12469"></a>12469 }
<a name="l12470"></a>12470 
<a name="l12471"></a>12471 <span class="comment">/* inherits documentation from base class */</span>
<a name="l12472"></a><a class="code" href="class_q_c_p_item_rect.html#ae0973f8281fb52361b0c99ee899be07e">12472</a> QPointF <a class="code" href="class_q_c_p_item_rect.html#ae0973f8281fb52361b0c99ee899be07e">QCPItemRect::anchorPixelPoint</a>(<span class="keywordtype">int</span> anchorId)<span class="keyword"> const</span>
<a name="l12473"></a>12473 <span class="keyword"></span>{
<a name="l12474"></a>12474   QRectF rect = QRectF(<a class="code" href="class_q_c_p_item_rect.html#aa70feeef173489b03c3fbe906a5023c4">topLeft</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>(), <a class="code" href="class_q_c_p_item_rect.html#a409f3bfe615a7e322bb3d4d193d85b26">bottomRight</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l12475"></a>12475   <span class="keywordflow">switch</span> (anchorId)
<a name="l12476"></a>12476   {
<a name="l12477"></a>12477     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_rect.html#af0ebba58e6bca4851c4db726691ec0d3acaef33243034885d551dc9b8318ad326">aiTop</a>:         <span class="keywordflow">return</span> (rect.topLeft()+rect.topRight())*0.5;
<a name="l12478"></a>12478     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_rect.html#af0ebba58e6bca4851c4db726691ec0d3aa94843ce5935b36994005c1e1859ef60">aiTopRight</a>:    <span class="keywordflow">return</span> rect.topRight();
<a name="l12479"></a>12479     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_rect.html#af0ebba58e6bca4851c4db726691ec0d3a69fa21fde2f44036381296a6f78b4eb4">aiRight</a>:       <span class="keywordflow">return</span> (rect.topRight()+rect.bottomRight())*0.5;
<a name="l12480"></a>12480     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_rect.html#af0ebba58e6bca4851c4db726691ec0d3a2d294551e07179c4ac0c4e37364a1468">aiBottom</a>:      <span class="keywordflow">return</span> (rect.bottomLeft()+rect.bottomRight())*0.5;
<a name="l12481"></a>12481     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_rect.html#af0ebba58e6bca4851c4db726691ec0d3ab3c42dbb1709a04ba9b03dcbf5a2537a">aiBottomLeft</a>:  <span class="keywordflow">return</span> rect.bottomLeft();
<a name="l12482"></a>12482     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_rect.html#af0ebba58e6bca4851c4db726691ec0d3a8a095c6d6b2e7665a15d9f40c94b47dc">aiLeft</a>:        <span class="keywordflow">return</span> (rect.topLeft()+rect.bottomLeft())*0.5;;
<a name="l12483"></a>12483   }
<a name="l12484"></a>12484   
<a name="l12485"></a>12485   qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;invalid anchorId&quot;</span> &lt;&lt; anchorId;
<a name="l12486"></a>12486   <span class="keywordflow">return</span> QPointF();
<a name="l12487"></a>12487 }
<a name="l12488"></a>12488 
<a name="l12494"></a><a class="code" href="class_q_c_p_item_rect.html#afa0fb7c6328a1e197ecd537de36daf8f">12494</a> QPen <a class="code" href="class_q_c_p_item_rect.html#afa0fb7c6328a1e197ecd537de36daf8f">QCPItemRect::mainPen</a>()<span class="keyword"> const</span>
<a name="l12495"></a>12495 <span class="keyword"></span>{
<a name="l12496"></a>12496   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#a4bdb3457dad1d268c0f78a44152b9645">mSelected</a> ? <a class="code" href="class_q_c_p_item_rect.html#a73cc0bee61de3c67221ec8c7a76a29ed">mSelectedPen</a> : <a class="code" href="class_q_c_p_item_rect.html#aa0d49323628d6752026056bfb52afd86">mPen</a>;
<a name="l12497"></a>12497 }
<a name="l12498"></a>12498 
<a name="l12504"></a><a class="code" href="class_q_c_p_item_rect.html#ab0bd8e272e822ec851ba5b0c20e9200e">12504</a> QBrush <a class="code" href="class_q_c_p_item_rect.html#ab0bd8e272e822ec851ba5b0c20e9200e">QCPItemRect::mainBrush</a>()<span class="keyword"> const</span>
<a name="l12505"></a>12505 <span class="keyword"></span>{
<a name="l12506"></a>12506   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#a4bdb3457dad1d268c0f78a44152b9645">mSelected</a> ? <a class="code" href="class_q_c_p_item_rect.html#a21b70eee59b6e19ae0bbdf037b13508f">mSelectedBrush</a> : <a class="code" href="class_q_c_p_item_rect.html#a2d7f207fada27588b3a52b19234d3c2e">mBrush</a>;
<a name="l12507"></a>12507 }
<a name="l12508"></a>12508 
<a name="l12509"></a>12509 
<a name="l12510"></a>12510 <span class="comment">// ================================================================================</span>
<a name="l12511"></a>12511 <span class="comment">// =================== QCPItemPixmap</span>
<a name="l12512"></a>12512 <span class="comment">// ================================================================================</span>
<a name="l12513"></a>12513 
<a name="l12533"></a><a class="code" href="class_q_c_p_item_pixmap.html#aa6de42a37261b21a5480e7da122345c3">12533</a> <a class="code" href="class_q_c_p_item_pixmap.html#aa6de42a37261b21a5480e7da122345c3">QCPItemPixmap::QCPItemPixmap</a>(<a class="code" href="class_q_custom_plot.html" title="The central class of the library, the QWidget which displays the plot and interacts with the user...">QCustomPlot</a> *parentPlot) :
<a name="l12534"></a>12534   <a class="code" href="class_q_c_p_abstract_item.html" title="The abstract base class for all items in a plot.">QCPAbstractItem</a>(parentPlot),
<a name="l12535"></a>12535   topLeft(createPosition(<span class="stringliteral">&quot;topLeft&quot;</span>)),
<a name="l12536"></a>12536   bottomRight(createPosition(<span class="stringliteral">&quot;bottomRight&quot;</span>)),
<a name="l12537"></a>12537   top(createAnchor(<span class="stringliteral">&quot;top&quot;</span>, aiTop)),
<a name="l12538"></a>12538   topRight(createAnchor(<span class="stringliteral">&quot;topRight&quot;</span>, aiTopRight)),
<a name="l12539"></a>12539   right(createAnchor(<span class="stringliteral">&quot;right&quot;</span>, aiRight)),
<a name="l12540"></a>12540   bottom(createAnchor(<span class="stringliteral">&quot;bottom&quot;</span>, aiBottom)),
<a name="l12541"></a>12541   bottomLeft(createAnchor(<span class="stringliteral">&quot;bottomLeft&quot;</span>, aiBottomLeft)),
<a name="l12542"></a>12542   left(createAnchor(<span class="stringliteral">&quot;left&quot;</span>, aiLeft))
<a name="l12543"></a>12543 {
<a name="l12544"></a>12544   <a class="code" href="class_q_c_p_item_pixmap.html#a43c281ef6ad46f3cf04f365289abe51a">topLeft</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(0, 1);
<a name="l12545"></a>12545   <a class="code" href="class_q_c_p_item_pixmap.html#abcc38063f9502b876bf6615c45cc0994">bottomRight</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(1, 0);
<a name="l12546"></a>12546   
<a name="l12547"></a>12547   <a class="code" href="class_q_c_p_item_pixmap.html#acdade1305edb4b5cae14f97fd132065f">setPen</a>(Qt::NoPen);
<a name="l12548"></a>12548   <a class="code" href="class_q_c_p_item_pixmap.html#afc5e479e88e53740176ce77cb70dd67a">setSelectedPen</a>(QPen(Qt::blue));
<a name="l12549"></a>12549   <a class="code" href="class_q_c_p_item_pixmap.html#aea813ff1b12163ae5d3ac182593b1d6f">setScaled</a>(<span class="keyword">false</span>, Qt::KeepAspectRatio);
<a name="l12550"></a>12550 }
<a name="l12551"></a>12551 
<a name="l12552"></a><a class="code" href="class_q_c_p_item_pixmap.html#a810cac6a409d963cda6ea2d3152f1fd0">12552</a> <a class="code" href="class_q_c_p_item_pixmap.html#a810cac6a409d963cda6ea2d3152f1fd0">QCPItemPixmap::~QCPItemPixmap</a>()
<a name="l12553"></a>12553 {
<a name="l12554"></a>12554 }
<a name="l12555"></a>12555 
<a name="l12559"></a><a class="code" href="class_q_c_p_item_pixmap.html#a726b69ea4025edf48f9b29b6450548a7">12559</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_pixmap.html#a726b69ea4025edf48f9b29b6450548a7">QCPItemPixmap::setPixmap</a>(<span class="keyword">const</span> QPixmap &amp;pixmap)
<a name="l12560"></a>12560 {
<a name="l12561"></a>12561   <a class="code" href="class_q_c_p_item_pixmap.html#a1396cce7f26c7b8e9512906284380c4d">mPixmap</a> = <a class="code" href="class_q_c_p_item_pixmap.html#a73dea89e0eb45127a2705e2c7991b8d8">pixmap</a>;
<a name="l12562"></a>12562 }
<a name="l12563"></a>12563 
<a name="l12568"></a><a class="code" href="class_q_c_p_item_pixmap.html#aea813ff1b12163ae5d3ac182593b1d6f">12568</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_pixmap.html#aea813ff1b12163ae5d3ac182593b1d6f">QCPItemPixmap::setScaled</a>(<span class="keywordtype">bool</span> scaled, Qt::AspectRatioMode aspectRatioMode)
<a name="l12569"></a>12569 {
<a name="l12570"></a>12570   <a class="code" href="class_q_c_p_item_pixmap.html#a8fe670a529cd46a9b8afd9fc1203bc3f">mScaled</a> = <a class="code" href="class_q_c_p_item_pixmap.html#a54026b89dff3c60376c2360f01b6fb83">scaled</a>;
<a name="l12571"></a>12571   <a class="code" href="class_q_c_p_item_pixmap.html#a8dc6b6c1e106ac523efae22d5fe55bab">mAspectRatioMode</a> = <a class="code" href="class_q_c_p_item_pixmap.html#ac5b95c097169e107a61eebbb7c77523c">aspectRatioMode</a>;
<a name="l12572"></a>12572   <a class="code" href="class_q_c_p_item_pixmap.html#a8bced3027b326b290726cd1979c7cfc6">updateScaledPixmap</a>();
<a name="l12573"></a>12573 }
<a name="l12574"></a>12574 
<a name="l12580"></a><a class="code" href="class_q_c_p_item_pixmap.html#acdade1305edb4b5cae14f97fd132065f">12580</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_pixmap.html#acdade1305edb4b5cae14f97fd132065f">QCPItemPixmap::setPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l12581"></a>12581 {
<a name="l12582"></a>12582   <a class="code" href="class_q_c_p_item_pixmap.html#acfee1124eb51a1887aaf8de10777c7a1">mPen</a> = <a class="code" href="class_q_c_p_item_pixmap.html#ab2b821c80cfade589472e933b9c4361f">pen</a>;
<a name="l12583"></a>12583 }
<a name="l12584"></a>12584 
<a name="l12590"></a><a class="code" href="class_q_c_p_item_pixmap.html#afc5e479e88e53740176ce77cb70dd67a">12590</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_pixmap.html#afc5e479e88e53740176ce77cb70dd67a">QCPItemPixmap::setSelectedPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l12591"></a>12591 {
<a name="l12592"></a>12592   <a class="code" href="class_q_c_p_item_pixmap.html#a0949e5bb6a261fc4e9668e28e2effcfa">mSelectedPen</a> = <a class="code" href="class_q_c_p_item_pixmap.html#ab2b821c80cfade589472e933b9c4361f">pen</a>;
<a name="l12593"></a>12593 }
<a name="l12594"></a>12594 
<a name="l12595"></a>12595 <span class="comment">/* inherits documentation from base class */</span>
<a name="l12596"></a><a class="code" href="class_q_c_p_item_pixmap.html#ab725f1025891e9284f75bbe1cb4cabfa">12596</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_item_pixmap.html#ab725f1025891e9284f75bbe1cb4cabfa">QCPItemPixmap::selectTest</a>(<span class="keyword">const</span> QPointF &amp;pos)<span class="keyword"> const</span>
<a name="l12597"></a>12597 <span class="keyword"></span>{
<a name="l12598"></a>12598   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_layerable.html#a62e3aed8427d6ce3ccf716f285106cb3">mVisible</a>)
<a name="l12599"></a>12599     <span class="keywordflow">return</span> -1;
<a name="l12600"></a>12600   
<a name="l12601"></a>12601   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#a4c0e14c4e92df91174cb7183fb363069">rectSelectTest</a>(<a class="code" href="class_q_c_p_item_pixmap.html#a245ef0c626cab7096a810442f2f6a2d9">getFinalRect</a>(), pos, <span class="keyword">true</span>);
<a name="l12602"></a>12602 }
<a name="l12603"></a>12603 
<a name="l12604"></a>12604 <span class="comment">/* inherits documentation from base class */</span>
<a name="l12605"></a><a class="code" href="class_q_c_p_item_pixmap.html#a879e8076c2db01a38b34cfa73ec95d2f">12605</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_pixmap.html#a879e8076c2db01a38b34cfa73ec95d2f">QCPItemPixmap::draw</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)
<a name="l12606"></a>12606 {
<a name="l12607"></a>12607   <span class="keywordtype">bool</span> flipHorz = <span class="keyword">false</span>;
<a name="l12608"></a>12608   <span class="keywordtype">bool</span> flipVert = <span class="keyword">false</span>;
<a name="l12609"></a>12609   QRect rect = <a class="code" href="class_q_c_p_item_pixmap.html#a245ef0c626cab7096a810442f2f6a2d9">getFinalRect</a>(&amp;flipHorz, &amp;flipVert);
<a name="l12610"></a>12610   <span class="keywordtype">double</span> clipPad = <a class="code" href="class_q_c_p_item_pixmap.html#af21085516585c475dc9d839e7f377233">mainPen</a>().style() == Qt::NoPen ? 0 : <a class="code" href="class_q_c_p_item_pixmap.html#af21085516585c475dc9d839e7f377233">mainPen</a>().widthF();
<a name="l12611"></a>12611   QRect boundingRect = rect.adjusted(-clipPad, -clipPad, clipPad, clipPad);
<a name="l12612"></a>12612   <span class="keywordflow">if</span> (boundingRect.intersects(<a class="code" href="class_q_c_p_abstract_item.html#a538e25ff8856534582f5b2b400a46405">clipRect</a>()))
<a name="l12613"></a>12613   {
<a name="l12614"></a>12614     <a class="code" href="class_q_c_p_item_pixmap.html#a8bced3027b326b290726cd1979c7cfc6">updateScaledPixmap</a>(rect, flipHorz, flipVert);
<a name="l12615"></a>12615     painter-&gt;drawPixmap(rect.topLeft(), <a class="code" href="class_q_c_p_item_pixmap.html#a8fe670a529cd46a9b8afd9fc1203bc3f">mScaled</a> ? <a class="code" href="class_q_c_p_item_pixmap.html#a2ebc66e15b9f1264563d58f29ba1bc00">mScaledPixmap</a> : <a class="code" href="class_q_c_p_item_pixmap.html#a1396cce7f26c7b8e9512906284380c4d">mPixmap</a>);
<a name="l12616"></a>12616     QPen <a class="code" href="class_q_c_p_item_pixmap.html#ab2b821c80cfade589472e933b9c4361f">pen</a> = <a class="code" href="class_q_c_p_item_pixmap.html#af21085516585c475dc9d839e7f377233">mainPen</a>();
<a name="l12617"></a>12617     <span class="keywordflow">if</span> (pen.style() != Qt::NoPen)
<a name="l12618"></a>12618     {
<a name="l12619"></a>12619       painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(pen);
<a name="l12620"></a>12620       painter-&gt;setBrush(Qt::NoBrush);
<a name="l12621"></a>12621       painter-&gt;drawRect(rect);
<a name="l12622"></a>12622     }
<a name="l12623"></a>12623   }
<a name="l12624"></a>12624 }
<a name="l12625"></a>12625 
<a name="l12626"></a>12626 <span class="comment">/* inherits documentation from base class */</span>
<a name="l12627"></a><a class="code" href="class_q_c_p_item_pixmap.html#a88abce3c1027f371cddcf6dad35ffbb1">12627</a> QPointF <a class="code" href="class_q_c_p_item_pixmap.html#a88abce3c1027f371cddcf6dad35ffbb1">QCPItemPixmap::anchorPixelPoint</a>(<span class="keywordtype">int</span> anchorId)<span class="keyword"> const</span>
<a name="l12628"></a>12628 <span class="keyword"></span>{
<a name="l12629"></a>12629   <span class="keywordtype">bool</span> flipHorz;
<a name="l12630"></a>12630   <span class="keywordtype">bool</span> flipVert;
<a name="l12631"></a>12631   QRect rect = <a class="code" href="class_q_c_p_item_pixmap.html#a245ef0c626cab7096a810442f2f6a2d9">getFinalRect</a>(&amp;flipHorz, &amp;flipVert);
<a name="l12632"></a>12632   <span class="comment">// we actually want denormal rects (negative width/height) here, so restore</span>
<a name="l12633"></a>12633   <span class="comment">// the flipped state:</span>
<a name="l12634"></a>12634   <span class="keywordflow">if</span> (flipHorz)
<a name="l12635"></a>12635     rect.adjust(rect.width(), 0, -rect.width(), 0);
<a name="l12636"></a>12636   <span class="keywordflow">if</span> (flipVert)
<a name="l12637"></a>12637     rect.adjust(0, rect.height(), 0, -rect.height());
<a name="l12638"></a>12638   
<a name="l12639"></a>12639   <span class="keywordflow">switch</span> (anchorId)
<a name="l12640"></a>12640   {
<a name="l12641"></a>12641     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_pixmap.html#a0ea7f65edb7395e02de521915f221174a90e523ebaed7921ca90cf1b08944ece5">aiTop</a>:         <span class="keywordflow">return</span> (rect.topLeft()+rect.topRight())*0.5;
<a name="l12642"></a>12642     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_pixmap.html#a0ea7f65edb7395e02de521915f221174a33c256cdec46fa1587534fcd6e776799">aiTopRight</a>:    <span class="keywordflow">return</span> rect.topRight();
<a name="l12643"></a>12643     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_pixmap.html#a0ea7f65edb7395e02de521915f221174ab22d91dae59c0d4a65416a0d677b2d05">aiRight</a>:       <span class="keywordflow">return</span> (rect.topRight()+rect.bottomRight())*0.5;
<a name="l12644"></a>12644     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_pixmap.html#a0ea7f65edb7395e02de521915f221174a04b5e041b4dd0def2b60c5cfea2bc1a4">aiBottom</a>:      <span class="keywordflow">return</span> (rect.bottomLeft()+rect.bottomRight())*0.5;
<a name="l12645"></a>12645     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_pixmap.html#a0ea7f65edb7395e02de521915f221174ae14886b381136898e37e89af5046a1cc">aiBottomLeft</a>:  <span class="keywordflow">return</span> rect.bottomLeft();
<a name="l12646"></a>12646     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_pixmap.html#a0ea7f65edb7395e02de521915f221174a9efe71239b9409ebe1c2813a37807f2a">aiLeft</a>:        <span class="keywordflow">return</span> (rect.topLeft()+rect.bottomLeft())*0.5;;
<a name="l12647"></a>12647   }
<a name="l12648"></a>12648   
<a name="l12649"></a>12649   qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;invalid anchorId&quot;</span> &lt;&lt; anchorId;
<a name="l12650"></a>12650   <span class="keywordflow">return</span> QPointF();
<a name="l12651"></a>12651 }
<a name="l12652"></a>12652 
<a name="l12666"></a><a class="code" href="class_q_c_p_item_pixmap.html#a8bced3027b326b290726cd1979c7cfc6">12666</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_pixmap.html#a8bced3027b326b290726cd1979c7cfc6">QCPItemPixmap::updateScaledPixmap</a>(QRect finalRect, <span class="keywordtype">bool</span> flipHorz, <span class="keywordtype">bool</span> flipVert)
<a name="l12667"></a>12667 {
<a name="l12668"></a>12668   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_pixmap.html#a8fe670a529cd46a9b8afd9fc1203bc3f">mScaled</a>)
<a name="l12669"></a>12669   {
<a name="l12670"></a>12670     <span class="keywordflow">if</span> (finalRect.isNull())
<a name="l12671"></a>12671       finalRect = <a class="code" href="class_q_c_p_item_pixmap.html#a245ef0c626cab7096a810442f2f6a2d9">getFinalRect</a>(&amp;flipHorz, &amp;flipVert);
<a name="l12672"></a>12672     <span class="keywordflow">if</span> (finalRect.size() != <a class="code" href="class_q_c_p_item_pixmap.html#a2ebc66e15b9f1264563d58f29ba1bc00">mScaledPixmap</a>.size())
<a name="l12673"></a>12673     {
<a name="l12674"></a>12674       <a class="code" href="class_q_c_p_item_pixmap.html#a2ebc66e15b9f1264563d58f29ba1bc00">mScaledPixmap</a> = <a class="code" href="class_q_c_p_item_pixmap.html#a1396cce7f26c7b8e9512906284380c4d">mPixmap</a>.scaled(finalRect.size(), <a class="code" href="class_q_c_p_item_pixmap.html#a8dc6b6c1e106ac523efae22d5fe55bab">mAspectRatioMode</a>, Qt::SmoothTransformation);
<a name="l12675"></a>12675       <span class="keywordflow">if</span> (flipHorz || flipVert)
<a name="l12676"></a>12676         <a class="code" href="class_q_c_p_item_pixmap.html#a2ebc66e15b9f1264563d58f29ba1bc00">mScaledPixmap</a> = QPixmap::fromImage(<a class="code" href="class_q_c_p_item_pixmap.html#a2ebc66e15b9f1264563d58f29ba1bc00">mScaledPixmap</a>.toImage().mirrored(flipHorz, flipVert));
<a name="l12677"></a>12677     }
<a name="l12678"></a>12678   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_item_pixmap.html#a2ebc66e15b9f1264563d58f29ba1bc00">mScaledPixmap</a>.isNull())
<a name="l12679"></a>12679     <a class="code" href="class_q_c_p_item_pixmap.html#a2ebc66e15b9f1264563d58f29ba1bc00">mScaledPixmap</a> = QPixmap();
<a name="l12680"></a>12680 }
<a name="l12681"></a>12681 
<a name="l12696"></a><a class="code" href="class_q_c_p_item_pixmap.html#a245ef0c626cab7096a810442f2f6a2d9">12696</a> QRect <a class="code" href="class_q_c_p_item_pixmap.html#a245ef0c626cab7096a810442f2f6a2d9">QCPItemPixmap::getFinalRect</a>(<span class="keywordtype">bool</span> *flippedHorz, <span class="keywordtype">bool</span> *flippedVert)<span class="keyword"> const</span>
<a name="l12697"></a>12697 <span class="keyword"></span>{
<a name="l12698"></a>12698   QRect result;
<a name="l12699"></a>12699   <span class="keywordtype">bool</span> flipHorz = <span class="keyword">false</span>;
<a name="l12700"></a>12700   <span class="keywordtype">bool</span> flipVert = <span class="keyword">false</span>;
<a name="l12701"></a>12701   QPoint p1 = <a class="code" href="class_q_c_p_item_pixmap.html#a43c281ef6ad46f3cf04f365289abe51a">topLeft</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>().toPoint();
<a name="l12702"></a>12702   QPoint p2 = <a class="code" href="class_q_c_p_item_pixmap.html#abcc38063f9502b876bf6615c45cc0994">bottomRight</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>().toPoint();
<a name="l12703"></a>12703   <span class="keywordflow">if</span> (p1 == p2)
<a name="l12704"></a>12704     <span class="keywordflow">return</span> QRect(p1, QSize(0, 0));
<a name="l12705"></a>12705   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_pixmap.html#a8fe670a529cd46a9b8afd9fc1203bc3f">mScaled</a>)
<a name="l12706"></a>12706   {
<a name="l12707"></a>12707     QSize newSize = QSize(p2.x()-p1.x(), p2.y()-p1.y());
<a name="l12708"></a>12708     QPoint <a class="code" href="class_q_c_p_item_pixmap.html#a43c281ef6ad46f3cf04f365289abe51a">topLeft</a> = p1;
<a name="l12709"></a>12709     <span class="keywordflow">if</span> (newSize.width() &lt; 0)
<a name="l12710"></a>12710     {
<a name="l12711"></a>12711       flipHorz = <span class="keyword">true</span>;
<a name="l12712"></a>12712       newSize.rwidth() *= -1;
<a name="l12713"></a>12713       topLeft.setX(p2.x());
<a name="l12714"></a>12714     }
<a name="l12715"></a>12715     <span class="keywordflow">if</span> (newSize.height() &lt; 0)
<a name="l12716"></a>12716     {
<a name="l12717"></a>12717       flipVert = <span class="keyword">true</span>;
<a name="l12718"></a>12718       newSize.rheight() *= -1;
<a name="l12719"></a>12719       topLeft.setY(p2.y());
<a name="l12720"></a>12720     }
<a name="l12721"></a>12721     QSize scaledSize = <a class="code" href="class_q_c_p_item_pixmap.html#a1396cce7f26c7b8e9512906284380c4d">mPixmap</a>.size();
<a name="l12722"></a>12722     scaledSize.scale(newSize, <a class="code" href="class_q_c_p_item_pixmap.html#a8dc6b6c1e106ac523efae22d5fe55bab">mAspectRatioMode</a>);
<a name="l12723"></a>12723     result = QRect(topLeft, scaledSize);
<a name="l12724"></a>12724   } <span class="keywordflow">else</span>
<a name="l12725"></a>12725   {
<a name="l12726"></a>12726     result = QRect(p1, <a class="code" href="class_q_c_p_item_pixmap.html#a1396cce7f26c7b8e9512906284380c4d">mPixmap</a>.size());
<a name="l12727"></a>12727   }
<a name="l12728"></a>12728   <span class="keywordflow">if</span> (flippedHorz)
<a name="l12729"></a>12729     *flippedHorz = flipHorz;
<a name="l12730"></a>12730   <span class="keywordflow">if</span> (flippedVert)
<a name="l12731"></a>12731     *flippedVert = flipVert;
<a name="l12732"></a>12732   <span class="keywordflow">return</span> result;
<a name="l12733"></a>12733 }
<a name="l12734"></a>12734 
<a name="l12740"></a><a class="code" href="class_q_c_p_item_pixmap.html#af21085516585c475dc9d839e7f377233">12740</a> QPen <a class="code" href="class_q_c_p_item_pixmap.html#af21085516585c475dc9d839e7f377233">QCPItemPixmap::mainPen</a>()<span class="keyword"> const</span>
<a name="l12741"></a>12741 <span class="keyword"></span>{
<a name="l12742"></a>12742   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#a4bdb3457dad1d268c0f78a44152b9645">mSelected</a> ? <a class="code" href="class_q_c_p_item_pixmap.html#a0949e5bb6a261fc4e9668e28e2effcfa">mSelectedPen</a> : <a class="code" href="class_q_c_p_item_pixmap.html#acfee1124eb51a1887aaf8de10777c7a1">mPen</a>;
<a name="l12743"></a>12743 }
<a name="l12744"></a>12744 
<a name="l12745"></a>12745 
<a name="l12746"></a>12746 <span class="comment">// ================================================================================</span>
<a name="l12747"></a>12747 <span class="comment">// =================== QCPItemText</span>
<a name="l12748"></a>12748 <span class="comment">// ================================================================================</span>
<a name="l12749"></a>12749 
<a name="l12769"></a><a class="code" href="class_q_c_p_item_text.html#a77ff96a2972a00872ff8f8c67143abbe">12769</a> <a class="code" href="class_q_c_p_item_text.html#a77ff96a2972a00872ff8f8c67143abbe">QCPItemText::QCPItemText</a>(<a class="code" href="class_q_custom_plot.html" title="The central class of the library, the QWidget which displays the plot and interacts with the user...">QCustomPlot</a> *parentPlot) :
<a name="l12770"></a>12770   <a class="code" href="class_q_c_p_abstract_item.html" title="The abstract base class for all items in a plot.">QCPAbstractItem</a>(parentPlot),
<a name="l12771"></a>12771   position(createPosition(<span class="stringliteral">&quot;position&quot;</span>)),
<a name="l12772"></a>12772   topLeft(createAnchor(<span class="stringliteral">&quot;topLeft&quot;</span>, aiTopLeft)),
<a name="l12773"></a>12773   top(createAnchor(<span class="stringliteral">&quot;top&quot;</span>, aiTop)),
<a name="l12774"></a>12774   topRight(createAnchor(<span class="stringliteral">&quot;topRight&quot;</span>, aiTopRight)),
<a name="l12775"></a>12775   right(createAnchor(<span class="stringliteral">&quot;right&quot;</span>, aiRight)),
<a name="l12776"></a>12776   bottomRight(createAnchor(<span class="stringliteral">&quot;bottomRight&quot;</span>, aiBottomRight)),
<a name="l12777"></a>12777   bottom(createAnchor(<span class="stringliteral">&quot;bottom&quot;</span>, aiBottom)),
<a name="l12778"></a>12778   bottomLeft(createAnchor(<span class="stringliteral">&quot;bottomLeft&quot;</span>, aiBottomLeft)),
<a name="l12779"></a>12779   left(createAnchor(<span class="stringliteral">&quot;left&quot;</span>, aiLeft))
<a name="l12780"></a>12780 {
<a name="l12781"></a>12781   <a class="code" href="class_q_c_p_item_text.html#a0d228a00e819022b5690c65762721129">position</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(0, 0);
<a name="l12782"></a>12782   
<a name="l12783"></a>12783   <a class="code" href="class_q_c_p_item_text.html#a4bcc10cd97952c3f749d75824b5077f0">setRotation</a>(0);
<a name="l12784"></a>12784   <a class="code" href="class_q_c_p_item_text.html#ab5bc0684c4d1bed81949a11b34dba478">setTextAlignment</a>(Qt::AlignTop|Qt::AlignHCenter);
<a name="l12785"></a>12785   <a class="code" href="class_q_c_p_item_text.html#a781cdf8c640fc6a055dcff1e675c8c7a">setPositionAlignment</a>(Qt::AlignCenter);
<a name="l12786"></a>12786   <a class="code" href="class_q_c_p_item_text.html#a3dacdda0ac88f99a05b333b977c48747">setText</a>(<span class="stringliteral">&quot;text&quot;</span>);
<a name="l12787"></a>12787   
<a name="l12788"></a>12788   <a class="code" href="class_q_c_p_item_text.html#a9b9ec6eea0eb0603977ff84d4c78d0a3">setPen</a>(Qt::NoPen);
<a name="l12789"></a>12789   <a class="code" href="class_q_c_p_item_text.html#a291febe586f0da3f1c392e77bef4aa20">setSelectedPen</a>(Qt::NoPen);
<a name="l12790"></a>12790   <a class="code" href="class_q_c_p_item_text.html#a1c7e131516df2ed8d941ef31240ded8e">setBrush</a>(Qt::NoBrush);
<a name="l12791"></a>12791   <a class="code" href="class_q_c_p_item_text.html#a6b8377eeb2af75eb9528422671ac16cb">setSelectedBrush</a>(Qt::NoBrush);
<a name="l12792"></a>12792   <a class="code" href="class_q_c_p_item_text.html#aa51efc0841fe52da9eaf8aff6fc8a8b2">setColor</a>(Qt::black);
<a name="l12793"></a>12793   <a class="code" href="class_q_c_p_item_text.html#ae7ba0bdb75c897b028388e45bfd435fa">setSelectedColor</a>(Qt::blue);
<a name="l12794"></a>12794 }
<a name="l12795"></a>12795 
<a name="l12796"></a><a class="code" href="class_q_c_p_item_text.html#a1efd41ca53d49042d4f4b63cf9615cb6">12796</a> <a class="code" href="class_q_c_p_item_text.html#a1efd41ca53d49042d4f4b63cf9615cb6">QCPItemText::~QCPItemText</a>()
<a name="l12797"></a>12797 {
<a name="l12798"></a>12798 }
<a name="l12799"></a>12799 
<a name="l12803"></a><a class="code" href="class_q_c_p_item_text.html#aa51efc0841fe52da9eaf8aff6fc8a8b2">12803</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_text.html#aa51efc0841fe52da9eaf8aff6fc8a8b2">QCPItemText::setColor</a>(<span class="keyword">const</span> QColor &amp;color)
<a name="l12804"></a>12804 {
<a name="l12805"></a>12805   <a class="code" href="class_q_c_p_item_text.html#a8407f284ad867f627878cc26ef433d08">mColor</a> = <a class="code" href="class_q_c_p_item_text.html#ac9cb0a8a27f64d1b40855910ea9ebd03">color</a>;
<a name="l12806"></a>12806 }
<a name="l12807"></a>12807 
<a name="l12811"></a><a class="code" href="class_q_c_p_item_text.html#ae7ba0bdb75c897b028388e45bfd435fa">12811</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_text.html#ae7ba0bdb75c897b028388e45bfd435fa">QCPItemText::setSelectedColor</a>(<span class="keyword">const</span> QColor &amp;color)
<a name="l12812"></a>12812 {
<a name="l12813"></a>12813   <a class="code" href="class_q_c_p_item_text.html#a7eb64e42f5f7998a97d8907ad25933c1">mSelectedColor</a> = <a class="code" href="class_q_c_p_item_text.html#ac9cb0a8a27f64d1b40855910ea9ebd03">color</a>;
<a name="l12814"></a>12814 }
<a name="l12815"></a>12815 
<a name="l12822"></a><a class="code" href="class_q_c_p_item_text.html#a9b9ec6eea0eb0603977ff84d4c78d0a3">12822</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_text.html#a9b9ec6eea0eb0603977ff84d4c78d0a3">QCPItemText::setPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l12823"></a>12823 {
<a name="l12824"></a>12824   <a class="code" href="class_q_c_p_item_text.html#aa02388705dbbff1bf7b8aa872b5f579c">mPen</a> = <a class="code" href="class_q_c_p_item_text.html#a552bd02f46dbcb4b4812559036893352">pen</a>;
<a name="l12825"></a>12825 }
<a name="l12826"></a>12826 
<a name="l12833"></a><a class="code" href="class_q_c_p_item_text.html#a291febe586f0da3f1c392e77bef4aa20">12833</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_text.html#a291febe586f0da3f1c392e77bef4aa20">QCPItemText::setSelectedPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l12834"></a>12834 {
<a name="l12835"></a>12835   <a class="code" href="class_q_c_p_item_text.html#a8eaec649606d6ead2d8d4dcb5691777c">mSelectedPen</a> = <a class="code" href="class_q_c_p_item_text.html#a552bd02f46dbcb4b4812559036893352">pen</a>;
<a name="l12836"></a>12836 }
<a name="l12837"></a>12837 
<a name="l12844"></a><a class="code" href="class_q_c_p_item_text.html#a1c7e131516df2ed8d941ef31240ded8e">12844</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_text.html#a1c7e131516df2ed8d941ef31240ded8e">QCPItemText::setBrush</a>(<span class="keyword">const</span> QBrush &amp;brush)
<a name="l12845"></a>12845 {
<a name="l12846"></a>12846   <a class="code" href="class_q_c_p_item_text.html#a2535911875faa459b8337f2efccb5cb8">mBrush</a> = <a class="code" href="class_q_c_p_item_text.html#a38b981dfacb703efa8e27346eebcb5a2">brush</a>;
<a name="l12847"></a>12847 }
<a name="l12848"></a>12848 
<a name="l12855"></a><a class="code" href="class_q_c_p_item_text.html#a6b8377eeb2af75eb9528422671ac16cb">12855</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_text.html#a6b8377eeb2af75eb9528422671ac16cb">QCPItemText::setSelectedBrush</a>(<span class="keyword">const</span> QBrush &amp;brush)
<a name="l12856"></a>12856 {
<a name="l12857"></a>12857   <a class="code" href="class_q_c_p_item_text.html#a28ccd097b42a216d81db9c6869f54a59">mSelectedBrush</a> = <a class="code" href="class_q_c_p_item_text.html#a38b981dfacb703efa8e27346eebcb5a2">brush</a>;
<a name="l12858"></a>12858 }
<a name="l12859"></a>12859 
<a name="l12865"></a><a class="code" href="class_q_c_p_item_text.html#a94ad60ebe04f5c07c35e7c2029e96b1f">12865</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_text.html#a94ad60ebe04f5c07c35e7c2029e96b1f">QCPItemText::setFont</a>(<span class="keyword">const</span> QFont &amp;font)
<a name="l12866"></a>12866 {
<a name="l12867"></a>12867   <a class="code" href="class_q_c_p_item_text.html#a1dc87fe2a824820d549ffd7e644eef8d">mFont</a> = <a class="code" href="class_q_c_p_item_text.html#ad34943fd68a9b1451d3e3234d072e418">font</a>;
<a name="l12868"></a>12868 }
<a name="l12869"></a>12869 
<a name="l12875"></a><a class="code" href="class_q_c_p_item_text.html#a0be2841772f83663c4db307928b82816">12875</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_text.html#a0be2841772f83663c4db307928b82816">QCPItemText::setSelectedFont</a>(<span class="keyword">const</span> QFont &amp;font)
<a name="l12876"></a>12876 {
<a name="l12877"></a>12877   <a class="code" href="class_q_c_p_item_text.html#a6702f141fae590b2f4f1ec02fe9f8bd5">mSelectedFont</a> = <a class="code" href="class_q_c_p_item_text.html#ad34943fd68a9b1451d3e3234d072e418">font</a>;
<a name="l12878"></a>12878 }
<a name="l12879"></a>12879 
<a name="l12886"></a><a class="code" href="class_q_c_p_item_text.html#a3dacdda0ac88f99a05b333b977c48747">12886</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_text.html#a3dacdda0ac88f99a05b333b977c48747">QCPItemText::setText</a>(<span class="keyword">const</span> QString &amp;text)
<a name="l12887"></a>12887 {
<a name="l12888"></a>12888   <a class="code" href="class_q_c_p_item_text.html#a2dec3e08c11f51639629374ecec3bd62">mText</a> = <a class="code" href="class_q_c_p_item_text.html#a9547f7832010486abed0837e75db5330">text</a>;
<a name="l12889"></a>12889 }
<a name="l12890"></a>12890 
<a name="l12903"></a><a class="code" href="class_q_c_p_item_text.html#a781cdf8c640fc6a055dcff1e675c8c7a">12903</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_text.html#a781cdf8c640fc6a055dcff1e675c8c7a">QCPItemText::setPositionAlignment</a>(Qt::Alignment alignment)
<a name="l12904"></a>12904 {
<a name="l12905"></a>12905   <a class="code" href="class_q_c_p_item_text.html#a6c27f7dc1a962a04b32430cf99f04654">mPositionAlignment</a> = alignment;
<a name="l12906"></a>12906 }
<a name="l12907"></a>12907 
<a name="l12911"></a><a class="code" href="class_q_c_p_item_text.html#ab5bc0684c4d1bed81949a11b34dba478">12911</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_text.html#ab5bc0684c4d1bed81949a11b34dba478">QCPItemText::setTextAlignment</a>(Qt::Alignment alignment)
<a name="l12912"></a>12912 {
<a name="l12913"></a>12913   <a class="code" href="class_q_c_p_item_text.html#acdb2e50c38e83da00f083771efbd213f">mTextAlignment</a> = alignment;
<a name="l12914"></a>12914 }
<a name="l12915"></a>12915 
<a name="l12920"></a><a class="code" href="class_q_c_p_item_text.html#a4bcc10cd97952c3f749d75824b5077f0">12920</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_text.html#a4bcc10cd97952c3f749d75824b5077f0">QCPItemText::setRotation</a>(<span class="keywordtype">double</span> degrees)
<a name="l12921"></a>12921 {
<a name="l12922"></a>12922   <a class="code" href="class_q_c_p_item_text.html#ac37df0061552225d2277e1ee3b48f2cb">mRotation</a> = degrees;
<a name="l12923"></a>12923 }
<a name="l12924"></a>12924 
<a name="l12929"></a><a class="code" href="class_q_c_p_item_text.html#aeea8a3e01f135f9dd0bb08f51db66310">12929</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_text.html#aeea8a3e01f135f9dd0bb08f51db66310">QCPItemText::setPadding</a>(<span class="keyword">const</span> QMargins &amp;padding)
<a name="l12930"></a>12930 {
<a name="l12931"></a>12931   <a class="code" href="class_q_c_p_item_text.html#ae7b3ef0ce6046efd4b346d28f2e1fb67">mPadding</a> = <a class="code" href="class_q_c_p_item_text.html#a00e0fa03822ff384bf4921c1c90322ff">padding</a>;
<a name="l12932"></a>12932 }
<a name="l12933"></a>12933 
<a name="l12934"></a>12934 <span class="comment">/* inherits documentation from base class */</span>
<a name="l12935"></a><a class="code" href="class_q_c_p_item_text.html#a01daa9ff25ec84a738ae05f59af99f4a">12935</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_item_text.html#a01daa9ff25ec84a738ae05f59af99f4a">QCPItemText::selectTest</a>(<span class="keyword">const</span> QPointF &amp;pos)<span class="keyword"> const</span>
<a name="l12936"></a>12936 <span class="keyword"></span>{
<a name="l12937"></a>12937   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_layerable.html#a62e3aed8427d6ce3ccf716f285106cb3">mVisible</a>)
<a name="l12938"></a>12938     <span class="keywordflow">return</span> -1;
<a name="l12939"></a>12939   
<a name="l12940"></a>12940   <span class="comment">// The rect may be rotated, so we transform the actual clicked pos to the rotated</span>
<a name="l12941"></a>12941   <span class="comment">// coordinate system, wo we can use the normal rectSelectTest function for non-rotated rects:</span>
<a name="l12942"></a>12942   QPointF positionPixels(<a class="code" href="class_q_c_p_item_text.html#a0d228a00e819022b5690c65762721129">position</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l12943"></a>12943   QTransform inputTransform;
<a name="l12944"></a>12944   inputTransform.translate(positionPixels.x(), positionPixels.y());
<a name="l12945"></a>12945   inputTransform.rotate(-<a class="code" href="class_q_c_p_item_text.html#ac37df0061552225d2277e1ee3b48f2cb">mRotation</a>);
<a name="l12946"></a>12946   inputTransform.translate(-positionPixels.x(), -positionPixels.y());
<a name="l12947"></a>12947   QPointF rotatedPos = inputTransform.map(pos);
<a name="l12948"></a>12948   QFontMetrics fontMetrics(<a class="code" href="class_q_c_p_item_text.html#a1dc87fe2a824820d549ffd7e644eef8d">mFont</a>);
<a name="l12949"></a>12949   QRect textRect = fontMetrics.boundingRect(0, 0, 0, 0, Qt::TextDontClip|<a class="code" href="class_q_c_p_item_text.html#acdb2e50c38e83da00f083771efbd213f">mTextAlignment</a>, <a class="code" href="class_q_c_p_item_text.html#a2dec3e08c11f51639629374ecec3bd62">mText</a>);
<a name="l12950"></a>12950   QRect textBoxRect = textRect.adjusted(-<a class="code" href="class_q_c_p_item_text.html#ae7b3ef0ce6046efd4b346d28f2e1fb67">mPadding</a>.left(), -<a class="code" href="class_q_c_p_item_text.html#ae7b3ef0ce6046efd4b346d28f2e1fb67">mPadding</a>.top(), <a class="code" href="class_q_c_p_item_text.html#ae7b3ef0ce6046efd4b346d28f2e1fb67">mPadding</a>.right(), <a class="code" href="class_q_c_p_item_text.html#ae7b3ef0ce6046efd4b346d28f2e1fb67">mPadding</a>.bottom());
<a name="l12951"></a>12951   QPointF textPos = <a class="code" href="class_q_c_p_item_text.html#aa6e478b1ce198eace89157c4cacc3ddc">getTextDrawPoint</a>(positionPixels, textBoxRect, <a class="code" href="class_q_c_p_item_text.html#a6c27f7dc1a962a04b32430cf99f04654">mPositionAlignment</a>);
<a name="l12952"></a>12952   textBoxRect.moveTopLeft(textPos.toPoint());
<a name="l12953"></a>12953 
<a name="l12954"></a>12954   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#a4c0e14c4e92df91174cb7183fb363069">rectSelectTest</a>(textBoxRect, rotatedPos, <span class="keyword">true</span>);
<a name="l12955"></a>12955 }
<a name="l12956"></a>12956 
<a name="l12957"></a>12957 <span class="comment">/* inherits documentation from base class */</span>
<a name="l12958"></a><a class="code" href="class_q_c_p_item_text.html#a8793adb271ab79b4cf391dc55e9987f1">12958</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_text.html#a8793adb271ab79b4cf391dc55e9987f1">QCPItemText::draw</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)
<a name="l12959"></a>12959 {
<a name="l12960"></a>12960   QPointF pos(<a class="code" href="class_q_c_p_item_text.html#a0d228a00e819022b5690c65762721129">position</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l12961"></a>12961   QTransform transform;
<a name="l12962"></a>12962   transform.translate(pos.x(), pos.y());
<a name="l12963"></a>12963   <span class="keywordflow">if</span> (!qFuzzyIsNull(<a class="code" href="class_q_c_p_item_text.html#ac37df0061552225d2277e1ee3b48f2cb">mRotation</a>))
<a name="l12964"></a>12964     transform.rotate(<a class="code" href="class_q_c_p_item_text.html#ac37df0061552225d2277e1ee3b48f2cb">mRotation</a>);
<a name="l12965"></a>12965   painter-&gt;setFont(<a class="code" href="class_q_c_p_item_text.html#a23d391bd6471c45e73f45add67ede902">mainFont</a>());
<a name="l12966"></a>12966   QRect textRect = painter-&gt;fontMetrics().boundingRect(0, 0, 0, 0, Qt::TextDontClip|<a class="code" href="class_q_c_p_item_text.html#acdb2e50c38e83da00f083771efbd213f">mTextAlignment</a>, <a class="code" href="class_q_c_p_item_text.html#a2dec3e08c11f51639629374ecec3bd62">mText</a>);
<a name="l12967"></a>12967   QRect textBoxRect = textRect.adjusted(-<a class="code" href="class_q_c_p_item_text.html#ae7b3ef0ce6046efd4b346d28f2e1fb67">mPadding</a>.left(), -<a class="code" href="class_q_c_p_item_text.html#ae7b3ef0ce6046efd4b346d28f2e1fb67">mPadding</a>.top(), <a class="code" href="class_q_c_p_item_text.html#ae7b3ef0ce6046efd4b346d28f2e1fb67">mPadding</a>.right(), <a class="code" href="class_q_c_p_item_text.html#ae7b3ef0ce6046efd4b346d28f2e1fb67">mPadding</a>.bottom());
<a name="l12968"></a>12968   QPointF textPos = <a class="code" href="class_q_c_p_item_text.html#aa6e478b1ce198eace89157c4cacc3ddc">getTextDrawPoint</a>(QPointF(0, 0), textBoxRect, <a class="code" href="class_q_c_p_item_text.html#a6c27f7dc1a962a04b32430cf99f04654">mPositionAlignment</a>); <span class="comment">// 0, 0 because the transform does the translation</span>
<a name="l12969"></a>12969   textRect.moveTopLeft(textPos.toPoint()+QPoint(<a class="code" href="class_q_c_p_item_text.html#ae7b3ef0ce6046efd4b346d28f2e1fb67">mPadding</a>.left(), <a class="code" href="class_q_c_p_item_text.html#ae7b3ef0ce6046efd4b346d28f2e1fb67">mPadding</a>.top()));
<a name="l12970"></a>12970   textBoxRect.moveTopLeft(textPos.toPoint());
<a name="l12971"></a>12971   <span class="keywordtype">double</span> clipPad = <a class="code" href="class_q_c_p_item_text.html#a9ade32d362b22853659201c738269e2a">mainPen</a>().widthF();
<a name="l12972"></a>12972   QRect boundingRect = textBoxRect.adjusted(-clipPad, -clipPad, clipPad, clipPad);
<a name="l12973"></a>12973   <span class="keywordflow">if</span> (transform.mapRect(boundingRect).intersects(<a class="code" href="class_q_c_p_abstract_item.html#a538e25ff8856534582f5b2b400a46405">clipRect</a>()))
<a name="l12974"></a>12974   {
<a name="l12975"></a>12975     painter-&gt;setTransform(transform);
<a name="l12976"></a>12976     <span class="keywordflow">if</span> ((<a class="code" href="class_q_c_p_item_text.html#a10d6585a030633aa79d5ebc5a437f183">mainBrush</a>().style() != Qt::NoBrush &amp;&amp; <a class="code" href="class_q_c_p_item_text.html#a10d6585a030633aa79d5ebc5a437f183">mainBrush</a>().<a class="code" href="class_q_c_p_item_text.html#ac9cb0a8a27f64d1b40855910ea9ebd03">color</a>().alpha() != 0) ||
<a name="l12977"></a>12977         (<a class="code" href="class_q_c_p_item_text.html#a9ade32d362b22853659201c738269e2a">mainPen</a>().style() != Qt::NoPen &amp;&amp; <a class="code" href="class_q_c_p_item_text.html#a9ade32d362b22853659201c738269e2a">mainPen</a>().<a class="code" href="class_q_c_p_item_text.html#ac9cb0a8a27f64d1b40855910ea9ebd03">color</a>().alpha() != 0))
<a name="l12978"></a>12978     {
<a name="l12979"></a>12979       painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_item_text.html#a9ade32d362b22853659201c738269e2a">mainPen</a>());
<a name="l12980"></a>12980       painter-&gt;setBrush(<a class="code" href="class_q_c_p_item_text.html#a10d6585a030633aa79d5ebc5a437f183">mainBrush</a>());
<a name="l12981"></a>12981       painter-&gt;drawRect(textBoxRect);
<a name="l12982"></a>12982     }
<a name="l12983"></a>12983     painter-&gt;setBrush(Qt::NoBrush);
<a name="l12984"></a>12984     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(QPen(<a class="code" href="class_q_c_p_item_text.html#ad7bf17e4945cc86bbf9a36331da059a0">mainColor</a>()));
<a name="l12985"></a>12985     painter-&gt;drawText(textRect, Qt::TextDontClip|<a class="code" href="class_q_c_p_item_text.html#acdb2e50c38e83da00f083771efbd213f">mTextAlignment</a>, <a class="code" href="class_q_c_p_item_text.html#a2dec3e08c11f51639629374ecec3bd62">mText</a>);
<a name="l12986"></a>12986   }
<a name="l12987"></a>12987 }
<a name="l12988"></a>12988 
<a name="l12989"></a>12989 <span class="comment">/* inherits documentation from base class */</span>
<a name="l12990"></a><a class="code" href="class_q_c_p_item_text.html#ad248f988534a9d07bc7c220a2457142a">12990</a> QPointF <a class="code" href="class_q_c_p_item_text.html#ad248f988534a9d07bc7c220a2457142a">QCPItemText::anchorPixelPoint</a>(<span class="keywordtype">int</span> anchorId)<span class="keyword"> const</span>
<a name="l12991"></a>12991 <span class="keyword"></span>{
<a name="l12992"></a>12992   <span class="comment">// get actual rect points (pretty much copied from draw function):</span>
<a name="l12993"></a>12993   QPointF pos(<a class="code" href="class_q_c_p_item_text.html#a0d228a00e819022b5690c65762721129">position</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l12994"></a>12994   QTransform transform;
<a name="l12995"></a>12995   transform.translate(pos.x(), pos.y());
<a name="l12996"></a>12996   <span class="keywordflow">if</span> (!qFuzzyIsNull(<a class="code" href="class_q_c_p_item_text.html#ac37df0061552225d2277e1ee3b48f2cb">mRotation</a>))
<a name="l12997"></a>12997     transform.rotate(<a class="code" href="class_q_c_p_item_text.html#ac37df0061552225d2277e1ee3b48f2cb">mRotation</a>);
<a name="l12998"></a>12998   QFontMetrics fontMetrics(<a class="code" href="class_q_c_p_item_text.html#a23d391bd6471c45e73f45add67ede902">mainFont</a>());
<a name="l12999"></a>12999   QRect textRect = fontMetrics.boundingRect(0, 0, 0, 0, Qt::TextDontClip|<a class="code" href="class_q_c_p_item_text.html#acdb2e50c38e83da00f083771efbd213f">mTextAlignment</a>, <a class="code" href="class_q_c_p_item_text.html#a2dec3e08c11f51639629374ecec3bd62">mText</a>);
<a name="l13000"></a>13000   QRectF textBoxRect = textRect.adjusted(-<a class="code" href="class_q_c_p_item_text.html#ae7b3ef0ce6046efd4b346d28f2e1fb67">mPadding</a>.left(), -<a class="code" href="class_q_c_p_item_text.html#ae7b3ef0ce6046efd4b346d28f2e1fb67">mPadding</a>.top(), <a class="code" href="class_q_c_p_item_text.html#ae7b3ef0ce6046efd4b346d28f2e1fb67">mPadding</a>.right(), <a class="code" href="class_q_c_p_item_text.html#ae7b3ef0ce6046efd4b346d28f2e1fb67">mPadding</a>.bottom());
<a name="l13001"></a>13001   QPointF textPos = <a class="code" href="class_q_c_p_item_text.html#aa6e478b1ce198eace89157c4cacc3ddc">getTextDrawPoint</a>(QPointF(0, 0), textBoxRect, <a class="code" href="class_q_c_p_item_text.html#a6c27f7dc1a962a04b32430cf99f04654">mPositionAlignment</a>); <span class="comment">// 0, 0 because the transform does the translation</span>
<a name="l13002"></a>13002   textBoxRect.moveTopLeft(textPos.toPoint());
<a name="l13003"></a>13003   QPolygonF rectPoly = transform.map(QPolygonF(textBoxRect));
<a name="l13004"></a>13004   
<a name="l13005"></a>13005   <span class="keywordflow">switch</span> (anchorId)
<a name="l13006"></a>13006   {
<a name="l13007"></a>13007     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_text.html#a14a84e58f72519c8ae1d7a4a1dd23f21a30342ee15065715f045cb52eb77b904c">aiTopLeft</a>:     <span class="keywordflow">return</span> rectPoly.at(0);
<a name="l13008"></a>13008     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_text.html#a14a84e58f72519c8ae1d7a4a1dd23f21a55ce9699c71db6d264eb669bb0eb9aff">aiTop</a>:         <span class="keywordflow">return</span> (rectPoly.at(0)+rectPoly.at(1))*0.5;
<a name="l13009"></a>13009     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_text.html#a14a84e58f72519c8ae1d7a4a1dd23f21a7b6ff56fcad4c78db0b793a96fce9580">aiTopRight</a>:    <span class="keywordflow">return</span> rectPoly.at(1);
<a name="l13010"></a>13010     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_text.html#a14a84e58f72519c8ae1d7a4a1dd23f21ad4faa7def46db6df2fedd1926237b48f">aiRight</a>:       <span class="keywordflow">return</span> (rectPoly.at(1)+rectPoly.at(2))*0.5;
<a name="l13011"></a>13011     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_text.html#a14a84e58f72519c8ae1d7a4a1dd23f21af2072f259730ef47aa7ad7519f3a0255">aiBottomRight</a>: <span class="keywordflow">return</span> rectPoly.at(2);
<a name="l13012"></a>13012     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_text.html#a14a84e58f72519c8ae1d7a4a1dd23f21a5773ad69b7f4cd2724ba46d8f31b0688">aiBottom</a>:      <span class="keywordflow">return</span> (rectPoly.at(2)+rectPoly.at(3))*0.5;
<a name="l13013"></a>13013     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_text.html#a14a84e58f72519c8ae1d7a4a1dd23f21a489ec73da5a18c15e98a4f9b17ed301f">aiBottomLeft</a>:  <span class="keywordflow">return</span> rectPoly.at(3);
<a name="l13014"></a>13014     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_text.html#a14a84e58f72519c8ae1d7a4a1dd23f21a7f1c1b8c574c753e300a4759915a9170">aiLeft</a>:        <span class="keywordflow">return</span> (rectPoly.at(3)+rectPoly.at(0))*0.5;
<a name="l13015"></a>13015   }
<a name="l13016"></a>13016   
<a name="l13017"></a>13017   qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;invalid anchorId&quot;</span> &lt;&lt; anchorId;
<a name="l13018"></a>13018   <span class="keywordflow">return</span> QPointF();
<a name="l13019"></a>13019 }
<a name="l13020"></a>13020 
<a name="l13031"></a><a class="code" href="class_q_c_p_item_text.html#aa6e478b1ce198eace89157c4cacc3ddc">13031</a> QPointF <a class="code" href="class_q_c_p_item_text.html#aa6e478b1ce198eace89157c4cacc3ddc">QCPItemText::getTextDrawPoint</a>(<span class="keyword">const</span> QPointF &amp;pos, <span class="keyword">const</span> QRectF &amp;rect, Qt::Alignment positionAlignment)<span class="keyword"> const</span>
<a name="l13032"></a>13032 <span class="keyword"></span>{
<a name="l13033"></a>13033   <span class="keywordflow">if</span> (positionAlignment == 0 || positionAlignment == (Qt::AlignLeft|Qt::AlignTop))
<a name="l13034"></a>13034     <span class="keywordflow">return</span> pos;
<a name="l13035"></a>13035   
<a name="l13036"></a>13036   QPointF result = pos; <span class="comment">// start at top left</span>
<a name="l13037"></a>13037   <span class="keywordflow">if</span> (positionAlignment.testFlag(Qt::AlignHCenter))
<a name="l13038"></a>13038     result.rx() -= rect.width()/2.0;
<a name="l13039"></a>13039   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (positionAlignment.testFlag(Qt::AlignRight))
<a name="l13040"></a>13040     result.rx() -= rect.width();
<a name="l13041"></a>13041   <span class="keywordflow">if</span> (positionAlignment.testFlag(Qt::AlignVCenter))
<a name="l13042"></a>13042     result.ry() -= rect.height()/2.0;
<a name="l13043"></a>13043   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (positionAlignment.testFlag(Qt::AlignBottom))
<a name="l13044"></a>13044     result.ry() -= rect.height();
<a name="l13045"></a>13045   <span class="keywordflow">return</span> result;
<a name="l13046"></a>13046 }
<a name="l13047"></a>13047 
<a name="l13053"></a><a class="code" href="class_q_c_p_item_text.html#a23d391bd6471c45e73f45add67ede902">13053</a> QFont <a class="code" href="class_q_c_p_item_text.html#a23d391bd6471c45e73f45add67ede902">QCPItemText::mainFont</a>()<span class="keyword"> const</span>
<a name="l13054"></a>13054 <span class="keyword"></span>{
<a name="l13055"></a>13055   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#a4bdb3457dad1d268c0f78a44152b9645">mSelected</a> ? <a class="code" href="class_q_c_p_item_text.html#a6702f141fae590b2f4f1ec02fe9f8bd5">mSelectedFont</a> : <a class="code" href="class_q_c_p_item_text.html#a1dc87fe2a824820d549ffd7e644eef8d">mFont</a>;
<a name="l13056"></a>13056 }
<a name="l13057"></a>13057 
<a name="l13063"></a><a class="code" href="class_q_c_p_item_text.html#ad7bf17e4945cc86bbf9a36331da059a0">13063</a> QColor <a class="code" href="class_q_c_p_item_text.html#ad7bf17e4945cc86bbf9a36331da059a0">QCPItemText::mainColor</a>()<span class="keyword"> const</span>
<a name="l13064"></a>13064 <span class="keyword"></span>{
<a name="l13065"></a>13065   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#a4bdb3457dad1d268c0f78a44152b9645">mSelected</a> ? <a class="code" href="class_q_c_p_item_text.html#a7eb64e42f5f7998a97d8907ad25933c1">mSelectedColor</a> : <a class="code" href="class_q_c_p_item_text.html#a8407f284ad867f627878cc26ef433d08">mColor</a>;
<a name="l13066"></a>13066 }
<a name="l13067"></a>13067 
<a name="l13073"></a><a class="code" href="class_q_c_p_item_text.html#a9ade32d362b22853659201c738269e2a">13073</a> QPen <a class="code" href="class_q_c_p_item_text.html#a9ade32d362b22853659201c738269e2a">QCPItemText::mainPen</a>()<span class="keyword"> const</span>
<a name="l13074"></a>13074 <span class="keyword"></span>{
<a name="l13075"></a>13075   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#a4bdb3457dad1d268c0f78a44152b9645">mSelected</a> ? <a class="code" href="class_q_c_p_item_text.html#a8eaec649606d6ead2d8d4dcb5691777c">mSelectedPen</a> : <a class="code" href="class_q_c_p_item_text.html#aa02388705dbbff1bf7b8aa872b5f579c">mPen</a>;
<a name="l13076"></a>13076 }
<a name="l13077"></a>13077 
<a name="l13083"></a><a class="code" href="class_q_c_p_item_text.html#a10d6585a030633aa79d5ebc5a437f183">13083</a> QBrush <a class="code" href="class_q_c_p_item_text.html#a10d6585a030633aa79d5ebc5a437f183">QCPItemText::mainBrush</a>()<span class="keyword"> const</span>
<a name="l13084"></a>13084 <span class="keyword"></span>{
<a name="l13085"></a>13085   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#a4bdb3457dad1d268c0f78a44152b9645">mSelected</a> ? <a class="code" href="class_q_c_p_item_text.html#a28ccd097b42a216d81db9c6869f54a59">mSelectedBrush</a> : <a class="code" href="class_q_c_p_item_text.html#a2535911875faa459b8337f2efccb5cb8">mBrush</a>;
<a name="l13086"></a>13086 }
<a name="l13087"></a>13087 
<a name="l13088"></a>13088 
<a name="l13089"></a>13089 <span class="comment">// ================================================================================</span>
<a name="l13090"></a>13090 <span class="comment">// =================== QCPPainter</span>
<a name="l13091"></a>13091 <span class="comment">// ================================================================================</span>
<a name="l13092"></a>13092 
<a name="l13109"></a><a class="code" href="class_q_c_p_painter.html#a3c52cb0f43f34573d29bea487da28fe8">13109</a> <a class="code" href="class_q_c_p_painter.html#a3c52cb0f43f34573d29bea487da28fe8">QCPPainter::QCPPainter</a>() :
<a name="l13110"></a>13110   QPainter(),
<a name="l13111"></a>13111   mScaledExportMode(false),
<a name="l13112"></a>13112   mPdfExportMode(false),
<a name="l13113"></a>13113   mIsAntialiasing(false)
<a name="l13114"></a>13114 {
<a name="l13115"></a>13115 }
<a name="l13116"></a>13116 
<a name="l13121"></a><a class="code" href="class_q_c_p_painter.html#ae58dbb1795ddc4351ab324dc9898aa22">13121</a> <a class="code" href="class_q_c_p_painter.html#a3c52cb0f43f34573d29bea487da28fe8">QCPPainter::QCPPainter</a>(QPaintDevice *device) :
<a name="l13122"></a>13122   QPainter(device),
<a name="l13123"></a>13123   mScaledExportMode(false),
<a name="l13124"></a>13124   mPdfExportMode(false),
<a name="l13125"></a>13125   mIsAntialiasing(false)
<a name="l13126"></a>13126 {
<a name="l13127"></a>13127 }
<a name="l13128"></a>13128 
<a name="l13129"></a><a class="code" href="class_q_c_p_painter.html#aa8491da26c0bf7704a93e2dcbb0c5ba1">13129</a> <a class="code" href="class_q_c_p_painter.html#aa8491da26c0bf7704a93e2dcbb0c5ba1">QCPPainter::~QCPPainter</a>()
<a name="l13130"></a>13130 {
<a name="l13131"></a>13131 }
<a name="l13132"></a>13132 
<a name="l13137"></a><a class="code" href="class_q_c_p_painter.html#a0f636de68b40d2e169ab15a8ca067107">13137</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_painter.html#a0f636de68b40d2e169ab15a8ca067107">QCPPainter::setScatterPixmap</a>(<span class="keyword">const</span> QPixmap pm)
<a name="l13138"></a>13138 {
<a name="l13139"></a>13139   <a class="code" href="class_q_c_p_painter.html#a20d67229e0977ad7ce3a3c7349cbd59c">mScatterPixmap</a> = pm;
<a name="l13140"></a>13140 }
<a name="l13141"></a>13141 
<a name="l13148"></a><a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">13148</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">QCPPainter::setPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l13149"></a>13149 {
<a name="l13150"></a>13150   <a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">QPainter::setPen</a>(pen);
<a name="l13151"></a>13151   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_painter.html#a967991f4d003d1fca9f67d9152ef651e">mScaledExportMode</a>)
<a name="l13152"></a>13152     <a class="code" href="class_q_c_p_painter.html#a27af07a62c335faf79191b797306b218">fixScaledPen</a>();
<a name="l13153"></a>13153 }
<a name="l13154"></a>13154 
<a name="l13162"></a><a class="code" href="class_q_c_p_painter.html#a5c4d88f21564e156e88ef807f7cf0003">13162</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">QCPPainter::setPen</a>(<span class="keyword">const</span> QColor &amp;color)
<a name="l13163"></a>13163 {
<a name="l13164"></a>13164   <a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">QPainter::setPen</a>(color);
<a name="l13165"></a>13165   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_painter.html#a967991f4d003d1fca9f67d9152ef651e">mScaledExportMode</a>)
<a name="l13166"></a>13166     <a class="code" href="class_q_c_p_painter.html#a27af07a62c335faf79191b797306b218">fixScaledPen</a>();
<a name="l13167"></a>13167 }
<a name="l13168"></a>13168 
<a name="l13176"></a><a class="code" href="class_q_c_p_painter.html#a25e76095aae41da0d08035060e5f81ca">13176</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">QCPPainter::setPen</a>(Qt::PenStyle penStyle)
<a name="l13177"></a>13177 {
<a name="l13178"></a>13178   <a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">QPainter::setPen</a>(penStyle);
<a name="l13179"></a>13179   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_painter.html#a967991f4d003d1fca9f67d9152ef651e">mScaledExportMode</a>)
<a name="l13180"></a>13180     <a class="code" href="class_q_c_p_painter.html#a27af07a62c335faf79191b797306b218">fixScaledPen</a>();
<a name="l13181"></a>13181 }
<a name="l13182"></a>13182 
<a name="l13190"></a><a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">13190</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">QCPPainter::drawLine</a>(<span class="keyword">const</span> QLineF &amp;line)
<a name="l13191"></a>13191 {
<a name="l13192"></a>13192   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_painter.html#a7055085da176aee0f6b23298f1003d08">mIsAntialiasing</a>)
<a name="l13193"></a>13193     <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">QPainter::drawLine</a>(line);
<a name="l13194"></a>13194   <span class="keywordflow">else</span>
<a name="l13195"></a>13195     <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">QPainter::drawLine</a>(line.toLine());
<a name="l13196"></a>13196 }
<a name="l13197"></a>13197 
<a name="l13204"></a><a class="code" href="class_q_c_p_painter.html#aaba1deb9188244d9ea65b035112b4d05">13204</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_painter.html#aaba1deb9188244d9ea65b035112b4d05">QCPPainter::setAntialiasing</a>(<span class="keywordtype">bool</span> enabled)
<a name="l13205"></a>13205 {
<a name="l13206"></a>13206   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_painter.html#ab73675954590388f0e170e6bc70efe2a">mPdfExportMode</a>)
<a name="l13207"></a>13207     <span class="keywordflow">return</span>;
<a name="l13208"></a>13208   
<a name="l13209"></a>13209   setRenderHint(QPainter::Antialiasing, enabled);
<a name="l13210"></a>13210   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_painter.html#a7055085da176aee0f6b23298f1003d08">mIsAntialiasing</a> != enabled)
<a name="l13211"></a>13211   {
<a name="l13212"></a>13212     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_painter.html#a7055085da176aee0f6b23298f1003d08">mIsAntialiasing</a>)
<a name="l13213"></a>13213       translate(-0.5, -0.5);
<a name="l13214"></a>13214     <span class="keywordflow">else</span>
<a name="l13215"></a>13215       translate(0.5, 0.5);
<a name="l13216"></a>13216     <a class="code" href="class_q_c_p_painter.html#a7055085da176aee0f6b23298f1003d08">mIsAntialiasing</a> = enabled;
<a name="l13217"></a>13217   }
<a name="l13218"></a>13218 }
<a name="l13219"></a>13219 
<a name="l13228"></a><a class="code" href="class_q_c_p_painter.html#a8fd6821ee6fecbfa04444c9062912abd">13228</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_painter.html#a8fd6821ee6fecbfa04444c9062912abd">QCPPainter::save</a>()
<a name="l13229"></a>13229 {
<a name="l13230"></a>13230   <a class="code" href="class_q_c_p_painter.html#a0189e641bbf7dc31ac15aef7b36501fa">mAntialiasingStack</a>.push(<a class="code" href="class_q_c_p_painter.html#a7055085da176aee0f6b23298f1003d08">mIsAntialiasing</a>);
<a name="l13231"></a>13231   <a class="code" href="class_q_c_p_painter.html#a8fd6821ee6fecbfa04444c9062912abd">QPainter::save</a>();
<a name="l13232"></a>13232 }
<a name="l13233"></a>13233 
<a name="l13242"></a><a class="code" href="class_q_c_p_painter.html#a64908e6298d5bbd83457dc987cc3a022">13242</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_painter.html#a64908e6298d5bbd83457dc987cc3a022">QCPPainter::restore</a>()
<a name="l13243"></a>13243 {
<a name="l13244"></a>13244   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_painter.html#a0189e641bbf7dc31ac15aef7b36501fa">mAntialiasingStack</a>.isEmpty())
<a name="l13245"></a>13245     <a class="code" href="class_q_c_p_painter.html#a7055085da176aee0f6b23298f1003d08">mIsAntialiasing</a> = <a class="code" href="class_q_c_p_painter.html#a0189e641bbf7dc31ac15aef7b36501fa">mAntialiasingStack</a>.pop();
<a name="l13246"></a>13246   <span class="keywordflow">else</span>
<a name="l13247"></a>13247     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;Unbalanced save/restore&quot;</span>;
<a name="l13248"></a>13248   <a class="code" href="class_q_c_p_painter.html#a64908e6298d5bbd83457dc987cc3a022">QPainter::restore</a>();
<a name="l13249"></a>13249 }
<a name="l13250"></a>13250 
<a name="l13258"></a><a class="code" href="class_q_c_p_painter.html#ae0931c24883ce8ea53103d3b80e0de56">13258</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_painter.html#ae0931c24883ce8ea53103d3b80e0de56">QCPPainter::setPdfExportMode</a>(<span class="keywordtype">bool</span> enabled)
<a name="l13259"></a>13259 {
<a name="l13260"></a>13260   <a class="code" href="class_q_c_p_painter.html#ab73675954590388f0e170e6bc70efe2a">mPdfExportMode</a> = enabled;
<a name="l13261"></a>13261 }
<a name="l13262"></a>13262 
<a name="l13270"></a><a class="code" href="class_q_c_p_painter.html#a256e886e856ae696503aeacae91535cd">13270</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_painter.html#a256e886e856ae696503aeacae91535cd">QCPPainter::setScaledExportMode</a>(<span class="keywordtype">bool</span> enabled)
<a name="l13271"></a>13271 {
<a name="l13272"></a>13272   <a class="code" href="class_q_c_p_painter.html#a967991f4d003d1fca9f67d9152ef651e">mScaledExportMode</a> = enabled;
<a name="l13273"></a>13273 }
<a name="l13274"></a>13274 
<a name="l13283"></a><a class="code" href="class_q_c_p_painter.html#a27af07a62c335faf79191b797306b218">13283</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_painter.html#a27af07a62c335faf79191b797306b218">QCPPainter::fixScaledPen</a>()
<a name="l13284"></a>13284 {
<a name="l13285"></a>13285   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_painter.html#a967991f4d003d1fca9f67d9152ef651e">mScaledExportMode</a> &amp;&amp; pen().isCosmetic() &amp;&amp; qFuzzyIsNull(pen().widthF()))
<a name="l13286"></a>13286   {
<a name="l13287"></a>13287     QPen p = pen();
<a name="l13288"></a>13288     p.setWidth(1);
<a name="l13289"></a>13289     <a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">QPainter::setPen</a>(p);
<a name="l13290"></a>13290   }
<a name="l13291"></a>13291 }
<a name="l13292"></a>13292 
<a name="l13299"></a><a class="code" href="class_q_c_p_painter.html#a3aa145eb9865752d583c40ef995c5049">13299</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_painter.html#a3aa145eb9865752d583c40ef995c5049">QCPPainter::drawScatter</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> size, <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26f">QCP::ScatterStyle</a> style)
<a name="l13300"></a>13300 {
<a name="l13301"></a>13301   <span class="keywordtype">double</span> w = size/2.0;
<a name="l13302"></a>13302   <span class="keywordflow">switch</span> (style)
<a name="l13303"></a>13303   {
<a name="l13304"></a>13304     <span class="keywordflow">case</span> <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa3ee9f603bc4623e9b98011e8829aad1d" title="no scatter symbols are drawn (e.g. in QCPGraph, data only represented with lines)">QCP::ssNone</a>: <span class="keywordflow">break</span>;
<a name="l13305"></a>13305     <span class="keywordflow">case</span> <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa56816c1386f1356417bcc013adf0367c" title="a single pixel">QCP::ssDot</a>:
<a name="l13306"></a>13306     {
<a name="l13307"></a>13307       drawPoint(QPointF(x, y));
<a name="l13308"></a>13308       <span class="keywordflow">break</span>;
<a name="l13309"></a>13309     }
<a name="l13310"></a>13310     <span class="keywordflow">case</span> <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fab1d52c10ee4b09fe17854be238055f30" title="a cross (x)">QCP::ssCross</a>:
<a name="l13311"></a>13311     {
<a name="l13312"></a>13312       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x-w, y-w, x+w, y+w));
<a name="l13313"></a>13313       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x-w, y+w, x+w, y-w));
<a name="l13314"></a>13314       <span class="keywordflow">break</span>;
<a name="l13315"></a>13315     }
<a name="l13316"></a>13316     <span class="keywordflow">case</span> <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa82b8526e3bfa7d0cccc1fd5eb16505ac" title="a plus (+)">QCP::ssPlus</a>:
<a name="l13317"></a>13317     {
<a name="l13318"></a>13318       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x-w, y, x+w, y));
<a name="l13319"></a>13319       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x, y+w, x, y-w));
<a name="l13320"></a>13320       <span class="keywordflow">break</span>;
<a name="l13321"></a>13321     }
<a name="l13322"></a>13322     <span class="keywordflow">case</span> <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa13ed43d724ecefa84baae4179de3bd8d" title="a circle which is not filled">QCP::ssCircle</a>:
<a name="l13323"></a>13323     {
<a name="l13324"></a>13324       setBrush(Qt::NoBrush);
<a name="l13325"></a>13325       drawEllipse(QPointF(x,y), w, w);
<a name="l13326"></a>13326       <span class="keywordflow">break</span>;
<a name="l13327"></a>13327     }
<a name="l13328"></a>13328     <span class="keywordflow">case</span> <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa6d1fd37ccd5f6fdea72992feb522a342" title="a circle which is filled with the color of the pen (not the brush!)">QCP::ssDisc</a>:
<a name="l13329"></a>13329     {
<a name="l13330"></a>13330       setBrush(QBrush(pen().color()));
<a name="l13331"></a>13331       drawEllipse(QPointF(x,y), w, w);
<a name="l13332"></a>13332       <span class="keywordflow">break</span>;
<a name="l13333"></a>13333     }
<a name="l13334"></a>13334     <span class="keywordflow">case</span> <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fae613e80d80910579c17a5ed90e9137b0" title="a square which is not filled">QCP::ssSquare</a>:
<a name="l13335"></a>13335     {
<a name="l13336"></a>13336       setBrush(Qt::NoBrush);
<a name="l13337"></a>13337       drawRect(QRectF(x-w, y-w, size, size));
<a name="l13338"></a>13338       <span class="keywordflow">break</span>;
<a name="l13339"></a>13339     }
<a name="l13340"></a>13340     <span class="keywordflow">case</span> <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa6daa1761cab7e529768b84460f2b5141" title="a diamond which is not filled">QCP::ssDiamond</a>:
<a name="l13341"></a>13341     {
<a name="l13342"></a>13342       setBrush(Qt::NoBrush);
<a name="l13343"></a>13343       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x-w, y, x, y-w));
<a name="l13344"></a>13344       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x, y-w, x+w, y));
<a name="l13345"></a>13345       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x+w, y, x, y+w));
<a name="l13346"></a>13346       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x, y+w, x-w, y));
<a name="l13347"></a>13347       <span class="keywordflow">break</span>;
<a name="l13348"></a>13348     }
<a name="l13349"></a>13349     <span class="keywordflow">case</span> <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa8d380c3956b53e1d12d8248de77e4f3c" title="a star with eight arms, i.e. a combination of cross and plus">QCP::ssStar</a>:
<a name="l13350"></a>13350     {
<a name="l13351"></a>13351       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x-w, y, x+w, y));
<a name="l13352"></a>13352       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x, y+w, x, y-w));
<a name="l13353"></a>13353       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x-w*0.707, y-w*0.707, x+w*0.707, y+w*0.707));
<a name="l13354"></a>13354       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x-w*0.707, y+w*0.707, x+w*0.707, y-w*0.707));
<a name="l13355"></a>13355       <span class="keywordflow">break</span>;
<a name="l13356"></a>13356     }
<a name="l13357"></a>13357     <span class="keywordflow">case</span> <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa71324858fe181ad5d5ff36b6eca4f448" title="an equilateral triangle which is not filled, standing on baseline">QCP::ssTriangle</a>:
<a name="l13358"></a>13358     {
<a name="l13359"></a>13359       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x-w, y+0.755*w, x+w, y+0.755*w));
<a name="l13360"></a>13360       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x+w, y+0.755*w, x, y-0.977*w));
<a name="l13361"></a>13361       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x, y-0.977*w, x-w, y+0.755*w));
<a name="l13362"></a>13362       <span class="keywordflow">break</span>;
<a name="l13363"></a>13363     }
<a name="l13364"></a>13364     <span class="keywordflow">case</span> <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa17fd9aa8f51529e09ecacdacbe920271" title="an equilateral triangle which is not filled, standing on corner">QCP::ssTriangleInverted</a>:
<a name="l13365"></a>13365     {
<a name="l13366"></a>13366       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x-w, y-0.755*w, x+w, y-0.755*w));
<a name="l13367"></a>13367       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x+w, y-0.755*w, x, y+0.977*w));
<a name="l13368"></a>13368       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x, y+0.977*w, x-w, y-0.755*w));
<a name="l13369"></a>13369       <span class="keywordflow">break</span>;
<a name="l13370"></a>13370     }
<a name="l13371"></a>13371     <span class="keywordflow">case</span> <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26faa830c1cd1028a60eece7b84768face5e" title="a square which is not filled, with a cross inside">QCP::ssCrossSquare</a>:
<a name="l13372"></a>13372     {
<a name="l13373"></a>13373       setBrush(Qt::NoBrush);
<a name="l13374"></a>13374       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x-w, y-w, x+w*0.95, y+w*0.95));
<a name="l13375"></a>13375       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x-w, y+w*0.95, x+w*0.95, y-w));
<a name="l13376"></a>13376       drawRect(QRectF(x-w,y-w,size,size));
<a name="l13377"></a>13377       <span class="keywordflow">break</span>;
<a name="l13378"></a>13378     }
<a name="l13379"></a>13379     <span class="keywordflow">case</span> <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa2322889660847e07337730222ee373c1" title="a square which is not filled, with a plus inside">QCP::ssPlusSquare</a>:
<a name="l13380"></a>13380     {
<a name="l13381"></a>13381       setBrush(Qt::NoBrush);
<a name="l13382"></a>13382       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x-w, y, x+w*0.95, y));
<a name="l13383"></a>13383       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x, y+w, x, y-w));
<a name="l13384"></a>13384       drawRect(QRectF(x-w, y-w, size, size));
<a name="l13385"></a>13385       <span class="keywordflow">break</span>;
<a name="l13386"></a>13386     }
<a name="l13387"></a>13387     <span class="keywordflow">case</span> <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa32c6bc5b7596ba0cca2342ef6e846fbe" title="a circle which is not filled, with a cross inside">QCP::ssCrossCircle</a>:
<a name="l13388"></a>13388     {
<a name="l13389"></a>13389       setBrush(Qt::NoBrush);
<a name="l13390"></a>13390       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x-w*0.707, y-w*0.707, x+w*0.67, y+w*0.67));
<a name="l13391"></a>13391       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x-w*0.707, y+w*0.67, x+w*0.67, y-w*0.707));
<a name="l13392"></a>13392       drawEllipse(QPointF(x,y), w, w);
<a name="l13393"></a>13393       <span class="keywordflow">break</span>;
<a name="l13394"></a>13394     }
<a name="l13395"></a>13395     <span class="keywordflow">case</span> <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa78f2658826f26f4d266962845a1bb827" title="a circle which is not filled, with a plus inside">QCP::ssPlusCircle</a>:
<a name="l13396"></a>13396     {
<a name="l13397"></a>13397       setBrush(Qt::NoBrush);
<a name="l13398"></a>13398       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x-w, y, x+w, y));
<a name="l13399"></a>13399       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x, y+w, x, y-w));
<a name="l13400"></a>13400       drawEllipse(QPointF(x,y), w, w);
<a name="l13401"></a>13401       <span class="keywordflow">break</span>;
<a name="l13402"></a>13402     }
<a name="l13403"></a>13403     <span class="keywordflow">case</span> <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fae2ed4e86e8d0676b7c1476a1e8692070" title="a circle which is not filled, with one vertical and two downward diagonal lines">QCP::ssPeace</a>:
<a name="l13404"></a>13404     {
<a name="l13405"></a>13405       setBrush(Qt::NoBrush);
<a name="l13406"></a>13406       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x, y-w, x, y+w));
<a name="l13407"></a>13407       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x, y, x-w*0.707, y+w*0.707));
<a name="l13408"></a>13408       <a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(x, y, x+w*0.707, y+w*0.707));
<a name="l13409"></a>13409       drawEllipse(QPointF(x,y), w, w);
<a name="l13410"></a>13410       <span class="keywordflow">break</span>;
<a name="l13411"></a>13411     }
<a name="l13412"></a>13412     <span class="keywordflow">case</span> <a class="code" href="namespace_q_c_p.html#af66d0711d42fe78d96c28abadc67f26fa3046d385199d0903dd492322ba133e75" title="a custom pixmap specified by setScatterPixmap, centered on the data point coordinates">QCP::ssPixmap</a>:
<a name="l13413"></a>13413     {
<a name="l13414"></a>13414       drawPixmap(x-<a class="code" href="class_q_c_p_painter.html#a20d67229e0977ad7ce3a3c7349cbd59c">mScatterPixmap</a>.width()*0.5, y-<a class="code" href="class_q_c_p_painter.html#a20d67229e0977ad7ce3a3c7349cbd59c">mScatterPixmap</a>.height()*0.5, <a class="code" href="class_q_c_p_painter.html#a20d67229e0977ad7ce3a3c7349cbd59c">mScatterPixmap</a>);
<a name="l13415"></a>13415       <span class="comment">// if something in here is changed, adapt QCP::ssPixmap special case in drawLegendIcon(), too</span>
<a name="l13416"></a>13416       <span class="keywordflow">break</span>;
<a name="l13417"></a>13417     }
<a name="l13418"></a>13418   }
<a name="l13419"></a>13419 }
<a name="l13420"></a>13420 
<a name="l13421"></a>13421 
<a name="l13422"></a>13422 <span class="comment">// ================================================================================</span>
<a name="l13423"></a>13423 <span class="comment">// =================== QCPLineEnding</span>
<a name="l13424"></a>13424 <span class="comment">// ================================================================================</span>
<a name="l13425"></a>13425 
<a name="l13449"></a><a class="code" href="class_q_c_p_line_ending.html#af2eaf8123b000d97fbd11929c669f61b">13449</a> <a class="code" href="class_q_c_p_line_ending.html#af2eaf8123b000d97fbd11929c669f61b">QCPLineEnding::QCPLineEnding</a>() :
<a name="l13450"></a>13450   mStyle(esNone),
<a name="l13451"></a>13451   mWidth(8),
<a name="l13452"></a>13452   mLength(10),
<a name="l13453"></a>13453   mInverted(false)
<a name="l13454"></a>13454 {
<a name="l13455"></a>13455 }
<a name="l13456"></a>13456 
<a name="l13460"></a><a class="code" href="class_q_c_p_line_ending.html#abb2abc7542f0c7a3c081d878248896a4">13460</a> <a class="code" href="class_q_c_p_line_ending.html#af2eaf8123b000d97fbd11929c669f61b">QCPLineEnding::QCPLineEnding</a>(<a class="code" href="class_q_c_p_line_ending.html#a5ef16e6876b4b74959c7261d8d4c2cd5">QCPLineEnding::EndingStyle</a> style, <span class="keywordtype">double</span> width, <span class="keywordtype">double</span> length, <span class="keywordtype">bool</span> inverted) :
<a name="l13461"></a>13461   mStyle(style),
<a name="l13462"></a>13462   mWidth(width),
<a name="l13463"></a>13463   mLength(length),
<a name="l13464"></a>13464   mInverted(inverted)
<a name="l13465"></a>13465 {
<a name="l13466"></a>13466 }
<a name="l13467"></a>13467 
<a name="l13471"></a><a class="code" href="class_q_c_p_line_ending.html#a56953b9cb8ed1bed0f025c3935f16910">13471</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_line_ending.html#a56953b9cb8ed1bed0f025c3935f16910">QCPLineEnding::setStyle</a>(<a class="code" href="class_q_c_p_line_ending.html#a5ef16e6876b4b74959c7261d8d4c2cd5">QCPLineEnding::EndingStyle</a> style)
<a name="l13472"></a>13472 {
<a name="l13473"></a>13473   <a class="code" href="class_q_c_p_line_ending.html#a4696fc9117b60f1ca7690fcd2ba56611">mStyle</a> = <a class="code" href="class_q_c_p_line_ending.html#aea324dbfddbca9895ca8a3a968671299">style</a>;
<a name="l13474"></a>13474 }
<a name="l13475"></a>13475 
<a name="l13482"></a><a class="code" href="class_q_c_p_line_ending.html#a26dc020ea985a72cc25881ce2115e34e">13482</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_line_ending.html#a26dc020ea985a72cc25881ce2115e34e">QCPLineEnding::setWidth</a>(<span class="keywordtype">double</span> width)
<a name="l13483"></a>13483 {
<a name="l13484"></a>13484   <a class="code" href="class_q_c_p_line_ending.html#aca89d21341133c20dc6825c33a5eac48">mWidth</a> = <a class="code" href="class_q_c_p_line_ending.html#a028328ee3fb139a40acaf65fb56edf67">width</a>;
<a name="l13485"></a>13485 }
<a name="l13486"></a>13486 
<a name="l13493"></a><a class="code" href="class_q_c_p_line_ending.html#ae36fa01763751cd64b7f56c3507e935a">13493</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_line_ending.html#ae36fa01763751cd64b7f56c3507e935a">QCPLineEnding::setLength</a>(<span class="keywordtype">double</span> length)
<a name="l13494"></a>13494 {
<a name="l13495"></a>13495   <a class="code" href="class_q_c_p_line_ending.html#ae8e1e2566b96c05736cd92662dba8af8">mLength</a> = <a class="code" href="class_q_c_p_line_ending.html#a1744315d7b73f6e7ead3621e2cb18c28">length</a>;
<a name="l13496"></a>13496 }
<a name="l13497"></a>13497 
<a name="l13503"></a><a class="code" href="class_q_c_p_line_ending.html#a580e4e2360b35ebb8d68f3494aa2335d">13503</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_line_ending.html#a580e4e2360b35ebb8d68f3494aa2335d">QCPLineEnding::setInverted</a>(<span class="keywordtype">bool</span> inverted)
<a name="l13504"></a>13504 {
<a name="l13505"></a>13505   <a class="code" href="class_q_c_p_line_ending.html#a91306fe771d54c955e0af21af14349d5">mInverted</a> = <a class="code" href="class_q_c_p_line_ending.html#aa4ffbb182cbc89fc3d92eb348630502c">inverted</a>;
<a name="l13506"></a>13506 }
<a name="l13507"></a>13507 
<a name="l13517"></a><a class="code" href="class_q_c_p_line_ending.html#a586b45cf738881a70119e353dc1ed59c">13517</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_line_ending.html#a586b45cf738881a70119e353dc1ed59c">QCPLineEnding::boundingDistance</a>()<span class="keyword"> const</span>
<a name="l13518"></a>13518 <span class="keyword"></span>{
<a name="l13519"></a>13519   <span class="keywordflow">switch</span> (<a class="code" href="class_q_c_p_line_ending.html#a4696fc9117b60f1ca7690fcd2ba56611">mStyle</a>)
<a name="l13520"></a>13520   {
<a name="l13521"></a>13521     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_line_ending.html#a5ef16e6876b4b74959c7261d8d4c2cd5aca12d500f50cd6871766801bac30fb03" title="No ending decoration.">esNone</a>:
<a name="l13522"></a>13522       <span class="keywordflow">return</span> 0;
<a name="l13523"></a>13523       
<a name="l13524"></a>13524     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_line_ending.html#a5ef16e6876b4b74959c7261d8d4c2cd5a3d7dcea2f100671727c3417142154f8f" title="A filled arrow head with a straight/flat back (a triangle)">esFlatArrow</a>:
<a name="l13525"></a>13525     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_line_ending.html#a5ef16e6876b4b74959c7261d8d4c2cd5ab9964d0d03f812d1e79de15edbeb2cbf" title="A filled arrow head with an indented back.">esSpikeArrow</a>:
<a name="l13526"></a>13526     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_line_ending.html#a5ef16e6876b4b74959c7261d8d4c2cd5a61f78ee8f375fb21cb9d250687bbcbd2" title="A non-filled arrow head with open back.">esLineArrow</a>:
<a name="l13527"></a>13527       <span class="keywordflow">return</span> qSqrt(<a class="code" href="class_q_c_p_line_ending.html#aca89d21341133c20dc6825c33a5eac48">mWidth</a>*<a class="code" href="class_q_c_p_line_ending.html#aca89d21341133c20dc6825c33a5eac48">mWidth</a>+<a class="code" href="class_q_c_p_line_ending.html#ae8e1e2566b96c05736cd92662dba8af8">mLength</a>*<a class="code" href="class_q_c_p_line_ending.html#ae8e1e2566b96c05736cd92662dba8af8">mLength</a>); <span class="comment">// items that have width and length</span>
<a name="l13528"></a>13528       
<a name="l13529"></a>13529     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_line_ending.html#a5ef16e6876b4b74959c7261d8d4c2cd5ae5a3414916817258bcc6dddd605e8f5c" title="A filled circle.">esDisc</a>:
<a name="l13530"></a>13530     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_line_ending.html#a5ef16e6876b4b74959c7261d8d4c2cd5ae1836502fa43d8990bb62b2d493a140a" title="A filled square.">esSquare</a>:
<a name="l13531"></a>13531     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_line_ending.html#a5ef16e6876b4b74959c7261d8d4c2cd5a378fe5a8b768411b0bc1765210fe7200" title="A filled diamond (45 rotated square)">esDiamond</a>:
<a name="l13532"></a>13532     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_line_ending.html#a5ef16e6876b4b74959c7261d8d4c2cd5a2cf543bbca332df26d89bf779f50469f" title="A bar perpendicular to the line.">esBar</a>:
<a name="l13533"></a>13533       <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_line_ending.html#aca89d21341133c20dc6825c33a5eac48">mWidth</a>*1.42; <span class="comment">// items that only have a width -&gt; with*sqrt(2)</span>
<a name="l13534"></a>13534   }
<a name="l13535"></a>13535   <span class="keywordflow">return</span> 0;
<a name="l13536"></a>13536 }
<a name="l13537"></a>13537 
<a name="l13543"></a><a class="code" href="class_q_c_p_line_ending.html#ac4b2fa94bd27b2f008b5fc090fcd7c0b">13543</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_line_ending.html#ac4b2fa94bd27b2f008b5fc090fcd7c0b">QCPLineEnding::draw</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter, <span class="keyword">const</span> QVector2D &amp;pos, <span class="keyword">const</span> QVector2D &amp;dir)<span class="keyword"> const</span>
<a name="l13544"></a>13544 <span class="keyword"></span>{
<a name="l13545"></a>13545   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_line_ending.html#a4696fc9117b60f1ca7690fcd2ba56611">mStyle</a> == <a class="code" href="class_q_c_p_line_ending.html#a5ef16e6876b4b74959c7261d8d4c2cd5aca12d500f50cd6871766801bac30fb03" title="No ending decoration.">esNone</a>)
<a name="l13546"></a>13546     <span class="keywordflow">return</span>;
<a name="l13547"></a>13547   
<a name="l13548"></a>13548   QVector2D lengthVec(dir.normalized()*(<a class="code" href="class_q_c_p_line_ending.html#a91306fe771d54c955e0af21af14349d5">mInverted</a> ? -1 : 1));
<a name="l13549"></a>13549   <span class="keywordflow">if</span> (lengthVec.isNull())
<a name="l13550"></a>13550     lengthVec = QVector2D(1, 0);
<a name="l13551"></a>13551   QVector2D widthVec(-lengthVec.y(), lengthVec.x());
<a name="l13552"></a>13552   lengthVec *= <a class="code" href="class_q_c_p_line_ending.html#ae8e1e2566b96c05736cd92662dba8af8">mLength</a>;
<a name="l13553"></a>13553   widthVec *= <a class="code" href="class_q_c_p_line_ending.html#aca89d21341133c20dc6825c33a5eac48">mWidth</a>*0.5;
<a name="l13554"></a>13554   
<a name="l13555"></a>13555   QPen penBackup = painter-&gt;pen();
<a name="l13556"></a>13556   QPen miterPen = penBackup;
<a name="l13557"></a>13557   miterPen.setJoinStyle(Qt::MiterJoin);
<a name="l13558"></a>13558   <span class="keywordflow">switch</span> (<a class="code" href="class_q_c_p_line_ending.html#a4696fc9117b60f1ca7690fcd2ba56611">mStyle</a>)
<a name="l13559"></a>13559   {
<a name="l13560"></a>13560     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_line_ending.html#a5ef16e6876b4b74959c7261d8d4c2cd5aca12d500f50cd6871766801bac30fb03" title="No ending decoration.">esNone</a>: <span class="keywordflow">break</span>;
<a name="l13561"></a>13561     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_line_ending.html#a5ef16e6876b4b74959c7261d8d4c2cd5a3d7dcea2f100671727c3417142154f8f" title="A filled arrow head with a straight/flat back (a triangle)">esFlatArrow</a>:
<a name="l13562"></a>13562     {
<a name="l13563"></a>13563       QPointF points[3] = {pos.toPointF(),
<a name="l13564"></a>13564                            (pos-lengthVec+widthVec).toPointF(),
<a name="l13565"></a>13565                            (pos-lengthVec-widthVec).toPointF()
<a name="l13566"></a>13566                           };
<a name="l13567"></a>13567       painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(miterPen);
<a name="l13568"></a>13568       painter-&gt;drawConvexPolygon(points, 3);
<a name="l13569"></a>13569       painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(penBackup);
<a name="l13570"></a>13570       <span class="keywordflow">break</span>;
<a name="l13571"></a>13571     }
<a name="l13572"></a>13572     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_line_ending.html#a5ef16e6876b4b74959c7261d8d4c2cd5ab9964d0d03f812d1e79de15edbeb2cbf" title="A filled arrow head with an indented back.">esSpikeArrow</a>:
<a name="l13573"></a>13573     {
<a name="l13574"></a>13574       QPointF points[4] = {pos.toPointF(),
<a name="l13575"></a>13575                            (pos-lengthVec+widthVec).toPointF(),
<a name="l13576"></a>13576                            (pos-lengthVec*0.8).toPointF(),
<a name="l13577"></a>13577                            (pos-lengthVec-widthVec).toPointF()
<a name="l13578"></a>13578                           };
<a name="l13579"></a>13579       painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(miterPen);
<a name="l13580"></a>13580       painter-&gt;drawConvexPolygon(points, 4);
<a name="l13581"></a>13581       painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(penBackup);
<a name="l13582"></a>13582       <span class="keywordflow">break</span>;
<a name="l13583"></a>13583     }
<a name="l13584"></a>13584     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_line_ending.html#a5ef16e6876b4b74959c7261d8d4c2cd5a61f78ee8f375fb21cb9d250687bbcbd2" title="A non-filled arrow head with open back.">esLineArrow</a>:
<a name="l13585"></a>13585     {
<a name="l13586"></a>13586       QPointF points[3] = {(pos-lengthVec+widthVec).toPointF(),
<a name="l13587"></a>13587                            pos.toPointF(),
<a name="l13588"></a>13588                            (pos-lengthVec-widthVec).toPointF()
<a name="l13589"></a>13589                           };
<a name="l13590"></a>13590       painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(miterPen);
<a name="l13591"></a>13591       painter-&gt;drawPolyline(points, 3);
<a name="l13592"></a>13592       painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(penBackup);
<a name="l13593"></a>13593       <span class="keywordflow">break</span>;
<a name="l13594"></a>13594     }
<a name="l13595"></a>13595     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_line_ending.html#a5ef16e6876b4b74959c7261d8d4c2cd5ae5a3414916817258bcc6dddd605e8f5c" title="A filled circle.">esDisc</a>:
<a name="l13596"></a>13596     {
<a name="l13597"></a>13597       painter-&gt;drawEllipse(pos.toPointF(),  <a class="code" href="class_q_c_p_line_ending.html#aca89d21341133c20dc6825c33a5eac48">mWidth</a>*0.5, <a class="code" href="class_q_c_p_line_ending.html#aca89d21341133c20dc6825c33a5eac48">mWidth</a>*0.5);
<a name="l13598"></a>13598       <span class="keywordflow">break</span>;
<a name="l13599"></a>13599     }
<a name="l13600"></a>13600     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_line_ending.html#a5ef16e6876b4b74959c7261d8d4c2cd5ae1836502fa43d8990bb62b2d493a140a" title="A filled square.">esSquare</a>:
<a name="l13601"></a>13601     {
<a name="l13602"></a>13602       QVector2D widthVecPerp(-widthVec.y(), widthVec.x());
<a name="l13603"></a>13603       QPointF points[4] = {(pos-widthVecPerp+widthVec).toPointF(),
<a name="l13604"></a>13604                            (pos-widthVecPerp-widthVec).toPointF(),
<a name="l13605"></a>13605                            (pos+widthVecPerp-widthVec).toPointF(),
<a name="l13606"></a>13606                            (pos+widthVecPerp+widthVec).toPointF()
<a name="l13607"></a>13607                           };
<a name="l13608"></a>13608       painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(miterPen);
<a name="l13609"></a>13609       painter-&gt;drawConvexPolygon(points, 4);
<a name="l13610"></a>13610       painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(penBackup);
<a name="l13611"></a>13611       <span class="keywordflow">break</span>;
<a name="l13612"></a>13612     }
<a name="l13613"></a>13613     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_line_ending.html#a5ef16e6876b4b74959c7261d8d4c2cd5a378fe5a8b768411b0bc1765210fe7200" title="A filled diamond (45 rotated square)">esDiamond</a>:
<a name="l13614"></a>13614     {
<a name="l13615"></a>13615       QVector2D widthVecPerp(-widthVec.y(), widthVec.x());
<a name="l13616"></a>13616       QPointF points[4] = {(pos-widthVecPerp).toPointF(),
<a name="l13617"></a>13617                            (pos-widthVec).toPointF(),
<a name="l13618"></a>13618                            (pos+widthVecPerp).toPointF(),
<a name="l13619"></a>13619                            (pos+widthVec).toPointF()
<a name="l13620"></a>13620                           };
<a name="l13621"></a>13621       painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(miterPen);
<a name="l13622"></a>13622       painter-&gt;drawConvexPolygon(points, 4);
<a name="l13623"></a>13623       painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(penBackup);
<a name="l13624"></a>13624       <span class="keywordflow">break</span>;
<a name="l13625"></a>13625     }
<a name="l13626"></a>13626     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_line_ending.html#a5ef16e6876b4b74959c7261d8d4c2cd5a2cf543bbca332df26d89bf779f50469f" title="A bar perpendicular to the line.">esBar</a>:
<a name="l13627"></a>13627     {
<a name="l13628"></a>13628       painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>((pos+widthVec).toPointF(), (pos-widthVec).toPointF());
<a name="l13629"></a>13629       <span class="keywordflow">break</span>;
<a name="l13630"></a>13630     }
<a name="l13631"></a>13631   }
<a name="l13632"></a>13632 }
<a name="l13633"></a>13633 
<a name="l13639"></a><a class="code" href="class_q_c_p_line_ending.html#a05c143b1f66cb68d746c309523c45e3e">13639</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_line_ending.html#ac4b2fa94bd27b2f008b5fc090fcd7c0b">QCPLineEnding::draw</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter, <span class="keyword">const</span> QVector2D &amp;pos, <span class="keywordtype">double</span> angle)<span class="keyword"> const</span>
<a name="l13640"></a>13640 <span class="keyword"></span>{
<a name="l13641"></a>13641   <a class="code" href="class_q_c_p_line_ending.html#ac4b2fa94bd27b2f008b5fc090fcd7c0b">draw</a>(painter, pos, QVector2D(qCos(angle), qSin(angle)));
<a name="l13642"></a>13642 }
<a name="l13643"></a>13643 
<a name="l13644"></a>13644 
<a name="l13645"></a>13645 <span class="comment">// ================================================================================</span>
<a name="l13646"></a>13646 <span class="comment">// =================== QCPItemCurve</span>
<a name="l13647"></a>13647 <span class="comment">// ================================================================================</span>
<a name="l13648"></a>13648 
<a name="l13671"></a><a class="code" href="class_q_c_p_item_curve.html#ac9b7508bb5c8827e1a7a6199f8c82bec">13671</a> <a class="code" href="class_q_c_p_item_curve.html#ac9b7508bb5c8827e1a7a6199f8c82bec">QCPItemCurve::QCPItemCurve</a>(<a class="code" href="class_q_custom_plot.html" title="The central class of the library, the QWidget which displays the plot and interacts with the user...">QCustomPlot</a> *parentPlot) :
<a name="l13672"></a>13672   <a class="code" href="class_q_c_p_abstract_item.html" title="The abstract base class for all items in a plot.">QCPAbstractItem</a>(parentPlot),
<a name="l13673"></a>13673   start(createPosition(<span class="stringliteral">&quot;start&quot;</span>)),
<a name="l13674"></a>13674   startDir(createPosition(<span class="stringliteral">&quot;startDir&quot;</span>)),
<a name="l13675"></a>13675   endDir(createPosition(<span class="stringliteral">&quot;endDir&quot;</span>)),
<a name="l13676"></a>13676   end(createPosition(<span class="stringliteral">&quot;end&quot;</span>))
<a name="l13677"></a>13677 {
<a name="l13678"></a>13678   <a class="code" href="class_q_c_p_item_curve.html#a20c3b5ea31c33764f4f30c2ec7ae518b">start</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(0, 0);
<a name="l13679"></a>13679   <a class="code" href="class_q_c_p_item_curve.html#aa124bf66c09cc51c627fb49db8bf8a7b">startDir</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(0.5, 0);
<a name="l13680"></a>13680   <a class="code" href="class_q_c_p_item_curve.html#a28181a9dee9cc3c3da83a883221bd2d0">endDir</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(0, 0.5);
<a name="l13681"></a>13681   <a class="code" href="class_q_c_p_item_curve.html#a24ecbb195b32a08b42b61c2cf08a1b4d">end</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(1, 1);
<a name="l13682"></a>13682   
<a name="l13683"></a>13683   <a class="code" href="class_q_c_p_item_curve.html#a034be908440aec785c34b92843461221">setPen</a>(QPen(Qt::black));
<a name="l13684"></a>13684   <a class="code" href="class_q_c_p_item_curve.html#a375b917669f868c5a106bf2f1ab7c26d">setSelectedPen</a>(QPen(Qt::blue,2));
<a name="l13685"></a>13685 }
<a name="l13686"></a>13686 
<a name="l13687"></a><a class="code" href="class_q_c_p_item_curve.html#ae36f20fd5deff2f1443a7c53eaa95c81">13687</a> <a class="code" href="class_q_c_p_item_curve.html#ae36f20fd5deff2f1443a7c53eaa95c81">QCPItemCurve::~QCPItemCurve</a>()
<a name="l13688"></a>13688 {
<a name="l13689"></a>13689 }
<a name="l13690"></a>13690 
<a name="l13696"></a><a class="code" href="class_q_c_p_item_curve.html#a034be908440aec785c34b92843461221">13696</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_curve.html#a034be908440aec785c34b92843461221">QCPItemCurve::setPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l13697"></a>13697 {
<a name="l13698"></a>13698   <a class="code" href="class_q_c_p_item_curve.html#a7ef92988d1db2e4d0311e34c0a57fe42">mPen</a> = <a class="code" href="class_q_c_p_item_curve.html#abc6321e55a9ba1a0c7df407843dfa252">pen</a>;
<a name="l13699"></a>13699 }
<a name="l13700"></a>13700 
<a name="l13706"></a><a class="code" href="class_q_c_p_item_curve.html#a375b917669f868c5a106bf2f1ab7c26d">13706</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_curve.html#a375b917669f868c5a106bf2f1ab7c26d">QCPItemCurve::setSelectedPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l13707"></a>13707 {
<a name="l13708"></a>13708   <a class="code" href="class_q_c_p_item_curve.html#ab22cbab261b20be5aa8e4ca252149246">mSelectedPen</a> = <a class="code" href="class_q_c_p_item_curve.html#abc6321e55a9ba1a0c7df407843dfa252">pen</a>;
<a name="l13709"></a>13709 }
<a name="l13710"></a>13710 
<a name="l13719"></a><a class="code" href="class_q_c_p_item_curve.html#a08a30d9cdd63995deea3d9e20430676f">13719</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_curve.html#a08a30d9cdd63995deea3d9e20430676f">QCPItemCurve::setHead</a>(<span class="keyword">const</span> <a class="code" href="class_q_c_p_line_ending.html" title="Handles the different ending decorations for line-like items.">QCPLineEnding</a> &amp;head)
<a name="l13720"></a>13720 {
<a name="l13721"></a>13721   <a class="code" href="class_q_c_p_item_curve.html#af2cc26ff199570940dc96f5ec19a13f8">mHead</a> = <a class="code" href="class_q_c_p_item_curve.html#afc067f0d1e60cd04812f2c2c7fdf36c3">head</a>;
<a name="l13722"></a>13722 }
<a name="l13723"></a>13723 
<a name="l13732"></a><a class="code" href="class_q_c_p_item_curve.html#ac3488d8b1a6489c845dc5bff3ef71124">13732</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_curve.html#ac3488d8b1a6489c845dc5bff3ef71124">QCPItemCurve::setTail</a>(<span class="keyword">const</span> <a class="code" href="class_q_c_p_line_ending.html" title="Handles the different ending decorations for line-like items.">QCPLineEnding</a> &amp;tail)
<a name="l13733"></a>13733 {
<a name="l13734"></a>13734   <a class="code" href="class_q_c_p_item_curve.html#af1dca285b97e3f5b892dab827a79f327">mTail</a> = <a class="code" href="class_q_c_p_item_curve.html#a9adddfcc5275be0cf27e3c0c31c37c1a">tail</a>;
<a name="l13735"></a>13735 }
<a name="l13736"></a>13736 
<a name="l13737"></a>13737 <span class="comment">/* inherits documentation from base class */</span>
<a name="l13738"></a><a class="code" href="class_q_c_p_item_curve.html#ae54055ee1070735155166ecb887a9316">13738</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_item_curve.html#ae54055ee1070735155166ecb887a9316">QCPItemCurve::selectTest</a>(<span class="keyword">const</span> QPointF &amp;pos)<span class="keyword"> const</span>
<a name="l13739"></a>13739 <span class="keyword"></span>{
<a name="l13740"></a>13740   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_layerable.html#a62e3aed8427d6ce3ccf716f285106cb3">mVisible</a>)
<a name="l13741"></a>13741     <span class="keywordflow">return</span> -1;
<a name="l13742"></a>13742   
<a name="l13743"></a>13743   QPointF startVec(<a class="code" href="class_q_c_p_item_curve.html#a20c3b5ea31c33764f4f30c2ec7ae518b">start</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l13744"></a>13744   QPointF startDirVec(<a class="code" href="class_q_c_p_item_curve.html#aa124bf66c09cc51c627fb49db8bf8a7b">startDir</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l13745"></a>13745   QPointF endDirVec(<a class="code" href="class_q_c_p_item_curve.html#a28181a9dee9cc3c3da83a883221bd2d0">endDir</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l13746"></a>13746   QPointF endVec(<a class="code" href="class_q_c_p_item_curve.html#a24ecbb195b32a08b42b61c2cf08a1b4d">end</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l13747"></a>13747 
<a name="l13748"></a>13748   QPainterPath cubicPath(startVec);
<a name="l13749"></a>13749   cubicPath.cubicTo(startDirVec, endDirVec, endVec);
<a name="l13750"></a>13750   
<a name="l13751"></a>13751   QPolygonF polygon = cubicPath.toSubpathPolygons().first();
<a name="l13752"></a>13752   <span class="keywordtype">double</span> minDistSqr = std::numeric_limits&lt;double&gt;::max();
<a name="l13753"></a>13753   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=1; i&lt;polygon.size(); ++i)
<a name="l13754"></a>13754   {
<a name="l13755"></a>13755     <span class="keywordtype">double</span> distSqr = <a class="code" href="class_q_c_p_abstract_item.html#acdca343717d625b8abb3c3e38c0ed39d">distSqrToLine</a>(polygon.at(i-1), polygon.at(i), pos);
<a name="l13756"></a>13756     <span class="keywordflow">if</span> (distSqr &lt; minDistSqr)
<a name="l13757"></a>13757       minDistSqr = distSqr;
<a name="l13758"></a>13758   }
<a name="l13759"></a>13759   <span class="keywordflow">return</span> qSqrt(minDistSqr);
<a name="l13760"></a>13760 }
<a name="l13761"></a>13761 
<a name="l13762"></a>13762 <span class="comment">/* inherits documentation from base class */</span>
<a name="l13763"></a><a class="code" href="class_q_c_p_item_curve.html#a56cb5b72cd02db2eda598274a39839a9">13763</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_curve.html#a56cb5b72cd02db2eda598274a39839a9">QCPItemCurve::draw</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)
<a name="l13764"></a>13764 {
<a name="l13765"></a>13765   QPointF startVec(<a class="code" href="class_q_c_p_item_curve.html#a20c3b5ea31c33764f4f30c2ec7ae518b">start</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l13766"></a>13766   QPointF startDirVec(<a class="code" href="class_q_c_p_item_curve.html#aa124bf66c09cc51c627fb49db8bf8a7b">startDir</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l13767"></a>13767   QPointF endDirVec(<a class="code" href="class_q_c_p_item_curve.html#a28181a9dee9cc3c3da83a883221bd2d0">endDir</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l13768"></a>13768   QPointF endVec(<a class="code" href="class_q_c_p_item_curve.html#a24ecbb195b32a08b42b61c2cf08a1b4d">end</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l13769"></a>13769   <span class="keywordflow">if</span> (QVector2D(endVec-startVec).length() &gt; 1e10) <span class="comment">// too large curves cause crash</span>
<a name="l13770"></a>13770     <span class="keywordflow">return</span>;
<a name="l13771"></a>13771 
<a name="l13772"></a>13772   QPainterPath cubicPath(startVec);
<a name="l13773"></a>13773   cubicPath.cubicTo(startDirVec, endDirVec, endVec);
<a name="l13774"></a>13774 
<a name="l13775"></a>13775   <span class="comment">// paint visible segment, if existent:</span>
<a name="l13776"></a>13776   QRect clip = <a class="code" href="class_q_c_p_abstract_item.html#a538e25ff8856534582f5b2b400a46405">clipRect</a>().adjusted(-<a class="code" href="class_q_c_p_item_curve.html#a8089126f5645b6edfbaddea49d1e8390">mainPen</a>().widthF(), -<a class="code" href="class_q_c_p_item_curve.html#a8089126f5645b6edfbaddea49d1e8390">mainPen</a>().widthF(), <a class="code" href="class_q_c_p_item_curve.html#a8089126f5645b6edfbaddea49d1e8390">mainPen</a>().widthF(), <a class="code" href="class_q_c_p_item_curve.html#a8089126f5645b6edfbaddea49d1e8390">mainPen</a>().widthF());
<a name="l13777"></a>13777   QRect cubicRect = cubicPath.controlPointRect().toRect();
<a name="l13778"></a>13778   <span class="keywordflow">if</span> (cubicRect.isEmpty()) <span class="comment">// may happen when start and end exactly on same x or y position</span>
<a name="l13779"></a>13779     cubicRect.adjust(0, 0, 1, 1);
<a name="l13780"></a>13780   <span class="keywordflow">if</span> (clip.intersects(cubicRect))
<a name="l13781"></a>13781   {
<a name="l13782"></a>13782     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_item_curve.html#a8089126f5645b6edfbaddea49d1e8390">mainPen</a>());
<a name="l13783"></a>13783     painter-&gt;drawPath(cubicPath);
<a name="l13784"></a>13784     painter-&gt;setBrush(Qt::SolidPattern);
<a name="l13785"></a>13785     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_curve.html#af1dca285b97e3f5b892dab827a79f327">mTail</a>.<a class="code" href="class_q_c_p_line_ending.html#aea324dbfddbca9895ca8a3a968671299">style</a>() != <a class="code" href="class_q_c_p_line_ending.html#a5ef16e6876b4b74959c7261d8d4c2cd5aca12d500f50cd6871766801bac30fb03" title="No ending decoration.">QCPLineEnding::esNone</a>)
<a name="l13786"></a>13786       <a class="code" href="class_q_c_p_item_curve.html#af1dca285b97e3f5b892dab827a79f327">mTail</a>.<a class="code" href="class_q_c_p_line_ending.html#ac4b2fa94bd27b2f008b5fc090fcd7c0b">draw</a>(painter, QVector2D(startVec), M_PI-cubicPath.angleAtPercent(0)/180.0*M_PI);
<a name="l13787"></a>13787     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_curve.html#af2cc26ff199570940dc96f5ec19a13f8">mHead</a>.<a class="code" href="class_q_c_p_line_ending.html#aea324dbfddbca9895ca8a3a968671299">style</a>() != <a class="code" href="class_q_c_p_line_ending.html#a5ef16e6876b4b74959c7261d8d4c2cd5aca12d500f50cd6871766801bac30fb03" title="No ending decoration.">QCPLineEnding::esNone</a>)
<a name="l13788"></a>13788       <a class="code" href="class_q_c_p_item_curve.html#af2cc26ff199570940dc96f5ec19a13f8">mHead</a>.<a class="code" href="class_q_c_p_line_ending.html#ac4b2fa94bd27b2f008b5fc090fcd7c0b">draw</a>(painter, QVector2D(endVec), -cubicPath.angleAtPercent(1)/180.0*M_PI);
<a name="l13789"></a>13789   }
<a name="l13790"></a>13790 }
<a name="l13791"></a>13791 
<a name="l13797"></a><a class="code" href="class_q_c_p_item_curve.html#a8089126f5645b6edfbaddea49d1e8390">13797</a> QPen <a class="code" href="class_q_c_p_item_curve.html#a8089126f5645b6edfbaddea49d1e8390">QCPItemCurve::mainPen</a>()<span class="keyword"> const</span>
<a name="l13798"></a>13798 <span class="keyword"></span>{
<a name="l13799"></a>13799   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#a4bdb3457dad1d268c0f78a44152b9645">mSelected</a> ? <a class="code" href="class_q_c_p_item_curve.html#ab22cbab261b20be5aa8e4ca252149246">mSelectedPen</a> : <a class="code" href="class_q_c_p_item_curve.html#a7ef92988d1db2e4d0311e34c0a57fe42">mPen</a>;
<a name="l13800"></a>13800 }
<a name="l13801"></a>13801 
<a name="l13802"></a>13802 
<a name="l13803"></a>13803 <span class="comment">// ================================================================================</span>
<a name="l13804"></a>13804 <span class="comment">// =================== QCPLayer</span>
<a name="l13805"></a>13805 <span class="comment">// ================================================================================</span>
<a name="l13806"></a>13806 
<a name="l13847"></a>13847 <span class="comment">/* start documentation of inline functions */</span>
<a name="l13848"></a>13848 
<a name="l13855"></a>13855 <span class="comment">/* end documentation of inline functions */</span>
<a name="l13856"></a>13856 
<a name="l13865"></a><a class="code" href="class_q_c_p_layer.html#a5d0657fc86d624e5efbe930ef21af718">13865</a> <a class="code" href="class_q_c_p_layer.html#a5d0657fc86d624e5efbe930ef21af718">QCPLayer::QCPLayer</a>(<a class="code" href="class_q_custom_plot.html" title="The central class of the library, the QWidget which displays the plot and interacts with the user...">QCustomPlot</a> *parentPlot, <span class="keyword">const</span> QString &amp;layerName) :
<a name="l13866"></a>13866   mParentPlot(parentPlot),
<a name="l13867"></a>13867   mName(layerName)
<a name="l13868"></a>13868 {
<a name="l13869"></a>13869   <span class="comment">// Note: no need to make sure layerName doesn&#39;t already, because layer</span>
<a name="l13870"></a>13870   <span class="comment">// management is done with QCustomPlot functions.</span>
<a name="l13871"></a>13871 }
<a name="l13872"></a>13872 
<a name="l13873"></a><a class="code" href="class_q_c_p_layer.html#afc1a8940f8e34c9f25ead9dfd4828cae">13873</a> <a class="code" href="class_q_c_p_layer.html#afc1a8940f8e34c9f25ead9dfd4828cae">QCPLayer::~QCPLayer</a>()
<a name="l13874"></a>13874 {
<a name="l13875"></a>13875 }
<a name="l13876"></a>13876 
<a name="l13883"></a><a class="code" href="class_q_c_p_layer.html#ad5d7010829a6b99f326b07d7e37c8c99">13883</a> <span class="keywordtype">int</span> <a class="code" href="class_q_c_p_layer.html#ad5d7010829a6b99f326b07d7e37c8c99">QCPLayer::index</a>()<span class="keyword"> const</span>
<a name="l13884"></a>13884 <span class="keyword"></span>{
<a name="l13885"></a>13885   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_layer.html#a2f3374a7884bf403720cd1cf6f7ad1bb">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a72ee313041b873d76c198793ce7e6c37">mLayers</a>.indexOf(const_cast&lt;QCPLayer*&gt;(<span class="keyword">this</span>));
<a name="l13886"></a>13886 }
<a name="l13887"></a>13887 
<a name="l13898"></a><a class="code" href="class_q_c_p_layer.html#a57ce5e49364aa9122276d5df3b4a0ddc">13898</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_layer.html#a57ce5e49364aa9122276d5df3b4a0ddc">QCPLayer::addChild</a>(<a class="code" href="class_q_c_p_layerable.html" title="Base class for all objects that can be placed on layers.">QCPLayerable</a> *layerable, <span class="keywordtype">bool</span> prepend)
<a name="l13899"></a>13899 {
<a name="l13900"></a>13900   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_layer.html#a704aa71bba469383c3a3c598c1ec0d28">mChildren</a>.contains(layerable))
<a name="l13901"></a>13901   {
<a name="l13902"></a>13902     <span class="keywordflow">if</span> (prepend)
<a name="l13903"></a>13903       <a class="code" href="class_q_c_p_layer.html#a704aa71bba469383c3a3c598c1ec0d28">mChildren</a>.prepend(layerable);
<a name="l13904"></a>13904     <span class="keywordflow">else</span>
<a name="l13905"></a>13905       <a class="code" href="class_q_c_p_layer.html#a704aa71bba469383c3a3c598c1ec0d28">mChildren</a>.append(layerable);
<a name="l13906"></a>13906   } <span class="keywordflow">else</span>
<a name="l13907"></a>13907     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;layerable is already child of this layer&quot;</span> &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span>quintptr<span class="keyword">&gt;</span>(layerable);
<a name="l13908"></a>13908 }
<a name="l13909"></a>13909 
<a name="l13919"></a><a class="code" href="class_q_c_p_layer.html#ac2f64ac7761650582d968d86670ef362">13919</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_layer.html#ac2f64ac7761650582d968d86670ef362">QCPLayer::removeChild</a>(<a class="code" href="class_q_c_p_layerable.html" title="Base class for all objects that can be placed on layers.">QCPLayerable</a> *layerable)
<a name="l13920"></a>13920 {
<a name="l13921"></a>13921   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_layer.html#a704aa71bba469383c3a3c598c1ec0d28">mChildren</a>.removeOne(layerable))
<a name="l13922"></a>13922     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;layerable is not child of this layer&quot;</span> &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span>quintptr<span class="keyword">&gt;</span>(layerable);
<a name="l13923"></a>13923 }
<a name="l13924"></a>13924 
<a name="l13925"></a>13925 
<a name="l13926"></a>13926 <span class="comment">// ================================================================================</span>
<a name="l13927"></a>13927 <span class="comment">// =================== QCPLayerable</span>
<a name="l13928"></a>13928 <span class="comment">// ================================================================================</span>
<a name="l13929"></a>13929 
<a name="l13942"></a>13942 <span class="comment">/* start documentation of pure virtual functions */</span>
<a name="l13943"></a>13943 
<a name="l13983"></a>13983 <span class="comment">/* end documentation of pure virtual functions */</span>
<a name="l13984"></a>13984 
<a name="l13991"></a><a class="code" href="class_q_c_p_layerable.html#a13db44e350bb2c681d2e31e2208e23f9">13991</a> <a class="code" href="class_q_c_p_layerable.html#a13db44e350bb2c681d2e31e2208e23f9">QCPLayerable::QCPLayerable</a>(<a class="code" href="class_q_custom_plot.html" title="The central class of the library, the QWidget which displays the plot and interacts with the user...">QCustomPlot</a> *parentPlot) :
<a name="l13992"></a>13992   QObject(0), <span class="comment">// rather not bind to parentPlot, incase we want to allow moving of objects between customplots some day</span>
<a name="l13993"></a>13993   mVisible(true),
<a name="l13994"></a>13994   mParentPlot(parentPlot),
<a name="l13995"></a>13995   mLayer(0),
<a name="l13996"></a>13996   mAntialiased(true)
<a name="l13997"></a>13997 {
<a name="l13998"></a>13998   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>)
<a name="l13999"></a>13999     <a class="code" href="class_q_c_p_layerable.html#ab0d0da6d2de45a118886d2c8e16d5a54">setLayer</a>(<a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#af73057345656cbd1463454982d808b00">currentLayer</a>());
<a name="l14000"></a>14000 }
<a name="l14001"></a>14001 
<a name="l14002"></a><a class="code" href="class_q_c_p_layerable.html#a4231cf5b3601d6d3a5781283e7a9735b">14002</a> <a class="code" href="class_q_c_p_layerable.html#a4231cf5b3601d6d3a5781283e7a9735b">QCPLayerable::~QCPLayerable</a>()
<a name="l14003"></a>14003 {
<a name="l14004"></a>14004   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_layerable.html#aa38ec5891aff0f50b36fd63e9372a0cd">mLayer</a>)
<a name="l14005"></a>14005   {
<a name="l14006"></a>14006     <a class="code" href="class_q_c_p_layerable.html#aa38ec5891aff0f50b36fd63e9372a0cd">mLayer</a>-&gt;<a class="code" href="class_q_c_p_layer.html#ac2f64ac7761650582d968d86670ef362">removeChild</a>(<span class="keyword">this</span>);
<a name="l14007"></a>14007     <a class="code" href="class_q_c_p_layerable.html#aa38ec5891aff0f50b36fd63e9372a0cd">mLayer</a> = 0;
<a name="l14008"></a>14008   }
<a name="l14009"></a>14009 }
<a name="l14010"></a>14010 
<a name="l14015"></a><a class="code" href="class_q_c_p_layerable.html#a3bed99ddc396b48ce3ebfdc0418744f8">14015</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_layerable.html#a3bed99ddc396b48ce3ebfdc0418744f8">QCPLayerable::setVisible</a>(<span class="keywordtype">bool</span> on)
<a name="l14016"></a>14016 {
<a name="l14017"></a>14017   <a class="code" href="class_q_c_p_layerable.html#a62e3aed8427d6ce3ccf716f285106cb3">mVisible</a> = on;
<a name="l14018"></a>14018 }
<a name="l14019"></a>14019 
<a name="l14026"></a><a class="code" href="class_q_c_p_layerable.html#ab0d0da6d2de45a118886d2c8e16d5a54">14026</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_c_p_layerable.html#ab0d0da6d2de45a118886d2c8e16d5a54">QCPLayerable::setLayer</a>(<a class="code" href="class_q_c_p_layer.html" title="A layer that may contain objects, to control the rendering order.">QCPLayer</a> *layer)
<a name="l14027"></a>14027 {
<a name="l14028"></a>14028   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_layerable.html#af94484cfb7cbbddb7de522e9be71d9a4">moveToLayer</a>(layer, <span class="keyword">false</span>);
<a name="l14029"></a>14029 }
<a name="l14030"></a>14030 
<a name="l14036"></a><a class="code" href="class_q_c_p_layerable.html#ab25a0e7b897993b44447caee0f142083">14036</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_c_p_layerable.html#ab0d0da6d2de45a118886d2c8e16d5a54">QCPLayerable::setLayer</a>(<span class="keyword">const</span> QString &amp;layerName)
<a name="l14037"></a>14037 {
<a name="l14038"></a>14038   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>)
<a name="l14039"></a>14039   {
<a name="l14040"></a>14040     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;no parent QCustomPlot set&quot;</span>;
<a name="l14041"></a>14041     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l14042"></a>14042   }
<a name="l14043"></a>14043   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_layer.html" title="A layer that may contain objects, to control the rendering order.">QCPLayer</a> *<a class="code" href="class_q_c_p_layerable.html#aea67e8c19145e70d68c286a36f6b8300">layer</a> = <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#aac492da01782820454e9136a8db28182">layer</a>(layerName))
<a name="l14044"></a>14044   {
<a name="l14045"></a>14045     <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_layerable.html#ab0d0da6d2de45a118886d2c8e16d5a54">setLayer</a>(<a class="code" href="class_q_c_p_layerable.html#aea67e8c19145e70d68c286a36f6b8300">layer</a>);
<a name="l14046"></a>14046   } <span class="keywordflow">else</span>
<a name="l14047"></a>14047   {
<a name="l14048"></a>14048     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;there is no layer with name&quot;</span> &lt;&lt; layerName;
<a name="l14049"></a>14049     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l14050"></a>14050   }
<a name="l14051"></a>14051 }
<a name="l14052"></a>14052 
<a name="l14059"></a><a class="code" href="class_q_c_p_layerable.html#a4fd43e89be4a553ead41652565ff0581">14059</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_layerable.html#a4fd43e89be4a553ead41652565ff0581">QCPLayerable::setAntialiased</a>(<span class="keywordtype">bool</span> enabled)
<a name="l14060"></a>14060 {
<a name="l14061"></a>14061   <a class="code" href="class_q_c_p_layerable.html#a3ab45a4c76a3333ce42eb217a81733ec">mAntialiased</a> = enabled;
<a name="l14062"></a>14062 }
<a name="l14063"></a>14063 
<a name="l14072"></a><a class="code" href="class_q_c_p_layerable.html#af94484cfb7cbbddb7de522e9be71d9a4">14072</a> <span class="keywordtype">bool</span> <a class="code" href="class_q_c_p_layerable.html#af94484cfb7cbbddb7de522e9be71d9a4">QCPLayerable::moveToLayer</a>(<a class="code" href="class_q_c_p_layer.html" title="A layer that may contain objects, to control the rendering order.">QCPLayer</a> *layer, <span class="keywordtype">bool</span> prepend)
<a name="l14073"></a>14073 {
<a name="l14074"></a>14074   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>)
<a name="l14075"></a>14075   {
<a name="l14076"></a>14076     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;no parent QCustomPlot set&quot;</span>;
<a name="l14077"></a>14077     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l14078"></a>14078   }
<a name="l14079"></a>14079   <span class="keywordflow">if</span> (layer &amp;&amp; layer-&gt;<a class="code" href="class_q_c_p_layer.html#a3958c9a938c2d05a7378c41484acee08">parentPlot</a>() != <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>)
<a name="l14080"></a>14080   {
<a name="l14081"></a>14081     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;layer&quot;</span> &lt;&lt; layer-&gt;<a class="code" href="class_q_c_p_layer.html#a96ebd1e436f3813938cb9cd4a59a60be">name</a>() &lt;&lt; <span class="stringliteral">&quot;is not in same QCustomPlot as this layerable&quot;</span>;
<a name="l14082"></a>14082     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l14083"></a>14083   }
<a name="l14084"></a>14084   
<a name="l14085"></a>14085   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_layerable.html#aa38ec5891aff0f50b36fd63e9372a0cd">mLayer</a>)
<a name="l14086"></a>14086     <a class="code" href="class_q_c_p_layerable.html#aa38ec5891aff0f50b36fd63e9372a0cd">mLayer</a>-&gt;<a class="code" href="class_q_c_p_layer.html#ac2f64ac7761650582d968d86670ef362">removeChild</a>(<span class="keyword">this</span>);
<a name="l14087"></a>14087   <a class="code" href="class_q_c_p_layerable.html#aa38ec5891aff0f50b36fd63e9372a0cd">mLayer</a> = <a class="code" href="class_q_c_p_layerable.html#aea67e8c19145e70d68c286a36f6b8300">layer</a>;
<a name="l14088"></a>14088   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_layerable.html#aa38ec5891aff0f50b36fd63e9372a0cd">mLayer</a>)
<a name="l14089"></a>14089     <a class="code" href="class_q_c_p_layerable.html#aa38ec5891aff0f50b36fd63e9372a0cd">mLayer</a>-&gt;<a class="code" href="class_q_c_p_layer.html#a57ce5e49364aa9122276d5df3b4a0ddc">addChild</a>(<span class="keyword">this</span>, prepend);
<a name="l14090"></a>14090   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l14091"></a>14091 }
<a name="l14092"></a>14092 
<a name="l14100"></a><a class="code" href="class_q_c_p_layerable.html#a62bd552d1a45aa9accb24b310542279e">14100</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_layerable.html#a62bd552d1a45aa9accb24b310542279e">QCPLayerable::applyAntialiasingHint</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter, <span class="keywordtype">bool</span> localAntialiased, <a class="code" href="namespace_q_c_p.html#ae55dbe315d41fe80f29ba88100843a0c">QCP::AntialiasedElement</a> overrideElement)<span class="keyword"> const</span>
<a name="l14101"></a>14101 <span class="keyword"></span>{
<a name="l14102"></a>14102   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a> &amp;&amp; <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a8060cee59757213764382a78d3196189">notAntialiasedElements</a>().testFlag(overrideElement))
<a name="l14103"></a>14103     painter-&gt;<a class="code" href="class_q_c_p_painter.html#aaba1deb9188244d9ea65b035112b4d05">setAntialiasing</a>(<span class="keyword">false</span>);
<a name="l14104"></a>14104   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a> &amp;&amp; <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a81e954fbb485bb44c609e5707f0067b3">antialiasedElements</a>().testFlag(overrideElement))
<a name="l14105"></a>14105     painter-&gt;<a class="code" href="class_q_c_p_painter.html#aaba1deb9188244d9ea65b035112b4d05">setAntialiasing</a>(<span class="keyword">true</span>);
<a name="l14106"></a>14106   <span class="keywordflow">else</span>
<a name="l14107"></a>14107     painter-&gt;<a class="code" href="class_q_c_p_painter.html#aaba1deb9188244d9ea65b035112b4d05">setAntialiasing</a>(localAntialiased);
<a name="l14108"></a>14108 }
<a name="l14109"></a>14109 
<a name="l14118"></a><a class="code" href="class_q_c_p_layerable.html#a07a8f746640c3704b09910df297afcba">14118</a> QRect <a class="code" href="class_q_c_p_layerable.html#a07a8f746640c3704b09910df297afcba">QCPLayerable::clipRect</a>()<span class="keyword"> const</span>
<a name="l14119"></a>14119 <span class="keyword"></span>{
<a name="l14120"></a>14120   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>)
<a name="l14121"></a>14121     <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a953ecdbc28018e7e84cb6213ad3d88c2">viewport</a>();
<a name="l14122"></a>14122   <span class="keywordflow">else</span>
<a name="l14123"></a>14123     <span class="keywordflow">return</span> QRect();
<a name="l14124"></a>14124 }
<a name="l14125"></a>14125 
<a name="l14126"></a>14126 
<a name="l14127"></a>14127 <span class="comment">// ================================================================================</span>
<a name="l14128"></a>14128 <span class="comment">// =================== QCPGrid</span>
<a name="l14129"></a>14129 <span class="comment">// ================================================================================</span>
<a name="l14130"></a>14130 
<a name="l14150"></a><a class="code" href="class_q_c_p_grid.html#acd1cdd2909625388a13048b698494a17">14150</a> <a class="code" href="class_q_c_p_grid.html#acd1cdd2909625388a13048b698494a17">QCPGrid::QCPGrid</a>(<a class="code" href="class_q_c_p_axis.html" title="Manages a single axis inside a QCustomPlot.">QCPAxis</a> *parentAxis) :
<a name="l14151"></a>14151   <a class="code" href="class_q_c_p_layerable.html" title="Base class for all objects that can be placed on layers.">QCPLayerable</a>(parentAxis-&gt;parentPlot()),
<a name="l14152"></a>14152   mParentAxis(parentAxis)
<a name="l14153"></a>14153 {
<a name="l14154"></a>14154   <a class="code" href="class_q_c_p_grid.html#aa05ab9816ffb440908171e45e833b593">setPen</a>(QPen(QColor(200,200,200), 0, Qt::DotLine));
<a name="l14155"></a>14155   <a class="code" href="class_q_c_p_grid.html#a9edd3593f384d1f0b0202a39cef4453d">setSubGridPen</a>(QPen(QColor(220,220,220), 0, Qt::DotLine));
<a name="l14156"></a>14156   <a class="code" href="class_q_c_p_grid.html#a209f40fdb252397b418b82d3494d8ea0">setZeroLinePen</a>(QPen(QColor(200,200,200), 0, Qt::SolidLine));
<a name="l14157"></a>14157   <a class="code" href="class_q_c_p_grid.html#ad4ad6bf714ec45e08845456355a1b700">setSubGridVisible</a>(<span class="keyword">false</span>);
<a name="l14158"></a>14158   <a class="code" href="class_q_c_p_layerable.html#a4fd43e89be4a553ead41652565ff0581">setAntialiased</a>(<span class="keyword">false</span>);
<a name="l14159"></a>14159   <a class="code" href="class_q_c_p_grid.html#a5692310ba183721a413d60951407d114">setAntialiasedSubGrid</a>(<span class="keyword">false</span>);
<a name="l14160"></a>14160   <a class="code" href="class_q_c_p_grid.html#a3cc6d54647393ee71afb6da56af07aa4">setAntialiasedZeroLine</a>(<span class="keyword">false</span>);
<a name="l14161"></a>14161 }
<a name="l14162"></a>14162 
<a name="l14163"></a><a class="code" href="class_q_c_p_grid.html#acf10d80f45e1be1fe8f7b84210228a4c">14163</a> <a class="code" href="class_q_c_p_grid.html#acf10d80f45e1be1fe8f7b84210228a4c">QCPGrid::~QCPGrid</a>()
<a name="l14164"></a>14164 {
<a name="l14165"></a>14165 }
<a name="l14166"></a>14166 
<a name="l14172"></a><a class="code" href="class_q_c_p_grid.html#ad4ad6bf714ec45e08845456355a1b700">14172</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_grid.html#ad4ad6bf714ec45e08845456355a1b700">QCPGrid::setSubGridVisible</a>(<span class="keywordtype">bool</span> visible)
<a name="l14173"></a>14173 {
<a name="l14174"></a>14174   <a class="code" href="class_q_c_p_grid.html#a4e4a0400d6319bb44c06341f6298c87b">mSubGridVisible</a> = <a class="code" href="class_q_c_p_layerable.html#a10a3cc92e0fa63e4a929e61d34e275a7">visible</a>;
<a name="l14175"></a>14175 }
<a name="l14176"></a>14176 
<a name="l14180"></a><a class="code" href="class_q_c_p_grid.html#a5692310ba183721a413d60951407d114">14180</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_grid.html#a5692310ba183721a413d60951407d114">QCPGrid::setAntialiasedSubGrid</a>(<span class="keywordtype">bool</span> enabled)
<a name="l14181"></a>14181 {
<a name="l14182"></a>14182   <a class="code" href="class_q_c_p_grid.html#a71b7051f833f0c5de3094998d6afdd87">mAntialiasedSubGrid</a> = enabled;
<a name="l14183"></a>14183 }
<a name="l14184"></a>14184 
<a name="l14188"></a><a class="code" href="class_q_c_p_grid.html#a3cc6d54647393ee71afb6da56af07aa4">14188</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_grid.html#a3cc6d54647393ee71afb6da56af07aa4">QCPGrid::setAntialiasedZeroLine</a>(<span class="keywordtype">bool</span> enabled)
<a name="l14189"></a>14189 {
<a name="l14190"></a>14190   <a class="code" href="class_q_c_p_grid.html#a8c0df56ae86440408c050895dcdb922b">mAntialiasedZeroLine</a> = enabled;
<a name="l14191"></a>14191 }
<a name="l14192"></a>14192 
<a name="l14196"></a><a class="code" href="class_q_c_p_grid.html#aa05ab9816ffb440908171e45e833b593">14196</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_grid.html#aa05ab9816ffb440908171e45e833b593">QCPGrid::setPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l14197"></a>14197 {
<a name="l14198"></a>14198   <a class="code" href="class_q_c_p_grid.html#a1cdc4a3bccf6a40c2d4360def9fefa40">mPen</a> = <a class="code" href="class_q_c_p_grid.html#aca20b67548e3ae31fd02e6398ffd6cb9">pen</a>;
<a name="l14199"></a>14199 }
<a name="l14200"></a>14200 
<a name="l14204"></a><a class="code" href="class_q_c_p_grid.html#a9edd3593f384d1f0b0202a39cef4453d">14204</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_grid.html#a9edd3593f384d1f0b0202a39cef4453d">QCPGrid::setSubGridPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l14205"></a>14205 {
<a name="l14206"></a>14206   <a class="code" href="class_q_c_p_grid.html#aa9004bc139ad3ea92629f0aaae81d83f">mSubGridPen</a> = <a class="code" href="class_q_c_p_grid.html#aca20b67548e3ae31fd02e6398ffd6cb9">pen</a>;
<a name="l14207"></a>14207 }
<a name="l14208"></a>14208 
<a name="l14215"></a><a class="code" href="class_q_c_p_grid.html#a209f40fdb252397b418b82d3494d8ea0">14215</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_grid.html#a209f40fdb252397b418b82d3494d8ea0">QCPGrid::setZeroLinePen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l14216"></a>14216 {
<a name="l14217"></a>14217   <a class="code" href="class_q_c_p_grid.html#a379481871f17655c27eda30af233554f">mZeroLinePen</a> = <a class="code" href="class_q_c_p_grid.html#aca20b67548e3ae31fd02e6398ffd6cb9">pen</a>;
<a name="l14218"></a>14218 }
<a name="l14219"></a>14219 
<a name="l14232"></a><a class="code" href="class_q_c_p_grid.html#a9916f5e38b4d6cae446537aeb47c7272">14232</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_grid.html#a9916f5e38b4d6cae446537aeb47c7272">QCPGrid::applyDefaultAntialiasingHint</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)<span class="keyword"> const</span>
<a name="l14233"></a>14233 <span class="keyword"></span>{
<a name="l14234"></a>14234   <a class="code" href="class_q_c_p_layerable.html#a62bd552d1a45aa9accb24b310542279e">applyAntialiasingHint</a>(painter, <a class="code" href="class_q_c_p_layerable.html#a3ab45a4c76a3333ce42eb217a81733ec">mAntialiased</a>, <a class="code" href="namespace_q_c_p.html#ae55dbe315d41fe80f29ba88100843a0ca4fbb37118d62288af0ca601ff2b07a2f" title="0x0002 Grid lines">QCP::aeGrid</a>);
<a name="l14235"></a>14235 }
<a name="l14236"></a>14236 
<a name="l14244"></a><a class="code" href="class_q_c_p_grid.html#ad009c23f96078616aa4f66a750974b23">14244</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_grid.html#ad009c23f96078616aa4f66a750974b23">QCPGrid::draw</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)
<a name="l14245"></a>14245 {
<a name="l14246"></a>14246   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_layerable.html#a10a3cc92e0fa63e4a929e61d34e275a7">visible</a>()) <span class="keywordflow">return</span>; <span class="comment">// also don&#39;t draw grid when parent axis isn&#39;t visible</span>
<a name="l14247"></a>14247   
<a name="l14248"></a>14248   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_grid.html#a4e4a0400d6319bb44c06341f6298c87b">mSubGridVisible</a>)
<a name="l14249"></a>14249     <a class="code" href="class_q_c_p_grid.html#afa5d9d12de419e881f381f2ab7cb414d">drawSubGridLines</a>(painter);
<a name="l14250"></a>14250   <a class="code" href="class_q_c_p_grid.html#a3aff10e993f6625e255c19e4f97a09d8">drawGridLines</a>(painter);
<a name="l14251"></a>14251 }
<a name="l14252"></a>14252 
<a name="l14259"></a><a class="code" href="class_q_c_p_grid.html#a3aff10e993f6625e255c19e4f97a09d8">14259</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_grid.html#a3aff10e993f6625e255c19e4f97a09d8">QCPGrid::drawGridLines</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)<span class="keyword"> const</span>
<a name="l14260"></a>14260 <span class="keyword"></span>{
<a name="l14261"></a>14261   <span class="keywordtype">int</span> lowTick = <a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#aebb24ba8734b7e054efc6e1ecc5414c7">mLowestVisibleTick</a>;
<a name="l14262"></a>14262   <span class="keywordtype">int</span> highTick = <a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#abb3b3ccce7e9779fef2be91ce1a46ef0">mHighestVisibleTick</a>;
<a name="l14263"></a>14263   <span class="keywordtype">double</span> t; <span class="comment">// helper variable, result of coordinate-to-pixel transforms</span>
<a name="l14264"></a>14264   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Horizontal)
<a name="l14265"></a>14265   {
<a name="l14266"></a>14266     <span class="comment">// draw zeroline:</span>
<a name="l14267"></a>14267     <span class="keywordtype">int</span> zeroLineIndex = -1;
<a name="l14268"></a>14268     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_grid.html#a379481871f17655c27eda30af233554f">mZeroLinePen</a>.style() != Qt::NoPen &amp;&amp; <a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> &lt; 0 &amp;&amp; <a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &gt; 0)
<a name="l14269"></a>14269     {
<a name="l14270"></a>14270       <a class="code" href="class_q_c_p_layerable.html#a62bd552d1a45aa9accb24b310542279e">applyAntialiasingHint</a>(painter, <a class="code" href="class_q_c_p_grid.html#a8c0df56ae86440408c050895dcdb922b">mAntialiasedZeroLine</a>, <a class="code" href="namespace_q_c_p.html#ae55dbe315d41fe80f29ba88100843a0ca261f8ea78cf3c9561726223ffa33dc12" title="0x0400 Zero-lines, see QCPAxis::setZeroLinePen">QCP::aeZeroLine</a>);
<a name="l14271"></a>14271       painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_grid.html#a379481871f17655c27eda30af233554f">mZeroLinePen</a>);
<a name="l14272"></a>14272       <span class="keywordtype">double</span> epsilon = <a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ab1ea79a4f5ea4cf42620f8f51c477ac4">range</a>().<a class="code" href="class_q_c_p_range.html#afa57c13049b965edb6fd1c00ac56338a">size</a>()*1E-6; <span class="comment">// for comparing double to zero</span>
<a name="l14273"></a>14273       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=lowTick; i &lt;= highTick; ++i)
<a name="l14274"></a>14274       {
<a name="l14275"></a>14275         <span class="keywordflow">if</span> (qAbs(<a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.at(i)) &lt; epsilon)
<a name="l14276"></a>14276         {
<a name="l14277"></a>14277           zeroLineIndex = i;
<a name="l14278"></a>14278           t = <a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(<a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.at(i)); <span class="comment">// x</span>
<a name="l14279"></a>14279           painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(t, <a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom(), t, <a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.top()));
<a name="l14280"></a>14280           <span class="keywordflow">break</span>;
<a name="l14281"></a>14281         }
<a name="l14282"></a>14282       }
<a name="l14283"></a>14283     }
<a name="l14284"></a>14284     <a class="code" href="class_q_c_p_grid.html#a9916f5e38b4d6cae446537aeb47c7272">applyDefaultAntialiasingHint</a>(painter);
<a name="l14285"></a>14285     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_grid.html#a1cdc4a3bccf6a40c2d4360def9fefa40">mPen</a>);
<a name="l14286"></a>14286     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=lowTick; i &lt;= highTick; ++i)
<a name="l14287"></a>14287     {
<a name="l14288"></a>14288       <span class="keywordflow">if</span> (i == zeroLineIndex) <span class="keywordflow">continue</span>; <span class="comment">// don&#39;t draw a gridline on top of the zeroline</span>
<a name="l14289"></a>14289       t = <a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(<a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.at(i)); <span class="comment">// x</span>
<a name="l14290"></a>14290       painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(t, <a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom(), t, <a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.top()));
<a name="l14291"></a>14291     }
<a name="l14292"></a>14292   } <span class="keywordflow">else</span>
<a name="l14293"></a>14293   {
<a name="l14294"></a>14294     <span class="comment">// draw zeroline:</span>
<a name="l14295"></a>14295     <span class="keywordtype">int</span> zeroLineIndex = -1;
<a name="l14296"></a>14296     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_grid.html#a379481871f17655c27eda30af233554f">mZeroLinePen</a>.style() != Qt::NoPen &amp;&amp; <a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#aa3aca3edb14f7ca0c85d912647b91745">lower</a> &lt; 0 &amp;&amp; <a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#ae44eb3aafe1d0e2ed34b499b6d2e074f">upper</a> &gt; 0)
<a name="l14297"></a>14297     {
<a name="l14298"></a>14298       <a class="code" href="class_q_c_p_layerable.html#a62bd552d1a45aa9accb24b310542279e">applyAntialiasingHint</a>(painter, <a class="code" href="class_q_c_p_grid.html#a8c0df56ae86440408c050895dcdb922b">mAntialiasedZeroLine</a>, <a class="code" href="namespace_q_c_p.html#ae55dbe315d41fe80f29ba88100843a0ca261f8ea78cf3c9561726223ffa33dc12" title="0x0400 Zero-lines, see QCPAxis::setZeroLinePen">QCP::aeZeroLine</a>);
<a name="l14299"></a>14299       painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_grid.html#a379481871f17655c27eda30af233554f">mZeroLinePen</a>);
<a name="l14300"></a>14300       <span class="keywordtype">double</span> epsilon = <a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a1ee36773c49062d751560e11f90845f7">mRange</a>.<a class="code" href="class_q_c_p_range.html#afa57c13049b965edb6fd1c00ac56338a">size</a>()*1E-6; <span class="comment">// for comparing double to zero</span>
<a name="l14301"></a>14301       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=lowTick; i &lt;= highTick; ++i)
<a name="l14302"></a>14302       {
<a name="l14303"></a>14303         <span class="keywordflow">if</span> (qAbs(<a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.at(i)) &lt; epsilon)
<a name="l14304"></a>14304         {
<a name="l14305"></a>14305           zeroLineIndex = i;
<a name="l14306"></a>14306           t = <a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(<a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.at(i)); <span class="comment">// y</span>
<a name="l14307"></a>14307           painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(<a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left(), t, <a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.right(), t));
<a name="l14308"></a>14308           <span class="keywordflow">break</span>;
<a name="l14309"></a>14309         }
<a name="l14310"></a>14310       }
<a name="l14311"></a>14311     }
<a name="l14312"></a>14312     <span class="comment">// draw grid lines:</span>
<a name="l14313"></a>14313     <a class="code" href="class_q_c_p_grid.html#a9916f5e38b4d6cae446537aeb47c7272">applyDefaultAntialiasingHint</a>(painter);
<a name="l14314"></a>14314     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_grid.html#a1cdc4a3bccf6a40c2d4360def9fefa40">mPen</a>);
<a name="l14315"></a>14315     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=lowTick; i &lt;= highTick; ++i)
<a name="l14316"></a>14316     {
<a name="l14317"></a>14317       <span class="keywordflow">if</span> (i == zeroLineIndex) <span class="keywordflow">continue</span>; <span class="comment">// don&#39;t draw a gridline on top of the zeroline</span>
<a name="l14318"></a>14318       t = <a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(<a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#aae0f9b9973b85be601200f00f5825087">mTickVector</a>.at(i)); <span class="comment">// y</span>
<a name="l14319"></a>14319       painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(<a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left(), t, <a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.right(), t));
<a name="l14320"></a>14320     }
<a name="l14321"></a>14321   }
<a name="l14322"></a>14322 }
<a name="l14323"></a>14323 
<a name="l14330"></a><a class="code" href="class_q_c_p_grid.html#afa5d9d12de419e881f381f2ab7cb414d">14330</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_grid.html#afa5d9d12de419e881f381f2ab7cb414d">QCPGrid::drawSubGridLines</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)<span class="keyword"> const</span>
<a name="l14331"></a>14331 <span class="keyword"></span>{
<a name="l14332"></a>14332   <a class="code" href="class_q_c_p_layerable.html#a62bd552d1a45aa9accb24b310542279e">applyAntialiasingHint</a>(painter, <a class="code" href="class_q_c_p_grid.html#a71b7051f833f0c5de3094998d6afdd87">mAntialiasedSubGrid</a>, <a class="code" href="namespace_q_c_p.html#ae55dbe315d41fe80f29ba88100843a0caaedf83369188a15a69f92bb1d85ca97b" title="0x0004 Sub grid lines">QCP::aeSubGrid</a>);
<a name="l14333"></a>14333   <span class="keywordtype">double</span> t; <span class="comment">// helper variable, result of coordinate-to-pixel transforms</span>
<a name="l14334"></a>14334   painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_grid.html#aa9004bc139ad3ea92629f0aaae81d83f">mSubGridPen</a>);
<a name="l14335"></a>14335   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a57483f2f60145ddc9e63f3af53959265">orientation</a>() == Qt::Horizontal)
<a name="l14336"></a>14336   {
<a name="l14337"></a>14337     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a28353081e0ff35c3fe5ced923a287faa">mSubTickVector</a>.size(); ++i)
<a name="l14338"></a>14338     {
<a name="l14339"></a>14339       t = <a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(<a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a28353081e0ff35c3fe5ced923a287faa">mSubTickVector</a>.at(i)); <span class="comment">// x</span>
<a name="l14340"></a>14340       painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(t, <a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.bottom(), t, <a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.top()));
<a name="l14341"></a>14341     }
<a name="l14342"></a>14342   } <span class="keywordflow">else</span>
<a name="l14343"></a>14343   {
<a name="l14344"></a>14344     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a28353081e0ff35c3fe5ced923a287faa">mSubTickVector</a>.size(); ++i)
<a name="l14345"></a>14345     {
<a name="l14346"></a>14346       t = <a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a985ae693b842fb0422b4390fe36d299a">coordToPixel</a>(<a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#a28353081e0ff35c3fe5ced923a287faa">mSubTickVector</a>.at(i)); <span class="comment">// y</span>
<a name="l14347"></a>14347       painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(<a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.left(), t, <a class="code" href="class_q_c_p_grid.html#a9a8a76731e6e737b65b929fd1995cc88">mParentAxis</a>-&gt;<a class="code" href="class_q_c_p_axis.html#ad63d51f30f835f3a568b6231362ed4a0">mAxisRect</a>.right(), t));
<a name="l14348"></a>14348     }
<a name="l14349"></a>14349   }
<a name="l14350"></a>14350 }
<a name="l14351"></a>14351 
<a name="l14352"></a>14352 
<a name="l14353"></a>14353 <span class="comment">// ================================================================================</span>
<a name="l14354"></a>14354 <span class="comment">// =================== QCPItemAnchor</span>
<a name="l14355"></a>14355 <span class="comment">// ================================================================================</span>
<a name="l14356"></a>14356 
<a name="l14383"></a><a class="code" href="class_q_c_p_item_anchor.html#aeb6b681d2bf324db40a915d32ec5624f">14383</a> <a class="code" href="class_q_c_p_item_anchor.html#aeb6b681d2bf324db40a915d32ec5624f">QCPItemAnchor::QCPItemAnchor</a>(<a class="code" href="class_q_custom_plot.html" title="The central class of the library, the QWidget which displays the plot and interacts with the user...">QCustomPlot</a> *parentPlot, <a class="code" href="class_q_c_p_abstract_item.html" title="The abstract base class for all items in a plot.">QCPAbstractItem</a> *parentItem, <span class="keyword">const</span> QString name, <span class="keywordtype">int</span> anchorId) :
<a name="l14384"></a>14384   mParentPlot(parentPlot),
<a name="l14385"></a>14385   mParentItem(parentItem),
<a name="l14386"></a>14386   mAnchorId(anchorId),
<a name="l14387"></a>14387   mName(name)
<a name="l14388"></a>14388 {
<a name="l14389"></a>14389 }
<a name="l14390"></a>14390 
<a name="l14391"></a><a class="code" href="class_q_c_p_item_anchor.html#a1868559407600688ee4d1a4621e81ceb">14391</a> <a class="code" href="class_q_c_p_item_anchor.html#a1868559407600688ee4d1a4621e81ceb">QCPItemAnchor::~QCPItemAnchor</a>()
<a name="l14392"></a>14392 {
<a name="l14393"></a>14393   <span class="comment">// unregister as parent at children:</span>
<a name="l14394"></a>14394   QList&lt;QCPItemPosition*&gt; currentChildren(<a class="code" href="class_q_c_p_item_anchor.html#a5f0e67f395a63e2dd0e29ff1dcaf37b7">mChildren</a>.toList());
<a name="l14395"></a>14395   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;currentChildren.size(); ++i)
<a name="l14396"></a>14396     currentChildren.at(i)-&gt;setParentAnchor(0); <span class="comment">// this acts back on this anchor and child removes itself from mChildren</span>
<a name="l14397"></a>14397 }
<a name="l14398"></a>14398 
<a name="l14405"></a><a class="code" href="class_q_c_p_item_anchor.html#ae92def8f9297c5d73f5806c586517bb3">14405</a> QPointF <a class="code" href="class_q_c_p_item_anchor.html#ae92def8f9297c5d73f5806c586517bb3">QCPItemAnchor::pixelPoint</a>()<span class="keyword"> const</span>
<a name="l14406"></a>14406 <span class="keyword"></span>{
<a name="l14407"></a>14407   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_anchor.html#a80fad480ad3bb980446ed6ebc00818ae">mParentItem</a>)
<a name="l14408"></a>14408   {
<a name="l14409"></a>14409     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_anchor.html#a00c62070333e8345976b579676ad3997">mAnchorId</a> &gt; -1)
<a name="l14410"></a>14410     {
<a name="l14411"></a>14411       <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_item_anchor.html#a80fad480ad3bb980446ed6ebc00818ae">mParentItem</a>-&gt;<a class="code" href="class_q_c_p_abstract_item.html#a94bde62b8a2fc133666dcbb8035deeed">anchorPixelPoint</a>(<a class="code" href="class_q_c_p_item_anchor.html#a00c62070333e8345976b579676ad3997">mAnchorId</a>);
<a name="l14412"></a>14412     } <span class="keywordflow">else</span>
<a name="l14413"></a>14413     {
<a name="l14414"></a>14414       qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;no valid anchor id set:&quot;</span> &lt;&lt; <a class="code" href="class_q_c_p_item_anchor.html#a00c62070333e8345976b579676ad3997">mAnchorId</a>;
<a name="l14415"></a>14415       <span class="keywordflow">return</span> QPointF();
<a name="l14416"></a>14416     }
<a name="l14417"></a>14417   } <span class="keywordflow">else</span>
<a name="l14418"></a>14418   {
<a name="l14419"></a>14419     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;no parent item set&quot;</span>;
<a name="l14420"></a>14420     <span class="keywordflow">return</span> QPointF();
<a name="l14421"></a>14421   }
<a name="l14422"></a>14422 }
<a name="l14423"></a>14423 
<a name="l14431"></a><a class="code" href="class_q_c_p_item_anchor.html#ad11517e2ce5c2f9a798e78fb45e2e0d0">14431</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_anchor.html#ad11517e2ce5c2f9a798e78fb45e2e0d0">QCPItemAnchor::addChild</a>(<a class="code" href="class_q_c_p_item_position.html" title="Manages the position of an item.">QCPItemPosition</a> *pos)
<a name="l14432"></a>14432 {
<a name="l14433"></a>14433   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_item_anchor.html#a5f0e67f395a63e2dd0e29ff1dcaf37b7">mChildren</a>.contains(pos))
<a name="l14434"></a>14434     <a class="code" href="class_q_c_p_item_anchor.html#a5f0e67f395a63e2dd0e29ff1dcaf37b7">mChildren</a>.insert(pos);
<a name="l14435"></a>14435   <span class="keywordflow">else</span>
<a name="l14436"></a>14436     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;provided pos is child already&quot;</span> &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span>quintptr<span class="keyword">&gt;</span>(pos);
<a name="l14437"></a>14437 }
<a name="l14438"></a>14438 
<a name="l14445"></a><a class="code" href="class_q_c_p_item_anchor.html#ab65ec61984575f737f43c2bb59dd0d76">14445</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_anchor.html#ab65ec61984575f737f43c2bb59dd0d76">QCPItemAnchor::removeChild</a>(<a class="code" href="class_q_c_p_item_position.html" title="Manages the position of an item.">QCPItemPosition</a> *pos)
<a name="l14446"></a>14446 {
<a name="l14447"></a>14447   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_item_anchor.html#a5f0e67f395a63e2dd0e29ff1dcaf37b7">mChildren</a>.remove(pos))
<a name="l14448"></a>14448     qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;provided pos isn&#39;t child&quot;</span> &lt;&lt; <span class="keyword">reinterpret_cast&lt;</span>quintptr<span class="keyword">&gt;</span>(pos);
<a name="l14449"></a>14449 }
<a name="l14450"></a>14450 
<a name="l14451"></a>14451 
<a name="l14452"></a>14452 <span class="comment">// ================================================================================</span>
<a name="l14453"></a>14453 <span class="comment">// =================== QCPItemBracket</span>
<a name="l14454"></a>14454 <span class="comment">// ================================================================================</span>
<a name="l14455"></a>14455 
<a name="l14481"></a><a class="code" href="class_q_c_p_item_bracket.html#a44ecfa37a76de5e3549e2d61f9d8ee56">14481</a> <a class="code" href="class_q_c_p_item_bracket.html#a44ecfa37a76de5e3549e2d61f9d8ee56">QCPItemBracket::QCPItemBracket</a>(<a class="code" href="class_q_custom_plot.html" title="The central class of the library, the QWidget which displays the plot and interacts with the user...">QCustomPlot</a> *parentPlot) :
<a name="l14482"></a>14482   <a class="code" href="class_q_c_p_abstract_item.html" title="The abstract base class for all items in a plot.">QCPAbstractItem</a>(parentPlot),
<a name="l14483"></a>14483   left(createPosition(<span class="stringliteral">&quot;left&quot;</span>)),
<a name="l14484"></a>14484   right(createPosition(<span class="stringliteral">&quot;right&quot;</span>)),
<a name="l14485"></a>14485   center(createAnchor(<span class="stringliteral">&quot;center&quot;</span>, aiCenter))
<a name="l14486"></a>14486 {
<a name="l14487"></a>14487   <a class="code" href="class_q_c_p_item_bracket.html#af6cc6d27d96171778c6927d6edce48b0">left</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(0, 0);
<a name="l14488"></a>14488   <a class="code" href="class_q_c_p_item_bracket.html#afa6c1360b05a50c4e0df37b3cebab6be">right</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(1, 1);
<a name="l14489"></a>14489   
<a name="l14490"></a>14490   <a class="code" href="class_q_c_p_item_bracket.html#ab13001d9cc5d8f9e56ea15bdda682acb">setPen</a>(QPen(Qt::black));
<a name="l14491"></a>14491   <a class="code" href="class_q_c_p_item_bracket.html#a349785c31122778a520c64891fa204c5">setSelectedPen</a>(QPen(Qt::blue, 2));
<a name="l14492"></a>14492   <a class="code" href="class_q_c_p_item_bracket.html#ac7cfc3da7da9b5c5ac5dfbe4f0351b2a">setLength</a>(8);
<a name="l14493"></a>14493   <a class="code" href="class_q_c_p_item_bracket.html#a612dffa2373422eef8754d690add3703">setStyle</a>(<a class="code" href="class_q_c_p_item_bracket.html#a7ac3afd0b24a607054e7212047d59dbda8f29f5ef754e2dc9a9efdedb2face0f3" title="A curly brace with varying stroke width giving a calligraphic impression.">bsCalligraphic</a>);
<a name="l14494"></a>14494 }
<a name="l14495"></a>14495 
<a name="l14496"></a><a class="code" href="class_q_c_p_item_bracket.html#ad773c3e8e09868d6f8caeb92c54919f4">14496</a> <a class="code" href="class_q_c_p_item_bracket.html#ad773c3e8e09868d6f8caeb92c54919f4">QCPItemBracket::~QCPItemBracket</a>()
<a name="l14497"></a>14497 {
<a name="l14498"></a>14498 }
<a name="l14499"></a>14499 
<a name="l14509"></a><a class="code" href="class_q_c_p_item_bracket.html#ab13001d9cc5d8f9e56ea15bdda682acb">14509</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_bracket.html#ab13001d9cc5d8f9e56ea15bdda682acb">QCPItemBracket::setPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l14510"></a>14510 {
<a name="l14511"></a>14511   <a class="code" href="class_q_c_p_item_bracket.html#a350c864a5853b04343719f5a8be6b675">mPen</a> = <a class="code" href="class_q_c_p_item_bracket.html#a8963ff4a232b649c83d2461fd3c30d39">pen</a>;
<a name="l14512"></a>14512 }
<a name="l14513"></a>14513 
<a name="l14519"></a><a class="code" href="class_q_c_p_item_bracket.html#a349785c31122778a520c64891fa204c5">14519</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_bracket.html#a349785c31122778a520c64891fa204c5">QCPItemBracket::setSelectedPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l14520"></a>14520 {
<a name="l14521"></a>14521   <a class="code" href="class_q_c_p_item_bracket.html#adcfb53602d1802d00e2de4fd6df6b291">mSelectedPen</a> = <a class="code" href="class_q_c_p_item_bracket.html#a8963ff4a232b649c83d2461fd3c30d39">pen</a>;
<a name="l14522"></a>14522 }
<a name="l14523"></a>14523 
<a name="l14532"></a><a class="code" href="class_q_c_p_item_bracket.html#ac7cfc3da7da9b5c5ac5dfbe4f0351b2a">14532</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_bracket.html#ac7cfc3da7da9b5c5ac5dfbe4f0351b2a">QCPItemBracket::setLength</a>(<span class="keywordtype">double</span> length)
<a name="l14533"></a>14533 {
<a name="l14534"></a>14534   <a class="code" href="class_q_c_p_item_bracket.html#ab3d99bba8da18eb4d0e0cb23dded33b2">mLength</a> = <a class="code" href="class_q_c_p_item_bracket.html#aed5126eafcb1381ee5718499c20ba023">length</a>;
<a name="l14535"></a>14535 }
<a name="l14536"></a>14536 
<a name="l14542"></a><a class="code" href="class_q_c_p_item_bracket.html#a612dffa2373422eef8754d690add3703">14542</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_bracket.html#a612dffa2373422eef8754d690add3703">QCPItemBracket::setStyle</a>(<a class="code" href="class_q_c_p_item_bracket.html#a7ac3afd0b24a607054e7212047d59dbd">QCPItemBracket::BracketStyle</a> style)
<a name="l14543"></a>14543 {
<a name="l14544"></a>14544   <a class="code" href="class_q_c_p_item_bracket.html#ac911907184c824d621f274f8e0990080">mStyle</a> = <a class="code" href="class_q_c_p_item_bracket.html#afad726f453f70fe77c0e9c2f260fff97">style</a>;
<a name="l14545"></a>14545 }
<a name="l14546"></a>14546 
<a name="l14547"></a>14547 <span class="comment">/* inherits documentation from base class */</span>
<a name="l14548"></a><a class="code" href="class_q_c_p_item_bracket.html#a3e4bf2f77e147e46e375b7aa288f52ae">14548</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_item_bracket.html#a3e4bf2f77e147e46e375b7aa288f52ae">QCPItemBracket::selectTest</a>(<span class="keyword">const</span> QPointF &amp;pos)<span class="keyword"> const</span>
<a name="l14549"></a>14549 <span class="keyword"></span>{
<a name="l14550"></a>14550   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_layerable.html#a62e3aed8427d6ce3ccf716f285106cb3">mVisible</a>)
<a name="l14551"></a>14551     <span class="keywordflow">return</span> -1;
<a name="l14552"></a>14552   
<a name="l14553"></a>14553   QVector2D leftVec(<a class="code" href="class_q_c_p_item_bracket.html#af6cc6d27d96171778c6927d6edce48b0">left</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l14554"></a>14554   QVector2D rightVec(<a class="code" href="class_q_c_p_item_bracket.html#afa6c1360b05a50c4e0df37b3cebab6be">right</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l14555"></a>14555   <span class="keywordflow">if</span> (leftVec.toPoint() == rightVec.toPoint())
<a name="l14556"></a>14556     <span class="keywordflow">return</span> -1;
<a name="l14557"></a>14557   
<a name="l14558"></a>14558   QVector2D widthVec = (rightVec-leftVec)*0.5;
<a name="l14559"></a>14559   QVector2D lengthVec(-widthVec.y(), widthVec.x());
<a name="l14560"></a>14560   lengthVec = lengthVec.normalized()*<a class="code" href="class_q_c_p_item_bracket.html#ab3d99bba8da18eb4d0e0cb23dded33b2">mLength</a>;
<a name="l14561"></a>14561   QVector2D centerVec = (rightVec+leftVec)*0.5-lengthVec;
<a name="l14562"></a>14562   
<a name="l14563"></a>14563   <span class="keywordflow">return</span> qSqrt(<a class="code" href="class_q_c_p_abstract_item.html#acdca343717d625b8abb3c3e38c0ed39d">distSqrToLine</a>((centerVec-widthVec).toPointF(), (centerVec+widthVec).toPointF(), pos));
<a name="l14564"></a>14564 }
<a name="l14565"></a>14565 
<a name="l14566"></a>14566 <span class="comment">/* inherits documentation from base class */</span>
<a name="l14567"></a><a class="code" href="class_q_c_p_item_bracket.html#a8343cf0559c64886add7aa7f4b22f1a6">14567</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_bracket.html#a8343cf0559c64886add7aa7f4b22f1a6">QCPItemBracket::draw</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)
<a name="l14568"></a>14568 {
<a name="l14569"></a>14569   QVector2D leftVec(<a class="code" href="class_q_c_p_item_bracket.html#af6cc6d27d96171778c6927d6edce48b0">left</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l14570"></a>14570   QVector2D rightVec(<a class="code" href="class_q_c_p_item_bracket.html#afa6c1360b05a50c4e0df37b3cebab6be">right</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l14571"></a>14571   <span class="keywordflow">if</span> (leftVec.toPoint() == rightVec.toPoint())
<a name="l14572"></a>14572     <span class="keywordflow">return</span>;
<a name="l14573"></a>14573   
<a name="l14574"></a>14574   QVector2D widthVec = (rightVec-leftVec)*0.5;
<a name="l14575"></a>14575   QVector2D lengthVec(-widthVec.y(), widthVec.x());
<a name="l14576"></a>14576   lengthVec = lengthVec.normalized()*<a class="code" href="class_q_c_p_item_bracket.html#ab3d99bba8da18eb4d0e0cb23dded33b2">mLength</a>;
<a name="l14577"></a>14577   QVector2D centerVec = (rightVec+leftVec)*0.5-lengthVec;
<a name="l14578"></a>14578 
<a name="l14579"></a>14579   QPolygon boundingPoly;
<a name="l14580"></a>14580   boundingPoly &lt;&lt; leftVec.toPoint() &lt;&lt; rightVec.toPoint()
<a name="l14581"></a>14581                &lt;&lt; (rightVec-lengthVec).toPoint() &lt;&lt; (leftVec-lengthVec).toPoint();
<a name="l14582"></a>14582   QRect clip = <a class="code" href="class_q_c_p_abstract_item.html#a538e25ff8856534582f5b2b400a46405">clipRect</a>().adjusted(-<a class="code" href="class_q_c_p_item_bracket.html#a8df4ad873bf88a4a7bfb9bbbd490e495">mainPen</a>().widthF(), -<a class="code" href="class_q_c_p_item_bracket.html#a8df4ad873bf88a4a7bfb9bbbd490e495">mainPen</a>().widthF(), <a class="code" href="class_q_c_p_item_bracket.html#a8df4ad873bf88a4a7bfb9bbbd490e495">mainPen</a>().widthF(), <a class="code" href="class_q_c_p_item_bracket.html#a8df4ad873bf88a4a7bfb9bbbd490e495">mainPen</a>().widthF());
<a name="l14583"></a>14583   <span class="keywordflow">if</span> (clip.intersects(boundingPoly.boundingRect()))
<a name="l14584"></a>14584   {
<a name="l14585"></a>14585     painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_item_bracket.html#a8df4ad873bf88a4a7bfb9bbbd490e495">mainPen</a>());
<a name="l14586"></a>14586     <span class="keywordflow">switch</span> (<a class="code" href="class_q_c_p_item_bracket.html#ac911907184c824d621f274f8e0990080">mStyle</a>)
<a name="l14587"></a>14587     {
<a name="l14588"></a>14588       <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_bracket.html#a7ac3afd0b24a607054e7212047d59dbda7f9df4a7359bfe3dac1dbe4ccf5d220c" title="A brace with angled edges.">bsSquare</a>:
<a name="l14589"></a>14589       {
<a name="l14590"></a>14590         painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>((centerVec+widthVec).toPointF(), (centerVec-widthVec).toPointF());
<a name="l14591"></a>14591         painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>((centerVec+widthVec).toPointF(), (centerVec+widthVec+lengthVec).toPointF());
<a name="l14592"></a>14592         painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>((centerVec-widthVec).toPointF(), (centerVec-widthVec+lengthVec).toPointF());
<a name="l14593"></a>14593         <span class="keywordflow">break</span>;
<a name="l14594"></a>14594       }
<a name="l14595"></a>14595       <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_bracket.html#a7ac3afd0b24a607054e7212047d59dbda394627b0830a26ee3e0a02ca67a9f918" title="A brace with round edges.">bsRound</a>:
<a name="l14596"></a>14596       {
<a name="l14597"></a>14597         painter-&gt;setBrush(Qt::NoBrush);
<a name="l14598"></a>14598         QPainterPath path;
<a name="l14599"></a>14599         path.moveTo((centerVec+widthVec+lengthVec).toPointF());
<a name="l14600"></a>14600         path.cubicTo((centerVec+widthVec).toPointF(), (centerVec+widthVec).toPointF(), centerVec.toPointF());
<a name="l14601"></a>14601         path.cubicTo((centerVec-widthVec).toPointF(), (centerVec-widthVec).toPointF(), (centerVec-widthVec+lengthVec).toPointF());
<a name="l14602"></a>14602         painter-&gt;drawPath(path);
<a name="l14603"></a>14603         <span class="keywordflow">break</span>;
<a name="l14604"></a>14604       }
<a name="l14605"></a>14605       <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_bracket.html#a7ac3afd0b24a607054e7212047d59dbda5024ce4023c2d8de4221f1cd4816acd8" title="A curly brace.">bsCurly</a>:
<a name="l14606"></a>14606       {
<a name="l14607"></a>14607         painter-&gt;setBrush(Qt::NoBrush);
<a name="l14608"></a>14608         QPainterPath path;
<a name="l14609"></a>14609         path.moveTo((centerVec+widthVec+lengthVec).toPointF());
<a name="l14610"></a>14610         path.cubicTo((centerVec+widthVec*1-lengthVec*0.8).toPointF(), (centerVec+0.4*widthVec+1*lengthVec).toPointF(), centerVec.toPointF());
<a name="l14611"></a>14611         path.cubicTo((centerVec-0.4*widthVec+1*lengthVec).toPointF(), (centerVec-widthVec*1-lengthVec*0.8).toPointF(), (centerVec-widthVec+lengthVec).toPointF());
<a name="l14612"></a>14612         painter-&gt;drawPath(path);
<a name="l14613"></a>14613         <span class="keywordflow">break</span>;
<a name="l14614"></a>14614       }
<a name="l14615"></a>14615       <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_bracket.html#a7ac3afd0b24a607054e7212047d59dbda8f29f5ef754e2dc9a9efdedb2face0f3" title="A curly brace with varying stroke width giving a calligraphic impression.">bsCalligraphic</a>:
<a name="l14616"></a>14616       {
<a name="l14617"></a>14617         painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(Qt::NoPen);
<a name="l14618"></a>14618         painter-&gt;setBrush(QBrush(<a class="code" href="class_q_c_p_item_bracket.html#a8df4ad873bf88a4a7bfb9bbbd490e495">mainPen</a>().color()));
<a name="l14619"></a>14619         QPainterPath path;
<a name="l14620"></a>14620         path.moveTo((centerVec+widthVec+lengthVec).toPointF());
<a name="l14621"></a>14621         
<a name="l14622"></a>14622         path.cubicTo((centerVec+widthVec*1-lengthVec*0.8).toPointF(), (centerVec+0.4*widthVec+0.8*lengthVec).toPointF(), centerVec.toPointF());
<a name="l14623"></a>14623         path.cubicTo((centerVec-0.4*widthVec+0.8*lengthVec).toPointF(), (centerVec-widthVec*1-lengthVec*0.8).toPointF(), (centerVec-widthVec+lengthVec).toPointF());
<a name="l14624"></a>14624         
<a name="l14625"></a>14625         path.cubicTo((centerVec-widthVec*1-lengthVec*0.5).toPointF(), (centerVec-0.2*widthVec+1.2*lengthVec).toPointF(), (centerVec+lengthVec*0.2).toPointF());
<a name="l14626"></a>14626         path.cubicTo((centerVec+0.2*widthVec+1.2*lengthVec).toPointF(), (centerVec+widthVec*1-lengthVec*0.5).toPointF(), (centerVec+widthVec+lengthVec).toPointF());
<a name="l14627"></a>14627         
<a name="l14628"></a>14628         painter-&gt;drawPath(path);
<a name="l14629"></a>14629         <span class="keywordflow">break</span>;
<a name="l14630"></a>14630       }
<a name="l14631"></a>14631     }
<a name="l14632"></a>14632   }
<a name="l14633"></a>14633 }
<a name="l14634"></a>14634 
<a name="l14635"></a>14635 <span class="comment">/* inherits documentation from base class */</span>
<a name="l14636"></a><a class="code" href="class_q_c_p_item_bracket.html#ac76827e3acba5faee81f149af4047a39">14636</a> QPointF <a class="code" href="class_q_c_p_item_bracket.html#ac76827e3acba5faee81f149af4047a39">QCPItemBracket::anchorPixelPoint</a>(<span class="keywordtype">int</span> anchorId)<span class="keyword"> const</span>
<a name="l14637"></a>14637 <span class="keyword"></span>{
<a name="l14638"></a>14638   QVector2D leftVec(<a class="code" href="class_q_c_p_item_bracket.html#af6cc6d27d96171778c6927d6edce48b0">left</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l14639"></a>14639   QVector2D rightVec(<a class="code" href="class_q_c_p_item_bracket.html#afa6c1360b05a50c4e0df37b3cebab6be">right</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l14640"></a>14640   <span class="keywordflow">if</span> (leftVec.toPoint() == rightVec.toPoint())
<a name="l14641"></a>14641     <span class="keywordflow">return</span> leftVec.toPointF();
<a name="l14642"></a>14642   
<a name="l14643"></a>14643   QVector2D widthVec = (rightVec-leftVec)*0.5;
<a name="l14644"></a>14644   QVector2D lengthVec(-widthVec.y(), widthVec.x());
<a name="l14645"></a>14645   lengthVec = lengthVec.normalized()*<a class="code" href="class_q_c_p_item_bracket.html#ab3d99bba8da18eb4d0e0cb23dded33b2">mLength</a>;
<a name="l14646"></a>14646   QVector2D centerVec = (rightVec+leftVec)*0.5-lengthVec;
<a name="l14647"></a>14647   
<a name="l14648"></a>14648   <span class="keywordflow">switch</span> (anchorId)
<a name="l14649"></a>14649   {
<a name="l14650"></a>14650     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_bracket.html#a7f3a6a56d67f71219ed220553f3dd861a17b57ef34cc05eadfe9becd1ad5b5242">aiCenter</a>:
<a name="l14651"></a>14651       <span class="keywordflow">return</span> centerVec.toPointF();
<a name="l14652"></a>14652   }
<a name="l14653"></a>14653   qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;invalid anchorId&quot;</span> &lt;&lt; anchorId;
<a name="l14654"></a>14654   <span class="keywordflow">return</span> QPointF();
<a name="l14655"></a>14655 }
<a name="l14656"></a>14656 
<a name="l14662"></a><a class="code" href="class_q_c_p_item_bracket.html#a8df4ad873bf88a4a7bfb9bbbd490e495">14662</a> QPen <a class="code" href="class_q_c_p_item_bracket.html#a8df4ad873bf88a4a7bfb9bbbd490e495">QCPItemBracket::mainPen</a>()<span class="keyword"> const</span>
<a name="l14663"></a>14663 <span class="keyword"></span>{
<a name="l14664"></a>14664     <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#a4bdb3457dad1d268c0f78a44152b9645">mSelected</a> ? <a class="code" href="class_q_c_p_item_bracket.html#adcfb53602d1802d00e2de4fd6df6b291">mSelectedPen</a> : <a class="code" href="class_q_c_p_item_bracket.html#a350c864a5853b04343719f5a8be6b675">mPen</a>;
<a name="l14665"></a>14665 }
<a name="l14666"></a>14666 
<a name="l14667"></a>14667 
<a name="l14668"></a>14668 <span class="comment">// ================================================================================</span>
<a name="l14669"></a>14669 <span class="comment">// =================== QCPItemTracer</span>
<a name="l14670"></a>14670 <span class="comment">// ================================================================================</span>
<a name="l14671"></a>14671 
<a name="l14706"></a><a class="code" href="class_q_c_p_item_tracer.html#adc5ca846eeac323db4aa1fc4081e36be">14706</a> <a class="code" href="class_q_c_p_item_tracer.html#adc5ca846eeac323db4aa1fc4081e36be">QCPItemTracer::QCPItemTracer</a>(<a class="code" href="class_q_custom_plot.html" title="The central class of the library, the QWidget which displays the plot and interacts with the user...">QCustomPlot</a> *parentPlot) :
<a name="l14707"></a>14707   <a class="code" href="class_q_c_p_abstract_item.html" title="The abstract base class for all items in a plot.">QCPAbstractItem</a>(parentPlot),
<a name="l14708"></a>14708   position(createPosition(<span class="stringliteral">&quot;position&quot;</span>)),
<a name="l14709"></a>14709   mGraph(0)
<a name="l14710"></a>14710 {
<a name="l14711"></a>14711   <a class="code" href="class_q_c_p_item_tracer.html#a69917e2fdb2b3a929c196958feee7cbe">position</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(0, 0);
<a name="l14712"></a>14712 
<a name="l14713"></a>14713   <a class="code" href="class_q_c_p_item_tracer.html#a2c303f7470a30084daa201ed556b3c36">setBrush</a>(Qt::NoBrush);
<a name="l14714"></a>14714   <a class="code" href="class_q_c_p_item_tracer.html#a0f55c084980a7a312af859d3e7b558ef">setSelectedBrush</a>(Qt::NoBrush);
<a name="l14715"></a>14715   <a class="code" href="class_q_c_p_item_tracer.html#af8048636fc1ef0152e51809b008df2ca">setPen</a>(QPen(Qt::black));
<a name="l14716"></a>14716   <a class="code" href="class_q_c_p_item_tracer.html#ae1bf70db7f13f928660168cd3e5069f3">setSelectedPen</a>(QPen(Qt::blue, 2));
<a name="l14717"></a>14717   <a class="code" href="class_q_c_p_item_tracer.html#a41a2ac4f1acd7897b4e2a2579c03204e">setStyle</a>(<a class="code" href="class_q_c_p_item_tracer.html#a2f05ddb13978036f902ca3ab47076500af562ec81ac3ba99e26ef8540cf1ec16f" title="A plus shaped crosshair which spans the complete axis rect.">tsCrosshair</a>);
<a name="l14718"></a>14718   <a class="code" href="class_q_c_p_item_tracer.html#ae47fe0617f5fef5fdb766999569be10a">setSize</a>(6);
<a name="l14719"></a>14719   <a class="code" href="class_q_c_p_item_tracer.html#a6c244a9d1175bef12b50afafd4f5fcd2">setInterpolating</a>(<span class="keyword">false</span>);
<a name="l14720"></a>14720   <a class="code" href="class_q_c_p_item_tracer.html#a6840143b42f3b685cedf7c6d83a704c8">setGraphKey</a>(0);
<a name="l14721"></a>14721 }
<a name="l14722"></a>14722 
<a name="l14723"></a><a class="code" href="class_q_c_p_item_tracer.html#a43686565a9b70815915618636b9bdf0f">14723</a> <a class="code" href="class_q_c_p_item_tracer.html#a43686565a9b70815915618636b9bdf0f">QCPItemTracer::~QCPItemTracer</a>()
<a name="l14724"></a>14724 {
<a name="l14725"></a>14725 }
<a name="l14726"></a>14726 
<a name="l14732"></a><a class="code" href="class_q_c_p_item_tracer.html#af8048636fc1ef0152e51809b008df2ca">14732</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_tracer.html#af8048636fc1ef0152e51809b008df2ca">QCPItemTracer::setPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l14733"></a>14733 {
<a name="l14734"></a>14734   <a class="code" href="class_q_c_p_item_tracer.html#a579e3bd6bd16d6aaff03638dc8a99a69">mPen</a> = <a class="code" href="class_q_c_p_item_tracer.html#a1f51b61e98c276298a0874d5e89707f0">pen</a>;
<a name="l14735"></a>14735 }
<a name="l14736"></a>14736 
<a name="l14742"></a><a class="code" href="class_q_c_p_item_tracer.html#ae1bf70db7f13f928660168cd3e5069f3">14742</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_tracer.html#ae1bf70db7f13f928660168cd3e5069f3">QCPItemTracer::setSelectedPen</a>(<span class="keyword">const</span> QPen &amp;pen)
<a name="l14743"></a>14743 {
<a name="l14744"></a>14744   <a class="code" href="class_q_c_p_item_tracer.html#a3f61829784200819661d1e2a5354d866">mSelectedPen</a> = <a class="code" href="class_q_c_p_item_tracer.html#a1f51b61e98c276298a0874d5e89707f0">pen</a>;
<a name="l14745"></a>14745 }
<a name="l14746"></a>14746 
<a name="l14752"></a><a class="code" href="class_q_c_p_item_tracer.html#a2c303f7470a30084daa201ed556b3c36">14752</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_tracer.html#a2c303f7470a30084daa201ed556b3c36">QCPItemTracer::setBrush</a>(<span class="keyword">const</span> QBrush &amp;brush)
<a name="l14753"></a>14753 {
<a name="l14754"></a>14754   <a class="code" href="class_q_c_p_item_tracer.html#a6597be63a17a266233941354200b2340">mBrush</a> = <a class="code" href="class_q_c_p_item_tracer.html#af07527750cfb6afc3c0ba4bec012011f">brush</a>;
<a name="l14755"></a>14755 }
<a name="l14756"></a>14756 
<a name="l14762"></a><a class="code" href="class_q_c_p_item_tracer.html#a0f55c084980a7a312af859d3e7b558ef">14762</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_tracer.html#a0f55c084980a7a312af859d3e7b558ef">QCPItemTracer::setSelectedBrush</a>(<span class="keyword">const</span> QBrush &amp;brush)
<a name="l14763"></a>14763 {
<a name="l14764"></a>14764   <a class="code" href="class_q_c_p_item_tracer.html#a1c15d2adde40efdcc0ef1ff78fd256a6">mSelectedBrush</a> = <a class="code" href="class_q_c_p_item_tracer.html#af07527750cfb6afc3c0ba4bec012011f">brush</a>;
<a name="l14765"></a>14765 }
<a name="l14766"></a>14766 
<a name="l14771"></a><a class="code" href="class_q_c_p_item_tracer.html#ae47fe0617f5fef5fdb766999569be10a">14771</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_tracer.html#ae47fe0617f5fef5fdb766999569be10a">QCPItemTracer::setSize</a>(<span class="keywordtype">double</span> size)
<a name="l14772"></a>14772 {
<a name="l14773"></a>14773   <a class="code" href="class_q_c_p_item_tracer.html#a575153a24bb357d1e006f6bc3bd099b9">mSize</a> = <a class="code" href="class_q_c_p_item_tracer.html#a2607fcb3d01e90773ea1532fd6803760">size</a>;
<a name="l14774"></a>14774 }
<a name="l14775"></a>14775 
<a name="l14782"></a><a class="code" href="class_q_c_p_item_tracer.html#a41a2ac4f1acd7897b4e2a2579c03204e">14782</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_tracer.html#a41a2ac4f1acd7897b4e2a2579c03204e">QCPItemTracer::setStyle</a>(<a class="code" href="class_q_c_p_item_tracer.html#a2f05ddb13978036f902ca3ab47076500">QCPItemTracer::TracerStyle</a> style)
<a name="l14783"></a>14783 {
<a name="l14784"></a>14784   <a class="code" href="class_q_c_p_item_tracer.html#afb1f236bebf417544e0138fef22a292e">mStyle</a> = <a class="code" href="class_q_c_p_item_tracer.html#a871832dace1709f877c3136fac7ae1ec">style</a>;
<a name="l14785"></a>14785 }
<a name="l14786"></a>14786 
<a name="l14797"></a><a class="code" href="class_q_c_p_item_tracer.html#af5886f4ded8dd68cb4f3388f390790c0">14797</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_tracer.html#af5886f4ded8dd68cb4f3388f390790c0">QCPItemTracer::setGraph</a>(<a class="code" href="class_q_c_p_graph.html" title="A plottable representing a graph in a plot.">QCPGraph</a> *graph)
<a name="l14798"></a>14798 {
<a name="l14799"></a>14799   <span class="keywordflow">if</span> (graph)
<a name="l14800"></a>14800   {
<a name="l14801"></a>14801     <span class="keywordflow">if</span> (graph-&gt;<a class="code" href="class_q_c_p_layerable.html#ab7e0e94461566093d36ffc0f5312b109">parentPlot</a>() == <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>)
<a name="l14802"></a>14802     {
<a name="l14803"></a>14803       <a class="code" href="class_q_c_p_item_tracer.html#a69917e2fdb2b3a929c196958feee7cbe">position</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa476abf71ed8fa4c537457ebb1a754ad">setType</a>(<a class="code" href="class_q_c_p_item_position.html#aad9936c22bf43e3d358552f6e86dbdc8ad5ffb8dc99ad73263f7010c77342294c" title="Dynamic positioning at a plot coordinate defined by two axes (see setAxes).">QCPItemPosition::ptPlotCoords</a>);
<a name="l14804"></a>14804       <a class="code" href="class_q_c_p_item_tracer.html#a69917e2fdb2b3a929c196958feee7cbe">position</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#a2185f45c75ac8cb9be89daeaaad50e37">setAxes</a>(graph-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#a72c7a09c22963f2c943f07112b311103">keyAxis</a>(), graph-&gt;<a class="code" href="class_q_c_p_abstract_plottable.html#a3106f9d34d330a6097a8ec5905e5b519">valueAxis</a>());
<a name="l14805"></a>14805       <a class="code" href="class_q_c_p_item_tracer.html#a2d70cf616b579563aa15f796dfc143ac">mGraph</a> = <a class="code" href="class_q_c_p_item_tracer.html#a74c90da0e6730839b8d7cf6445a4ec1f">graph</a>;
<a name="l14806"></a>14806       <a class="code" href="class_q_c_p_item_tracer.html#a5b90296109e36384aedbc8908a670413">updatePosition</a>();
<a name="l14807"></a>14807     } <span class="keywordflow">else</span>
<a name="l14808"></a>14808       qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;graph isn&#39;t in same QCustomPlot instance as this item&quot;</span>;
<a name="l14809"></a>14809   } <span class="keywordflow">else</span>
<a name="l14810"></a>14810   {
<a name="l14811"></a>14811     <a class="code" href="class_q_c_p_item_tracer.html#a2d70cf616b579563aa15f796dfc143ac">mGraph</a> = 0;
<a name="l14812"></a>14812   }
<a name="l14813"></a>14813 }
<a name="l14814"></a>14814 
<a name="l14824"></a><a class="code" href="class_q_c_p_item_tracer.html#a6840143b42f3b685cedf7c6d83a704c8">14824</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_tracer.html#a6840143b42f3b685cedf7c6d83a704c8">QCPItemTracer::setGraphKey</a>(<span class="keywordtype">double</span> key)
<a name="l14825"></a>14825 {
<a name="l14826"></a>14826   <a class="code" href="class_q_c_p_item_tracer.html#a8fa20f2e9ee07d21fd7c8d30ba4702ca">mGraphKey</a> = key;
<a name="l14827"></a>14827 }
<a name="l14828"></a>14828 
<a name="l14840"></a><a class="code" href="class_q_c_p_item_tracer.html#a6c244a9d1175bef12b50afafd4f5fcd2">14840</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_tracer.html#a6c244a9d1175bef12b50afafd4f5fcd2">QCPItemTracer::setInterpolating</a>(<span class="keywordtype">bool</span> enabled)
<a name="l14841"></a>14841 {
<a name="l14842"></a>14842   <a class="code" href="class_q_c_p_item_tracer.html#afab37c22ad39f235921e86f93cd84595">mInterpolating</a> = enabled;
<a name="l14843"></a>14843 }
<a name="l14844"></a>14844 
<a name="l14845"></a>14845 <span class="comment">/* inherits documentation from base class */</span>
<a name="l14846"></a><a class="code" href="class_q_c_p_item_tracer.html#a5a7297a98b14664e2dc16cba28e51192">14846</a> <span class="keywordtype">double</span> <a class="code" href="class_q_c_p_item_tracer.html#a5a7297a98b14664e2dc16cba28e51192">QCPItemTracer::selectTest</a>(<span class="keyword">const</span> QPointF &amp;pos)<span class="keyword"> const</span>
<a name="l14847"></a>14847 <span class="keyword"></span>{
<a name="l14848"></a>14848   <span class="keywordflow">if</span> (!<a class="code" href="class_q_c_p_layerable.html#a62e3aed8427d6ce3ccf716f285106cb3">mVisible</a> || <a class="code" href="class_q_c_p_item_tracer.html#afb1f236bebf417544e0138fef22a292e">mStyle</a> == <a class="code" href="class_q_c_p_item_tracer.html#a2f05ddb13978036f902ca3ab47076500aac27462c79146225bfa8fba24d2ee8a4" title="The tracer is not visible.">tsNone</a>)
<a name="l14849"></a>14849     <span class="keywordflow">return</span> -1;
<a name="l14850"></a>14850 
<a name="l14851"></a>14851   QPointF center(<a class="code" href="class_q_c_p_item_tracer.html#a69917e2fdb2b3a929c196958feee7cbe">position</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l14852"></a>14852   <span class="keywordtype">double</span> w = <a class="code" href="class_q_c_p_item_tracer.html#a575153a24bb357d1e006f6bc3bd099b9">mSize</a>/2.0;
<a name="l14853"></a>14853   QRect clip = <a class="code" href="class_q_c_p_abstract_item.html#a538e25ff8856534582f5b2b400a46405">clipRect</a>();
<a name="l14854"></a>14854   <span class="keywordflow">switch</span> (<a class="code" href="class_q_c_p_item_tracer.html#afb1f236bebf417544e0138fef22a292e">mStyle</a>)
<a name="l14855"></a>14855   {
<a name="l14856"></a>14856     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_tracer.html#a2f05ddb13978036f902ca3ab47076500aac27462c79146225bfa8fba24d2ee8a4" title="The tracer is not visible.">tsNone</a>: <span class="keywordflow">return</span> -1;
<a name="l14857"></a>14857     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_tracer.html#a2f05ddb13978036f902ca3ab47076500a3323fb04017146e4885e080a459472fa" title="A plus shaped crosshair with limited size.">tsPlus</a>:
<a name="l14858"></a>14858     {
<a name="l14859"></a>14859       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_abstract_item.html#a538e25ff8856534582f5b2b400a46405">clipRect</a>().intersects(QRectF(center-QPointF(w, w), center+QPointF(w, w)).toRect()))
<a name="l14860"></a>14860         <span class="keywordflow">return</span> qSqrt(qMin(<a class="code" href="class_q_c_p_abstract_item.html#acdca343717d625b8abb3c3e38c0ed39d">distSqrToLine</a>(center+QPointF(-w, 0), center+QPointF(w, 0), pos),
<a name="l14861"></a>14861                           <a class="code" href="class_q_c_p_abstract_item.html#acdca343717d625b8abb3c3e38c0ed39d">distSqrToLine</a>(center+QPointF(0, -w), center+QPointF(0, w), pos)));
<a name="l14862"></a>14862       <span class="keywordflow">break</span>;
<a name="l14863"></a>14863     }
<a name="l14864"></a>14864     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_tracer.html#a2f05ddb13978036f902ca3ab47076500af562ec81ac3ba99e26ef8540cf1ec16f" title="A plus shaped crosshair which spans the complete axis rect.">tsCrosshair</a>:
<a name="l14865"></a>14865     {
<a name="l14866"></a>14866       <span class="keywordflow">return</span> qSqrt(qMin(<a class="code" href="class_q_c_p_abstract_item.html#acdca343717d625b8abb3c3e38c0ed39d">distSqrToLine</a>(QPointF(clip.left(), center.y()), QPointF(clip.right(), center.y()), pos),
<a name="l14867"></a>14867                         <a class="code" href="class_q_c_p_abstract_item.html#acdca343717d625b8abb3c3e38c0ed39d">distSqrToLine</a>(QPointF(center.x(), clip.top()), QPointF(center.x(), clip.bottom()), pos)));
<a name="l14868"></a>14868       <span class="keywordflow">break</span>;
<a name="l14869"></a>14869     }
<a name="l14870"></a>14870     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_tracer.html#a2f05ddb13978036f902ca3ab47076500ae2252c28f4842880d71e9f94e69de94e" title="A circle.">tsCircle</a>:
<a name="l14871"></a>14871     {
<a name="l14872"></a>14872       <span class="keywordflow">if</span> (clip.intersects(QRectF(center-QPointF(w, w), center+QPointF(w, w)).toRect()))
<a name="l14873"></a>14873       {
<a name="l14874"></a>14874         <span class="comment">// distance to border:</span>
<a name="l14875"></a>14875         <span class="keywordtype">double</span> centerDist = QVector2D(center-pos).length();
<a name="l14876"></a>14876         <span class="keywordtype">double</span> circleLine = w;
<a name="l14877"></a>14877         <span class="keywordtype">double</span> result = qAbs(centerDist-circleLine);
<a name="l14878"></a>14878         <span class="comment">// filled ellipse, allow click inside to count as hit:</span>
<a name="l14879"></a>14879         <span class="keywordflow">if</span> (result &gt; <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a7b738074c75e80070ef6a10263c6cd69">selectionTolerance</a>()*0.99 &amp;&amp; <a class="code" href="class_q_c_p_item_tracer.html#a6597be63a17a266233941354200b2340">mBrush</a>.style() != Qt::NoBrush &amp;&amp; <a class="code" href="class_q_c_p_item_tracer.html#a6597be63a17a266233941354200b2340">mBrush</a>.color().alpha() != 0)
<a name="l14880"></a>14880         {
<a name="l14881"></a>14881           <span class="keywordflow">if</span> (centerDist &lt;= circleLine)
<a name="l14882"></a>14882             result = <a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a7b738074c75e80070ef6a10263c6cd69">selectionTolerance</a>()*0.99;
<a name="l14883"></a>14883         }
<a name="l14884"></a>14884         <span class="keywordflow">return</span> result;
<a name="l14885"></a>14885       }
<a name="l14886"></a>14886       <span class="keywordflow">break</span>;
<a name="l14887"></a>14887     }
<a name="l14888"></a>14888     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_tracer.html#a2f05ddb13978036f902ca3ab47076500a4ed5f01f2c5fd86d980366d79f481b9b" title="A square.">tsSquare</a>:
<a name="l14889"></a>14889     {
<a name="l14890"></a>14890       <span class="keywordflow">if</span> (clip.intersects(QRectF(center-QPointF(w, w), center+QPointF(w, w)).toRect()))
<a name="l14891"></a>14891       {
<a name="l14892"></a>14892         QRectF rect = QRectF(center-QPointF(w, w), center+QPointF(w, w));
<a name="l14893"></a>14893         <span class="keywordtype">bool</span> filledRect = <a class="code" href="class_q_c_p_item_tracer.html#a6597be63a17a266233941354200b2340">mBrush</a>.style() != Qt::NoBrush &amp;&amp; <a class="code" href="class_q_c_p_item_tracer.html#a6597be63a17a266233941354200b2340">mBrush</a>.color().alpha() != 0;
<a name="l14894"></a>14894         <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#a4c0e14c4e92df91174cb7183fb363069">rectSelectTest</a>(rect, pos, filledRect);
<a name="l14895"></a>14895       }
<a name="l14896"></a>14896       <span class="keywordflow">break</span>;
<a name="l14897"></a>14897     }
<a name="l14898"></a>14898   }
<a name="l14899"></a>14899   <span class="keywordflow">return</span> -1;
<a name="l14900"></a>14900 }
<a name="l14901"></a>14901 
<a name="l14902"></a>14902 <span class="comment">/* inherits documentation from base class */</span>
<a name="l14903"></a><a class="code" href="class_q_c_p_item_tracer.html#aaaf49b48382c730ec9be0e74c2538315">14903</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_tracer.html#aaaf49b48382c730ec9be0e74c2538315">QCPItemTracer::draw</a>(<a class="code" href="class_q_c_p_painter.html" title="QPainter subclass used internally.">QCPPainter</a> *painter)
<a name="l14904"></a>14904 {
<a name="l14905"></a>14905   <a class="code" href="class_q_c_p_item_tracer.html#a5b90296109e36384aedbc8908a670413">updatePosition</a>();
<a name="l14906"></a>14906   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_tracer.html#afb1f236bebf417544e0138fef22a292e">mStyle</a> == <a class="code" href="class_q_c_p_item_tracer.html#a2f05ddb13978036f902ca3ab47076500aac27462c79146225bfa8fba24d2ee8a4" title="The tracer is not visible.">tsNone</a>)
<a name="l14907"></a>14907     <span class="keywordflow">return</span>;
<a name="l14908"></a>14908 
<a name="l14909"></a>14909   painter-&gt;<a class="code" href="class_q_c_p_painter.html#af9c7a4cd1791403901f8c5b82a150195">setPen</a>(<a class="code" href="class_q_c_p_item_tracer.html#af87132b7698d5bb35c96a8a0b9e7180e">mainPen</a>());
<a name="l14910"></a>14910   painter-&gt;setBrush(<a class="code" href="class_q_c_p_item_tracer.html#aaf4e72e2d87f53279b9f9ba624961bf5">mainBrush</a>());
<a name="l14911"></a>14911   QPointF center(<a class="code" href="class_q_c_p_item_tracer.html#a69917e2fdb2b3a929c196958feee7cbe">position</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#ae490f9c76ee2ba33752c495d3b6e8fb5">pixelPoint</a>());
<a name="l14912"></a>14912   <span class="keywordtype">double</span> w = <a class="code" href="class_q_c_p_item_tracer.html#a575153a24bb357d1e006f6bc3bd099b9">mSize</a>/2.0;
<a name="l14913"></a>14913   QRect clip = <a class="code" href="class_q_c_p_abstract_item.html#a538e25ff8856534582f5b2b400a46405">clipRect</a>();
<a name="l14914"></a>14914   <span class="keywordflow">switch</span> (<a class="code" href="class_q_c_p_item_tracer.html#afb1f236bebf417544e0138fef22a292e">mStyle</a>)
<a name="l14915"></a>14915   {
<a name="l14916"></a>14916     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_tracer.html#a2f05ddb13978036f902ca3ab47076500aac27462c79146225bfa8fba24d2ee8a4" title="The tracer is not visible.">tsNone</a>: <span class="keywordflow">return</span>;
<a name="l14917"></a>14917     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_tracer.html#a2f05ddb13978036f902ca3ab47076500a3323fb04017146e4885e080a459472fa" title="A plus shaped crosshair with limited size.">tsPlus</a>:
<a name="l14918"></a>14918     {
<a name="l14919"></a>14919       <span class="keywordflow">if</span> (clip.intersects(QRectF(center-QPointF(w, w), center+QPointF(w, w)).toRect()))
<a name="l14920"></a>14920       {
<a name="l14921"></a>14921         painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(center+QPointF(-w, 0), center+QPointF(w, 0)));
<a name="l14922"></a>14922         painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(center+QPointF(0, -w), center+QPointF(0, w)));
<a name="l14923"></a>14923       }
<a name="l14924"></a>14924       <span class="keywordflow">break</span>;
<a name="l14925"></a>14925     }
<a name="l14926"></a>14926     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_tracer.html#a2f05ddb13978036f902ca3ab47076500af562ec81ac3ba99e26ef8540cf1ec16f" title="A plus shaped crosshair which spans the complete axis rect.">tsCrosshair</a>:
<a name="l14927"></a>14927     {
<a name="l14928"></a>14928       <span class="keywordflow">if</span> (center.y() &gt; clip.top() &amp;&amp; center.y() &lt; clip.bottom())
<a name="l14929"></a>14929         painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(clip.left(), center.y(), clip.right(), center.y()));
<a name="l14930"></a>14930       <span class="keywordflow">if</span> (center.x() &gt; clip.left() &amp;&amp; center.x() &lt; clip.right())
<a name="l14931"></a>14931         painter-&gt;<a class="code" href="class_q_c_p_painter.html#a0b4b1b9bd495e182c731774dc800e6e0">drawLine</a>(QLineF(center.x(), clip.top(), center.x(), clip.bottom()));
<a name="l14932"></a>14932       <span class="keywordflow">break</span>;
<a name="l14933"></a>14933     }
<a name="l14934"></a>14934     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_tracer.html#a2f05ddb13978036f902ca3ab47076500ae2252c28f4842880d71e9f94e69de94e" title="A circle.">tsCircle</a>:
<a name="l14935"></a>14935     {
<a name="l14936"></a>14936       <span class="keywordflow">if</span> (clip.intersects(QRectF(center-QPointF(w, w), center+QPointF(w, w)).toRect()))
<a name="l14937"></a>14937         painter-&gt;drawEllipse(center, w, w);
<a name="l14938"></a>14938       <span class="keywordflow">break</span>;
<a name="l14939"></a>14939     }
<a name="l14940"></a>14940     <span class="keywordflow">case</span> <a class="code" href="class_q_c_p_item_tracer.html#a2f05ddb13978036f902ca3ab47076500a4ed5f01f2c5fd86d980366d79f481b9b" title="A square.">tsSquare</a>:
<a name="l14941"></a>14941     {
<a name="l14942"></a>14942       <span class="keywordflow">if</span> (clip.intersects(QRectF(center-QPointF(w, w), center+QPointF(w, w)).toRect()))
<a name="l14943"></a>14943         painter-&gt;drawRect(QRectF(center-QPointF(w, w), center+QPointF(w, w)));
<a name="l14944"></a>14944       <span class="keywordflow">break</span>;
<a name="l14945"></a>14945     }
<a name="l14946"></a>14946   }
<a name="l14947"></a>14947 }
<a name="l14948"></a>14948 
<a name="l14961"></a><a class="code" href="class_q_c_p_item_tracer.html#a5b90296109e36384aedbc8908a670413">14961</a> <span class="keywordtype">void</span> <a class="code" href="class_q_c_p_item_tracer.html#a5b90296109e36384aedbc8908a670413">QCPItemTracer::updatePosition</a>()
<a name="l14962"></a>14962 {
<a name="l14963"></a>14963   <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_tracer.html#a2d70cf616b579563aa15f796dfc143ac">mGraph</a>)
<a name="l14964"></a>14964   {
<a name="l14965"></a>14965     <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_layerable.html#aa2a528433e44db02b8aef23c1f9f90ed">mParentPlot</a>-&gt;<a class="code" href="class_q_custom_plot.html#a4fc28914e2ee91aab424b7ce46b6bdf1">hasPlottable</a>(<a class="code" href="class_q_c_p_item_tracer.html#a2d70cf616b579563aa15f796dfc143ac">mGraph</a>))
<a name="l14966"></a>14966     {
<a name="l14967"></a>14967       <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_tracer.html#a2d70cf616b579563aa15f796dfc143ac">mGraph</a>-&gt;<a class="code" href="class_q_c_p_graph.html#a8f4c17d993df4759c7426db45b33fbc0">data</a>()-&gt;size() &gt; 1)
<a name="l14968"></a>14968       {
<a name="l14969"></a>14969         QCPDataMap::const_iterator first = <a class="code" href="class_q_c_p_item_tracer.html#a2d70cf616b579563aa15f796dfc143ac">mGraph</a>-&gt;<a class="code" href="class_q_c_p_graph.html#a8f4c17d993df4759c7426db45b33fbc0">data</a>()-&gt;constBegin();
<a name="l14970"></a>14970         QCPDataMap::const_iterator last = <a class="code" href="class_q_c_p_item_tracer.html#a2d70cf616b579563aa15f796dfc143ac">mGraph</a>-&gt;<a class="code" href="class_q_c_p_graph.html#a8f4c17d993df4759c7426db45b33fbc0">data</a>()-&gt;constEnd()-1;
<a name="l14971"></a>14971         <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_tracer.html#a8fa20f2e9ee07d21fd7c8d30ba4702ca">mGraphKey</a> &lt; first.key())
<a name="l14972"></a>14972           <a class="code" href="class_q_c_p_item_tracer.html#a69917e2fdb2b3a929c196958feee7cbe">position</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(first.key(), first.value().value);
<a name="l14973"></a>14973         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_tracer.html#a8fa20f2e9ee07d21fd7c8d30ba4702ca">mGraphKey</a> &gt; last.key())
<a name="l14974"></a>14974           <a class="code" href="class_q_c_p_item_tracer.html#a69917e2fdb2b3a929c196958feee7cbe">position</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(last.key(), last.value().value);
<a name="l14975"></a>14975         <span class="keywordflow">else</span>
<a name="l14976"></a>14976         {
<a name="l14977"></a>14977           QCPDataMap::const_iterator it = first;
<a name="l14978"></a>14978           it = <a class="code" href="class_q_c_p_item_tracer.html#a2d70cf616b579563aa15f796dfc143ac">mGraph</a>-&gt;<a class="code" href="class_q_c_p_graph.html#a8f4c17d993df4759c7426db45b33fbc0">data</a>()-&gt;lowerBound(<a class="code" href="class_q_c_p_item_tracer.html#a8fa20f2e9ee07d21fd7c8d30ba4702ca">mGraphKey</a>);
<a name="l14979"></a>14979           <span class="keywordflow">if</span> (it != first) <span class="comment">// mGraphKey is somewhere between iterators</span>
<a name="l14980"></a>14980           {
<a name="l14981"></a>14981             QCPDataMap::const_iterator prevIt = it-1;
<a name="l14982"></a>14982             <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_tracer.html#afab37c22ad39f235921e86f93cd84595">mInterpolating</a>)
<a name="l14983"></a>14983             {
<a name="l14984"></a>14984               <span class="comment">// interpolate between iterators around mGraphKey:</span>
<a name="l14985"></a>14985               <span class="keywordtype">double</span> slope = (it.value().value-prevIt.value().value)/(it.key()-prevIt.key());
<a name="l14986"></a>14986               <a class="code" href="class_q_c_p_item_tracer.html#a69917e2fdb2b3a929c196958feee7cbe">position</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(<a class="code" href="class_q_c_p_item_tracer.html#a8fa20f2e9ee07d21fd7c8d30ba4702ca">mGraphKey</a>, (<a class="code" href="class_q_c_p_item_tracer.html#a8fa20f2e9ee07d21fd7c8d30ba4702ca">mGraphKey</a>-prevIt.key())*slope+prevIt.value().value);
<a name="l14987"></a>14987             } <span class="keywordflow">else</span>
<a name="l14988"></a>14988             {
<a name="l14989"></a>14989               <span class="comment">// find iterator with key closest to mGraphKey:</span>
<a name="l14990"></a>14990               <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_tracer.html#a8fa20f2e9ee07d21fd7c8d30ba4702ca">mGraphKey</a> &lt; (prevIt.key()+it.key())*0.5)
<a name="l14991"></a>14991                 it = prevIt;
<a name="l14992"></a>14992               <a class="code" href="class_q_c_p_item_tracer.html#a69917e2fdb2b3a929c196958feee7cbe">position</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(it.key(), it.value().value);
<a name="l14993"></a>14993             }
<a name="l14994"></a>14994           } <span class="keywordflow">else</span> <span class="comment">// mGraphKey is exactly on first iterator</span>
<a name="l14995"></a>14995             <a class="code" href="class_q_c_p_item_tracer.html#a69917e2fdb2b3a929c196958feee7cbe">position</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(it.key(), it.value().value);
<a name="l14996"></a>14996         }
<a name="l14997"></a>14997       } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_q_c_p_item_tracer.html#a2d70cf616b579563aa15f796dfc143ac">mGraph</a>-&gt;<a class="code" href="class_q_c_p_graph.html#a8f4c17d993df4759c7426db45b33fbc0">data</a>()-&gt;size() == 1)
<a name="l14998"></a>14998       {
<a name="l14999"></a>14999         QCPDataMap::const_iterator it = <a class="code" href="class_q_c_p_item_tracer.html#a2d70cf616b579563aa15f796dfc143ac">mGraph</a>-&gt;<a class="code" href="class_q_c_p_graph.html#a8f4c17d993df4759c7426db45b33fbc0">data</a>()-&gt;constBegin();
<a name="l15000"></a>15000         <a class="code" href="class_q_c_p_item_tracer.html#a69917e2fdb2b3a929c196958feee7cbe">position</a>-&gt;<a class="code" href="class_q_c_p_item_position.html#aa988ba4e87ab684c9021017dcaba945f">setCoords</a>(it.key(), it.value().value);
<a name="l15001"></a>15001       } <span class="keywordflow">else</span>
<a name="l15002"></a>15002         qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;graph has no data&quot;</span>;
<a name="l15003"></a>15003     } <span class="keywordflow">else</span>
<a name="l15004"></a>15004       qDebug() &lt;&lt; Q_FUNC_INFO &lt;&lt; <span class="stringliteral">&quot;graph not contained in QCustomPlot instance (anymore)&quot;</span>;
<a name="l15005"></a>15005   }
<a name="l15006"></a>15006 }
<a name="l15007"></a>15007 
<a name="l15013"></a><a class="code" href="class_q_c_p_item_tracer.html#af87132b7698d5bb35c96a8a0b9e7180e">15013</a> QPen <a class="code" href="class_q_c_p_item_tracer.html#af87132b7698d5bb35c96a8a0b9e7180e">QCPItemTracer::mainPen</a>()<span class="keyword"> const</span>
<a name="l15014"></a>15014 <span class="keyword"></span>{
<a name="l15015"></a>15015   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#a4bdb3457dad1d268c0f78a44152b9645">mSelected</a> ? <a class="code" href="class_q_c_p_item_tracer.html#a3f61829784200819661d1e2a5354d866">mSelectedPen</a> : <a class="code" href="class_q_c_p_item_tracer.html#a579e3bd6bd16d6aaff03638dc8a99a69">mPen</a>;
<a name="l15016"></a>15016 }
<a name="l15017"></a>15017 
<a name="l15023"></a><a class="code" href="class_q_c_p_item_tracer.html#aaf4e72e2d87f53279b9f9ba624961bf5">15023</a> QBrush <a class="code" href="class_q_c_p_item_tracer.html#aaf4e72e2d87f53279b9f9ba624961bf5">QCPItemTracer::mainBrush</a>()<span class="keyword"> const</span>
<a name="l15024"></a>15024 <span class="keyword"></span>{
<a name="l15025"></a>15025   <span class="keywordflow">return</span> <a class="code" href="class_q_c_p_abstract_item.html#a4bdb3457dad1d268c0f78a44152b9645">mSelected</a> ? <a class="code" href="class_q_c_p_item_tracer.html#a1c15d2adde40efdcc0ef1ff78fd256a6">mSelectedBrush</a> : <a class="code" href="class_q_c_p_item_tracer.html#a6597be63a17a266233941354200b2340">mBrush</a>;
<a name="l15026"></a>15026 }
<a name="l15027"></a>15027 
<a name="l15028"></a>15028 
<a name="l15029"></a>15029 
<a name="l15030"></a>15030 
<a name="l15031"></a>15031 
<a name="l15032"></a>15032 
<a name="l15033"></a>15033 
</pre></div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="qcustomplot_8cpp.html">qcustomplot.cpp</a>      </li>

    <li class="footer">Generated on Thu Jan 24 2013 00:06:05 for Epoch by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
